<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SwustOJ - 在线编程学习平台</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
    }

    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
    
    body {
      background-color: #e8f0ff;
      background-image:
        linear-gradient(135deg,
          rgba(210, 235, 255, 0.95) 0%,
          rgba(195, 225, 255, 0.93) 20%,
          rgba(180, 215, 252, 0.91) 35%,
          rgba(165, 205, 250, 0.9) 50%,
          rgba(185, 215, 250, 0.85) 65%,
          rgba(205, 225, 250, 0.8) 80%,
          rgba(215, 235, 250, 0.7) 100%),
        url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%233498db' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
      background-attachment: fixed;
      color: #2d3748;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      position: relative;
      overflow-x: hidden;
      padding-top: 60px;
    }
    
    .page-content {
      flex: 1 0 auto;
    }
    
    /* 添加一个悬浮的背景动画效果 */
    body::before, body::after {
      content: "";
      position: fixed;
      width: 300px;
      height: 300px;
      border-radius: 50%;
      pointer-events: none;
      z-index: -1;
      animation: float 25s infinite linear;
      opacity: 0.3;
    }
    
    body::before {
      background: radial-gradient(circle, rgba(52, 152, 219, 0.3) 0%, rgba(52, 152, 219, 0) 70%);
      top: 10%;
      left: 10%;
      animation-delay: 0s;
    }
    
    body::after {
      background: radial-gradient(circle, rgba(255, 204, 240, 0.3) 0%, rgba(255, 204, 240, 0) 70%);
      bottom: 10%;
      right: 10%;
      animation-delay: -12.5s;
    }
    
    @keyframes float {
      0% {
        transform: translate(0, 0) scale(1);
      }
      25% {
        transform: translate(10%, 15%) scale(1.1);
      }
      50% {
        transform: translate(5%, -5%) scale(0.9);
      }
      75% {
        transform: translate(-10%, 5%) scale(1.05);
      }
      100% {
        transform: translate(0, 0) scale(1);
      }
    }
    

    
    /* 更新英雄区域以匹配新背景 */
    .hero {
      background-color: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(226, 232, 240, 0.5);
      padding: 60px 40px;
      position: relative;
      overflow: hidden;
    }
    
    .hero::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0) 100%);
      z-index: 0;
      pointer-events: none;
    }
    
    /* 更新推荐区域背景 */
    .recommendations {
      background-color: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(8px);
      padding: 60px 0;
      border-top: 1px solid rgba(226, 232, 240, 0.5);
      position: relative;
      overflow: hidden;
    }
    
    .recommendations::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, rgba(208, 228, 255, 0.2) 0%, rgba(255, 232, 252, 0.2) 100%);
      z-index: 0;
      pointer-events: none;
    }
    
    /* 更新竞赛日历区域背景 */
    /* 两栏布局样式 */
    .two-column-layout {
      display: flex;
      flex-direction: row;
      gap: 30px;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    .two-column-section {
      width: 50%;
      flex: 1;
    }
    
    .two-column-section .container {
      padding: 0;
      width: 100%;
      max-width: none;
    }
    
    .problems-grid-vertical {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    .problems-grid-vertical .problem-card {
      width: 100%;
    }
    
    .problems-footer {
      margin-top: 20px;
      text-align: center;
    }
    
    .view-all-problems {
      color: #3498db;
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      transition: all 0.2s;
    }
    
    .view-all-problems:hover {
      color: #2980b9;
    }
    
    .view-all-problems .arrow {
      margin-left: 5px;
      transition: transform 0.2s;
    }
    
    .view-all-problems:hover .arrow {
      transform: translateX(5px);
    }
    
    /* 响应式布局 */
    @media (max-width: 900px) {
      .two-column-layout {
        flex-direction: column;
      }
      
      .two-column-section {
        width: 100%;
      }
      
      .contest-calendar, .hot-problems {
        padding: 40px 0;
      }
    }
    
    .contest-calendar {
      background-color: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(8px);
      padding: 60px 0;
      border-top: 1px solid rgba(226, 232, 240, 0.5);
      position: relative;
      overflow: hidden;
    }
    
    .hot-problems {
      background-color: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(8px);
      padding: 60px 0;
      border-top: 1px solid rgba(226, 232, 240, 0.5);
      position: relative;
      overflow: hidden;
    }
    
    .contest-calendar::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(255, 232, 252, 0.2) 0%, rgba(208, 228, 255, 0.2) 100%);
      z-index: 0;
      pointer-events: none;
    }
    
    /* 确保所有内容层都在背景效果之上 */
    .hero-container, .recommendations-container, .container {
      position: relative;
      z-index: 1;
    }
    
    /* 学习计划和每日一题区域的背景更新 */
    .study-daily-section {
      background-color: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(5px);
      padding: 12px 0 100px 0; /* 大幅增加下边距，确保完全包含社区讨论 */
      border-top: 1px solid rgba(226, 232, 240, 0.5);
      margin-bottom: 80px; /* 进一步增加底部外边距 */
    }
    
    .study-daily-section::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(225deg, rgba(208, 228, 255, 0.2) 0%, rgba(255, 232, 252, 0.2) 100%);
      z-index: 0;
      pointer-events: none;
    }

    /* 导航栏 */
    .navbar {
      background-color: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(10px);
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
      height: 60px;
      display: flex;
      align-items: center;
      padding: 0 20px;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      width: 100%;
      z-index: 1000;
    }

    .container {
      max-width: 1200px;
      width: 100%;
      margin: 0 auto;
      padding: 0 20px;
    }

    .navbar-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
    }

    .logo {
      display: flex;
      align-items: center;
      text-decoration: none;
    }
    
    .logo-img {
      width: 40px;
      height: 40px;
      margin-right: 10px;
      object-fit: contain;
    }

    .welcome-text {
      font-size: 18px;
      font-weight: 600;
      color: #2c3e50;
    }

    .nav-links {
      display: flex;
      align-items: center;
    }

    .nav-link {
      text-decoration: none;
      color: #4a5568;
      font-size: 14px;
      font-weight: 500;
      margin: 0 12px;
      padding: 8px 2px;
    }

    .nav-link:hover,
    .nav-link.active {
      color: #3498db;
    }
    
    /* 搜索图标和搜索框样式 */
    .nav-tools {
      display: flex;
      align-items: center;
      margin-right: 15px;
      position: relative;
    }
    
    .search-icon {
      font-size: 18px;
      color: #4a5568;
      cursor: pointer;
      padding: 5px;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }
    
    .search-icon:hover {
      color: #3498db;
      background-color: rgba(52, 152, 219, 0.1);
    }
    
    .search-container {
      position: absolute;
      top: 100%;
      right: 0;
      width: 300px;
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
      padding: 12px;
      display: none;
      z-index: 1000;
      border: 1px solid rgba(226, 232, 240, 0.8);
      transform-origin: top right;
      transition: transform 0.3s ease, opacity 0.3s ease;
      transform: scale(0.95);
      opacity: 0;
    }
    
    .search-container.show {
      display: flex;
      transform: scale(1);
      opacity: 1;
    }
    
    .search-input {
      flex: 1;
      border: 1px solid #e2e8f0;
      border-radius: 4px;
      padding: 8px 12px;
      font-size: 14px;
      outline: none;
      transition: border-color 0.2s;
    }
    
    .search-input:focus {
      border-color: #3498db;
      box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.1);
    }
    
    .search-btn {
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      border: none;
      color: white;
      padding: 8px 12px;
      margin-left: 8px;
      border-radius: 4px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .search-btn:hover {
      box-shadow: 0 2px 8px rgba(79, 172, 254, 0.4);
      transform: translateY(-1px);
    }

    .user-avatar {
      margin-left: 8px;
      display: flex;
      align-items: center;
      position: relative;
      cursor: pointer;
    }
    
    .username {
      font-size: 14px;
      font-weight: 500;
      color: #2c3e50;
      margin-right: 8px;
    }
    
    .avatar-img {
      width: 38px;
      height: 38px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid #3498db;
      padding: 0;
    }
    
    .user-dropdown {
      position: absolute;
      top: 100%;
      right: 0;
      width: 150px;
      background-color: white;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
      border-radius: 8px;
      z-index: 1000;
      display: none;
      margin-top: 10px;
      overflow: hidden;
      border: 1px solid rgba(226, 232, 240, 0.8);
      transform-origin: top right;
      transition: transform 0.2s ease, opacity 0.2s ease;
      transform: scale(0.95);
      opacity: 0;
    }
    
    /* Dropdown will now be controlled by JavaScript instead of hover */
    .user-dropdown.show {
      display: block;
      transform: scale(1);
      opacity: 1;
    }
    
    /* 日历标记弹窗样式 */
    .calendar-mark-modal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    
    .calendar-mark-form {
      background-color: white;
      border-radius: 8px;
      padding: 20px;
      width: 300px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      animation: fadeIn 0.3s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .calendar-mark-form h3 {
      margin: 0 0 15px;
      color: #2c3e50;
      font-size: 16px;
      border-bottom: 1px solid #e2e8f0;
      padding-bottom: 10px;
    }
    
    .form-group {
      margin-bottom: 15px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-size: 14px;
      color: #4a5568;
    }
    
    .form-group input,
    .form-group select {
      width: 100%;
      padding: 8px 10px;
      border: 1px solid #e2e8f0;
      border-radius: 4px;
      font-size: 14px;
    }
    
    .form-buttons {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
      margin-top: 20px;
    }
    
    .form-buttons button {
      padding: 8px 15px;
      border: none;
      border-radius: 4px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .btn-save {
      background-color: #3498db;
      color: white;
    }
    
    .btn-save:hover {
      background-color: #2980b9;
    }
    
    .btn-cancel,
    .btn-close {
      background-color: #e2e8f0;
      color: #4a5568;
    }
    
    .btn-cancel:hover,
    .btn-close:hover {
      background-color: #cbd5e0;
    }
    
    .btn-delete {
      background-color: #f56565;
      color: white;
    }
    
    .btn-delete:hover {
      background-color: #e53e3e;
    }
    
    .btn-edit {
      background-color: #3498db;
      color: white;
    }
    
    .btn-edit:hover {
      background-color: #2980b9;
    }
    
    .mark-info {
      font-size: 16px;
      margin-bottom: 10px;
      color: #2d3748;
      font-weight: 500;
    }
    
    .mark-type {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 12px;
      font-size: 12px;
      margin-bottom: 15px;
    }
    
    .mark-type.contest {
      background-color: rgba(245, 101, 101, 0.1);
      color: #f56565;
    }
    
    .mark-type.deadline {
      background-color: rgba(246, 173, 85, 0.1);
      color: #f6ad55;
    }
    
    .mark-type.homework {
      background-color: rgba(72, 187, 120, 0.1);
      color: #48bb78;
    }
    
    .mark-type.note {
      background-color: rgba(66, 153, 225, 0.1);
      color: #4299e1;
    }
    
    /* 添加小箭头指向头像 */
    .user-dropdown::before {
      content: "";
      position: absolute;
      top: -6px;
      right: 16px;
      border-left: 6px solid transparent;
      border-right: 6px solid transparent;
      border-bottom: 6px solid white;
    }
    
    .dropdown-item {
      padding: 12px 15px;
      color: #4a5568;
      font-size: 14px;
      text-decoration: none;
      display: block;
      text-align: center;
      transition: all 0.2s;
      font-weight: 500;
    }
    
    .dropdown-item:hover {
      background-color: rgba(52, 152, 219, 0.1);
      color: #3498db;
    }
    
    .dropdown-divider {
      height: 1px;
      background-color: rgba(226, 232, 240, 0.8);
      margin: 0;
    }
    
    .auth-buttons {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn {
      padding: 6px 12px;
      border-radius: 4px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.2s ease;
    }

    .btn-outline {
      border: 1px solid #3498db;
      color: #3498db;
      background-color: transparent;
    }

    .btn-outline:hover {
      background-color: rgba(52, 152, 219, 0.05);
    }

    .btn-primary {
      background-color: #3498db;
      color: white;
      border: none;
    }

    .btn-primary:hover {
      background-color: #2980b9;
    }

    /* 英雄区域 */
    .hero {
      background-color: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(5px);
      border-bottom: 1px solid rgba(226, 232, 240, 0.5);
      padding: 30px 0;
    }

    .hero-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 0;
    }

    .hero-content {
      max-width: 550px;
    }

    .hero-title {
      font-size: 2.2rem;
      font-weight: 700;
      color: #2c3e50;
      margin-bottom: 16px;
      line-height: 1.2;
    }

    .hero-description {
      font-size: 1rem;
      color: #4a5568;
      margin-bottom: 24px;
      line-height: 1.6;
    }

    .hero-buttons {
      display: flex;
      gap: 12px;
    }

    .hero-buttons .btn {
      padding: 10px 20px;
      font-size: 16px;
    }

    .hero-image {
      flex-shrink: 0;
      width: 350px; /* 减小日历宽度 */
      height: 255px; /* 减小高度以适应减少的一行 */
      background-color: transparent;
      backdrop-filter: blur(5px);
      border-radius: 12px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 0;
      box-shadow: none;
      align-self: flex-start;
      margin-left: auto; /* 将日历推到右侧 */
      margin-right: -20px; /* 减小负边距，让日历向轮播图方向移动 */
    }
    
    /* 调整推荐卡片和每日一题卡片之间的间距 */
    .daily-challenge-card + .daily-challenge-card {
      margin-top: 25px;
    }
    
    /* 英雄区轮播图样式 */
    .hero-slideshow {
      flex-shrink: 0;
      width: 768px; /* 增加约1毫米(~4px)宽度 */
      height: 250px;
      position: relative;
      background-color: rgba(248, 249, 250, 0.7);
      backdrop-filter: blur(5px);
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
      margin-right: 0;
      align-self: flex-start;
      left: 0;
    }

    .slideshow-container {
      width: 100%;
      height: 100%;
      position: relative;
    }

    .slide {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 0;
      transition: opacity 1s ease-in-out;
      object-fit: cover;
    }

    .slide.active {
      opacity: 1;
    }

    .slide-controls {
      position: absolute;
      bottom: 15px;
      left: 0;
      right: 0;
      display: flex;
      justify-content: center;
      gap: 10px;
      z-index: 10;
    }

    .slide-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.5);
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .slide-dot.active {
      background-color: #3498db;
    }

    .prev-btn, .next-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background-color: rgba(255, 255, 255, 0.3);
      color: #3498db;
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      font-size: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 10;
      transition: background-color 0.3s ease;
    }

    .prev-btn {
      left: 10px;
    }

    .next-btn {
      right: 10px;
    }

    .prev-btn:hover, .next-btn:hover {
      background-color: rgba(255, 255, 255, 0.6);
    }
    
    /* 时钟和日历样式 */
    .clock-container {
      width: 100%;
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      color: white;
      padding: 5px 0; /* 减小内边距 */
      text-align: center;
      border-top-left-radius: 12px;
      border-top-right-radius: 12px;
      box-shadow: 0 2px 10px rgba(79, 172, 254, 0.3);
    }
    
    .clock-time {
      font-size: 1.6rem; /* 减小字体大小 */
      font-weight: 700;
      line-height: 1;
      margin-bottom: 2px; /* 减小间距 */
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    }
    
    .clock-date {
      font-size: 0.8rem; /* 减小字体大小 */
      font-weight: 500;
      opacity: 0.9;
    }
    
    .calendar {
      width: 100%;
      height: 100%;
      min-height: 0; /* 移除最小高度限制 */
      display: flex;
      flex-direction: column;
      background-color: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(10px);
      border-radius: 0 0 12px 12px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      border: 1px solid rgba(226, 232, 240, 0.8);
      border-top: none;
    }

    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 4px 10px; /* 适当增加上下内边距 */
      height: 34px; /* 调整为更合适的高度 */
      background-color: rgba(249, 250, 251, 0.8);
      border-bottom: 1px solid rgba(226, 232, 240, 0.5);
    }

    .current-month {
      font-size: 0.88rem; /* 适当调整字体大小 */
      font-weight: 600;
      color: #2c3e50;
      text-align: center;
      padding: 2px 10px; /* 适当增加内边距 */
      border-radius: 18px;
      background: rgba(52, 152, 219, 0.08);
    }

    .calendar-nav-btn {
      width: 16px; /* 减小按钮大小 */
      height: 16px; /* 减小按钮大小 */
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: #3498db;
      font-size: 12px; /* 增加字体大小使箭头更明显 */
      transition: all 0.3s ease;
      background: none;
      border: none;
      box-shadow: none;
    }
    
    .calendar-nav-btn:hover {
      background: rgba(52, 152, 219, 0.1);
      transform: translateY(-1px);
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
    
    .calendar-nav-btn:active {
      transform: translateY(0);
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    }

    .calendar-body {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 3px 8px 6px; /* 减小内边距 */
      min-height: 180px; /* 减小最小高度 */
      border-bottom-left-radius: 12px;
      border-bottom-right-radius: 12px;
    }

    .weekdays {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      text-align: center;
      font-weight: 600;
      color: #3498db;
      padding: 1px 0; /* 进一步减小内边距 */
      border-bottom: 1px solid rgba(226, 232, 240, 0.5);
    }

    .weekday {
      padding: 0px; /* 移除内边距 */
      font-size: 0.65rem; /* 进一步减小字体大小 */
    }

    .days {
      flex: 1;
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      grid-template-rows: repeat(5, 22px); /* 减少为5行，去掉一行 */
      gap: 1px; /* 减小间距 */
      padding: 3px 0; /* 减小上下内边距 */
      min-height: 110px; /* 相应调整最小高度 */
    }

    .day {
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 0.7rem; /* 减小字体大小 */
      color: #4a5568;
      height: 20px; /* 减小高度 */
      width: 20px; /* 减小宽度，保持正方形 */
      margin: 0 auto;
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.3s ease;
      box-sizing: border-box; /* 确保边框不会改变元素大小 */
      padding: 0; /* 移除内边距 */
    }
    
    .day:hover {
      background-color: rgba(52, 152, 219, 0.15);
      transform: translateY(-1px);
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }
    
    /* 标记日期悬停状态 */
    .day.marked:hover {
      transform: translateY(-1px) scale(1.05);
      border-width: 2px;
      z-index: 2;
    }

    .day.today {
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      color: white;
      font-weight: 600;
      box-shadow: 0 2px 6px rgba(79, 172, 254, 0.4);
      z-index: 1; /* 确保今天的日期始终在上层 */
    }

    .day.other-month {
      color: #cbd5e0;
      opacity: 0.6;
    }
    
    /* 标记日期样式 - 使用圆圈而不是圆点 */
    .day.marked {
      position: relative;
      border: 2px solid transparent;
      border-radius: 50%;
      box-sizing: border-box;
    }
    
    .day.marked.contest {
      border-color: #f56565;  /* 红色 - 竞赛 */
      background-color: rgba(245, 101, 101, 0.08);
    }
    
    .day.marked.deadline {
      border-color: #f6ad55;  /* 橙色 - 截止日期 */
      background-color: rgba(246, 173, 85, 0.08);
    }
    
    .day.marked.homework {
      border-color: #48bb78;  /* 绿色 - 作业 */
      background-color: rgba(72, 187, 120, 0.08);
    }
    
    .day.marked.note {
      border-color: #4299e1;  /* 蓝色 - 笔记 */
      background-color: rgba(66, 153, 225, 0.08);
    }
    
    /* 确保今天的样式优先级更高 */
    .day.today.marked {
      border-color: white;
      box-shadow: 0 0 0 2px #3498db;
    }

    /* 删除了日历底部相关样式 */

    .calendar-info span {
      color: #3498db;
      font-weight: 600;
      padding: 1px 4px;
      background: rgba(52, 152, 219, 0.08);
      border-radius: 8px;
    }

    /* 标题样式 */
    .section-header {
      text-align: center;
      margin-bottom: 40px;
    }

    .section-title {
      font-size: 1.8rem;
      font-weight: 600;
      color: #2c3e50;
      margin-bottom: 12px;
    }

    .section-subtitle {
      font-size: 1rem;
      color: #4a5568;
      max-width: 600px;
      margin: 0 auto;
    }
    
    /* 确保学习计划和每日一题标题对齐 */
    .study-plans-column .section-header,
    .daily-challenge-column .section-header {
      height: 100px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    /* 推荐区域 */
    .recommendations {
      background-color: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(5px);
      padding: 60px 0;
      border-top: 1px solid rgba(226, 232, 240, 0.5);
    }

    .recommendations-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    .problems-preview {
      margin-top: 30px;
    }

    .problems-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }

    .problems-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: #2c3e50;
    }

    .view-all {
      color: #3498db;
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
    }

    .view-all:hover {
      text-decoration: underline;
    }

    .problems-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 16px;
    }

    .problem-card {
      background-color: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(5px);
      border: 1px solid rgba(226, 232, 240, 0.5);
      border-radius: 8px;
      padding: 16px;
      transition: box-shadow 0.2s ease;
    }

    .problem-card:hover {
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }

    .problem-difficulty {
      display: inline-block;
      font-size: 12px;
      padding: 2px 8px;
      border-radius: 10px;
      margin-bottom: 10px;
    }

    .difficulty-easy {
      background-color: rgba(92, 184, 92, 0.1);
      color: #5cb85c;
    }

    .difficulty-medium {
      background-color: rgba(240, 173, 78, 0.1);
      color: #f0ad4e;
    }

    .difficulty-hard {
      background-color: rgba(217, 83, 79, 0.1);
      color: #d9534f;
    }

    .problem-name {
      font-size: 1rem;
      font-weight: 600;
      color: #2c3e50;
      margin-bottom: 10px;
      display: block;
      text-decoration: none;
    }

    .problem-name:hover {
      color: #3498db;
    }

    .problem-info {
      font-size: 0.8rem;
      color: #4a5568;
    }

    /* 页脚已移除 */

    /* 媒体查询 */
    @media (max-width: 992px) {
      .hero-container {
        flex-direction: column;
        text-align: center;
      }

      .hero-content {
        max-width: 100%;
        margin-bottom: 30px;
      }

      .hero-buttons {
        justify-content: center;
      }

      .hero-image {
        width: 100%;
        max-width: 400px; /* 与每日一题宽度一致 */
        margin: 0 auto 30px;
      }
      
      .hero-slideshow {
        width: 100%;
        max-width: 800px; /* 与学习计划栏宽度保持一致 */
        margin: 0 auto 30px;
        margin-right: 0;
      }
    }

    @media (max-width: 768px) {
      .navbar {
        height: auto;
        padding: 15px 0;
      }

      .navbar-container {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
      }

      .nav-links {
        width: 100%;
        overflow-x: auto;
        padding-bottom: 5px;
      }
      
      .user-avatar {
        margin-left: 5px;
      }

      .auth-buttons {
        width: 100%;
        justify-content: flex-end;
      }

      /* 页脚相关样式已移除 */
    }

    /* 弹窗样式 */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1000;
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s, visibility 0.3s;
    }

    .modal-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .modal {
      background-color: #ffffff; /* 改为纯白色背景 */
      width: 400px;
      border-radius: 8px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
      padding: 40px;
      position: relative;
      transform: translateY(-20px);
      transition: transform 0.3s;
    }
    
    /* 较小的弹窗 */
    .modal-small {
      width: 360px;
      padding: 30px;
      background-color: #ffffff; /* 确保小弹窗也是白色背景 */
    }
    
    .modal-small .modal-logo {
      width: 50px;
      height: 50px;
      margin-bottom: 10px;
    }
    
    .modal-small .modal-header {
      margin-bottom: 15px;
    }
    
    .modal-small .form-group {
      margin-bottom: 12px;
    }
    
    .modal-small input {
      padding: 8px 10px;
      font-size: 13px;
    }
    
    .modal-small label {
      font-size: 13px;
      margin-bottom: 3px;
    }
    
    .modal-small .submit-btn {
        margin-top: 15px;
      padding: 8px 0;
    }
    
    .modal-small .verification-row button {
      padding: 8px 10px;
      font-size: 12px;
    }
    
    .modal-small .instruction-text {
      font-size: 13px;
      margin-bottom: 15px;
    }

    .modal-overlay.active .modal {
      transform: translateY(0);
    }

    .modal-close {
      position: absolute;
      top: 15px;
      right: 15px;
      font-size: 24px;
      color: #a0aec0;
      cursor: pointer;
      background: none;
      border: none;
      padding: 0;
      line-height: 1;
    }

    .modal-header {
      text-align: center;
      margin-bottom: 30px;
      display: flex;
        flex-direction: column;
        align-items: center;
    }

    .modal-logo {
      width: 60px;
      height: 60px;
      margin-bottom: 15px;
      display: block;
    }

    .modal-header h2 {
      color: #2c3e50;
      font-size: 24px;
      font-weight: 600;
    }

    .modal-title {
      color: #3498db;
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 5px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      color: #4a5568;
      font-size: 14px;
      font-weight: 500;
    }

    .form-control {
      width: 100%;
      height: 40px;
      padding: 8px 16px;
      border: 1px solid rgba(226, 232, 240, 0.5);
      border-radius: 4px;
      font-size: 14px;
      color: #2d3748;
      transition: border-color 0.2s ease;
      background-color: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(5px);
    }

    .form-control:focus {
      outline: none;
      border-color: #3498db;
    }

    .verification-row {
      display: flex;
      gap: 12px;
    }

    .verification-row .form-control {
      flex-grow: 1;
    }

    .verification-row button {
      width: 120px;
      height: 40px;
      background-color: #3498db;
      border: none;
      border-radius: 4px;
      color: white;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }

    .verification-row button:hover {
      background-color: #2980b9;
    }

    .submit-btn {
      width: 100%;
      height: 44px;
      background-color: #3498db;
      border: none;
      border-radius: 4px;
      color: white;
      font-size: 16px;
      font-weight: 500;
      cursor: pointer;
      margin-top: 15px;
      transition: background-color 0.2s ease;
    }

    .submit-btn:hover {
      background-color: #2980b9;
    }

    .auth-footer {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
      font-size: 14px;
      color: #4a5568;
    }

    .auth-footer a,
    .login-link a,
    .modal-switch {
      color: #3498db;
      text-decoration: none;
      font-weight: 500;
      cursor: pointer;
    }

    .auth-footer a:hover,
    .login-link a:hover,
    .modal-switch:hover {
      text-decoration: underline;
    }

    .login-link {
      text-align: center;
      margin-top: 20px;
      font-size: 14px;
      color: #4a5568;
    }

    .instruction-text {
      text-align: center;
      margin-bottom: 25px;
      color: #4a5568;
      font-size: 14px;
      line-height: 1.5;
      padding: 0 5px;
      word-break: keep-all;
    }

    /* 扫码登录相关样式 */
    .login-tabs {
      display: flex;
      margin-bottom: 25px;
      border-bottom: 1px solid #e2e8f0;
    }

    .login-tab {
      flex: 1;
      text-align: center;
      padding: 12px 0;
      color: #4a5568;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      position: relative;
      transition: all 0.3s ease;
    }

    .login-tab.active {
      color: #3498db;
    }

    .login-tab.active::after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: 25%;
      width: 50%;
      height: 3px;
      background-color: #3498db;
      border-radius: 3px 3px 0 0;
      transition: all 0.3s ease;
    }

    .login-tab:hover:not(.active) {
      color: #2980b9;
      background-color: rgba(52, 152, 219, 0.05);
    }

    .login-content > div {
      display: none;
    }

    .login-content > div.active {
      display: block;
    }

    /* 扫码登录样式 */
    .qrcode-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px 0;
    }

    .qrcode {
      width: 180px;
      height: 180px;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      border-radius: 4px;
      overflow: hidden;
      border: 1px solid #e2e8f0;
    }

    .qrcode img {
      max-width: 100%;
      max-height: 100%;
    }

    .qrcode-info {
      text-align: center;
      color: #4a5568;
      font-size: 14px;
      line-height: 1.5;
    }

    .divider {
      display: flex;
      align-items: center;
      color: #8c98a4;
      font-size: 14px;
      margin: 20px 0;
    }

    .divider::before,
    .divider::after {
      content: "";
      flex: 1;
      height: 1px;
      background-color: #e2e8f0;
    }

    .divider::before {
      margin-right: 15px;
    }

    .divider::after {
      margin-left: 15px;
    }

         .auth-options {
       display: flex;
       justify-content: center;
       gap: 20px;
     }

     /* 认证选项样式 */
      .auth-option {
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(5px);
      border: 1px solid rgba(226, 232, 240, 0.5);
      cursor: pointer;
      transition: border-color 0.2s ease;
    }

    .auth-option:hover {
      border-color: #3498db;
      background-color: #f8f9fa;
    }

    .auth-option img {
      width: 24px;
      height: 24px;
      object-fit: contain;
    }

    /* 确保图标大小一致 */
    .auth-icon {
      width: 28px;
      height: 28px;
      display: block;
    }

    .oauth-section {
      margin-top: 30px;
      text-align: center;
    }

    .oauth-divider {
      display: flex;
      align-items: center;
      color: #8c98a4;
      font-size: 14px;
      margin-bottom: 20px;
    }

    .oauth-divider::before,
    .oauth-divider::after {
      content: "";
      flex: 1;
      height: 1px;
      background-color: #e2e8f0;
    }

    .oauth-divider::before {
      margin-right: 15px;
    }

    .oauth-divider::after {
      margin-left: 15px;
    }

    .oauth-buttons {
      display: flex;
      justify-content: center;
      gap: 20px;
    }

    .oauth-button {
      width: 45px;
      height: 45px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      border: 1px solid rgba(226, 232, 240, 0.5);
      background-color: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(5px);
      color: #4a5568;
      font-size: 20px;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .oauth-button:hover {
      border-color: #3498db;
      color: #3498db;
      background-color: rgba(52, 152, 219, 0.05);
    }

    .icon {
      display: inline-block;
      width: 20px;
      height: 20px;
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
    }

    .icon-dingtalk {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='currentColor' d='M12.09 1.28a10.21 10.21 0 0 0-10.24 10.18c0 5.64 4.59 10.24 10.23 10.24c5.65 0 10.24-4.6 10.24-10.24c0-5.64-4.59-10.18-10.23-10.18zm1.95 13.34H9.33c-.5 0-.9-.39-.9-.88c0-.49.4-.89.9-.89h1.86v-4h-1.19c-.5 0-.9-.4-.9-.89s.4-.89.9-.89h4.1c.5 0 .9.4.9.9c0 .48-.4.88-.9.88h-1.2v4.89h1.15c.5 0 .9.4.9.89c0 .49-.4.88-.9.88zm1.2-9.01l-3.25.93l-3.32-.93c-.42-.14-.85.22-.74.68l.13.48c.06.18.22.32.41.37l3.25.93c.17.05.35.05.53 0l3.25-.93c.18-.05.35-.19.41-.37l.13-.48c.1-.46-.33-.82-.74-.68z'/%3E%3C/svg%3E");
    }

    .icon-wechat {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='currentColor' d='M8.691 2c-1.612.073-5.604.614-7.02 3.636c-.958 1.995-.589 4.043.089 5.508c.803 1.73 2.253 3.047 3.76 3.93c-.268.712-.804 1.804-.536 2.679c.135.44.456.783.971.93c.9.223.82.223 1.031.223c.356 0 .713-.134 1.249-.491c1.159-.759 2.253-1.875 2.253-1.875s.134.179.356.357c.178.134.356.268.535.357c1.784 1.34 3.794 1.696 5.47 1.607c1.965-.089 3.705-.8 4.931-1.518c2.309-1.34 3.883-3.437 4.04-5.686c.18-2.59-1.518-5.091-3.883-6.342c-1.16-.58-2.675-.936-3.705-1.072c-.223-.044-.713-.089-1.16-.134C15.942 3.383 12.28 1.82 8.691 2m.178 5c.803 0 1.428.67 1.428 1.474c0 .803-.625 1.428-1.428 1.428c-.848 0-1.517-.625-1.517-1.428c0-.803.67-1.474 1.517-1.474zm6.877 0c.802 0 1.428.67 1.428 1.474c0 .803-.626 1.428-1.428 1.428c-.848 0-1.517-.625-1.517-1.428c0-.803.669-1.474 1.517-1.474zm-6.877 7.59c.4 0 .758.223 1.026.58c.223.313.402.759.402 1.25c0 .178-.45.312-.09.49c-.089-.044-.133-.089-.223-.178c-.357-.267-.714-.535-1.115-.535c-.445 0-.848.268-1.16.535c-.089.09-.134.134-.223.178c-.044-.178-.089-.312-.089-.49c0-.491.178-.937.401-1.25c.268-.357.625-.58 1.071-.58zm6.877 0c.401 0 .759.223 1.026.58c.223.313.401.759.401 1.25c0 .178-.044.312-.089.49c-.089-.044-.133-.089-.223-.178c-.356-.267-.714-.535-1.115-.535c-.445 0-.848.268-1.159.535c-.09.09-.134.134-.223.178c-.045-.178-.09-.312-.09-.49c0-.491.179-.937.402-1.25c.267-.357.625-.58 1.07-.58z'/%3E%3C/svg%3E");
    }
    /* 分页 */
    .pagination {
      display: flex;
      justify-content: center;
      margin-top: 40px;
    }

    .pagination-item {
      display: flex;
      align-items: center;
      justify-content: center;
      min-width: 38px;
      height: 38px;
      margin: 0 4px;
      border-radius: 4px;
      text-decoration: none;
      color: #4a5568;
      font-size: 14px;
      border: 1px solid rgba(226, 232, 240, 0.5);
      background-color: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(5px);
      padding: 0 12px;
    }

    .pagination-item:hover {
      border-color: #3498db;
      color: #3498db;
    }

    .pagination-item.active {
      background-color: rgba(52, 152, 219, 0.8);
      color: white;
      border-color: rgba(52, 152, 219, 0.8);
    }



    /* 以下是热门问题相关样式，不再使用 */
    /* 问题相关样式 */
    .popular-problems {
      margin-top: 60px;
    }

    .problem-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 24px;
      margin-bottom: 30px;
    }

    .problem-card {
      background-color: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(5px);
      border: 1px solid rgba(226, 232, 240, 0.5);
      border-radius: 8px;
      padding: 20px;
      position: relative;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .problem-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .problem-difficulty {
      position: absolute;
      top: 16px;
      right: 16px;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
    }

    .easy {
      background-color: rgba(72, 187, 120, 0.1);
      color: #48bb78;
      transition: all 0.2s ease;
    }
    
    .easy:hover {
      background-color: rgba(72, 187, 120, 0.2);
    }

    .medium {
      background-color: rgba(236, 201, 75, 0.1);
      color: #ecc94b;
      transition: all 0.2s ease;
    }
    
    .medium:hover {
      background-color: rgba(236, 201, 75, 0.2);
    }

    .hard {
      background-color: rgba(245, 101, 101, 0.1);
      color: #f56565;
      transition: all 0.2s ease;
    }
    
    .hard:hover {
      background-color: rgba(245, 101, 101, 0.2);
    }

    .problem-title {
      font-size: 18px;
      font-weight: 600;
      color: #2c3e50;
      margin-bottom: 12px;
      display: block;
      text-decoration: none;
    }

    .problem-title:hover {
      color: #3498db;
    }

    .problem-description {
      font-size: 14px;
      color: #4a5568;
      margin-bottom: 16px;
      line-height: 1.5;
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .problem-stats {
      display: flex;
      gap: 16px;
      margin-bottom: 16px;
    }

    .stat {
      font-size: 13px;
      color: #718096;
    }

    .stat-value {
      font-weight: 600;
      color: #4a5568;
    }

    .problem-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .tag {
      display: inline-block;
      padding: 2px 8px;
      background-color: rgba(52, 152, 219, 0.1);
      color: #3498db;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
    }
    /* 热门问题相关样式结束 */


    .qrcode-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px 0;
    }

    .divider {
      display: flex;
      align-items: center;
      color: #8c98a4;
      font-size: 14px;
      margin: 20px 0;
    }

    /* 每日一题卡片容器 */

    .daily-challenge-card {
      background-color: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(5px);
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
      border: 1px solid rgba(226, 232, 240, 0.5);
    }

    .daily-challenge-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
      padding-bottom: 6px;
      border-bottom: 1px solid rgba(226, 232, 240, 0.5);
    }

    .daily-challenge-title {
      font-size: 1rem;
      font-weight: 600;
      color: #2c3e50;
      display: flex;
      align-items: center;
    }

    .daily-challenge-title i {
      font-size: 1.4rem;
      margin-right: 8px;
      color: #3498db;
    }

    .daily-challenge-timer {
      display: flex;
      align-items: center;
      color: #4a5568;
      font-size: 0.9rem;
    }

    .daily-challenge-timer span {
      background-color: rgba(52, 152, 219, 0.1);
      padding: 5px 10px;
      border-radius: 4px;
      margin-left: 8px;
      font-weight: 600;
      color: #3498db;
    }

    .daily-challenge-content {
      margin-bottom: 25px;
    }

    .daily-challenge-problem {
      margin-bottom: 20px;
    }

    .daily-challenge-problem h3 {
      font-size: 1.3rem;
      font-weight: 600;
      color: #2c3e50;
      margin-bottom: 15px;
    }

    .problem-difficulty-tag {
      display: inline-block;
      padding: 3px 10px;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 500;
      margin-left: 10px;
    }

    .problem-difficulty-tag.easy {
      background-color: rgba(72, 187, 120, 0.1);
      color: #48bb78;
    }

    .problem-difficulty-tag.medium {
      background-color: rgba(236, 201, 75, 0.1);
      color: #ecc94b;
    }

    .problem-difficulty-tag.hard {
      background-color: rgba(245, 101, 101, 0.1);
      color: #f56565;
    }

    .daily-challenge-description {
      color: #4a5568;
      line-height: 1.6;
      margin-bottom: 20px;
    }

    .daily-challenge-example {
      background-color: rgba(226, 232, 240, 0.5);
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      font-family: "Courier New", monospace;
      font-size: 0.9rem;
      color: #2d3748;
    }

    .daily-challenge-actions {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .daily-challenge-stats {
      display: flex;
      gap: 20px;
      color: #4a5568;
      font-size: 0.9rem;
      justify-content: flex-end;
      width: 100%;
    }

    .daily-challenge-stat {
      display: flex;
      align-items: center;
    }

    .daily-challenge-stat i {
      margin-right: 5px;
      color: #3498db;
    }

    .daily-challenge-buttons {
      display: flex;
      gap: 10px;
    }

    .daily-challenge-btn {
      padding: 10px 20px;
      border-radius: 6px;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      min-width: 120px;
      text-align: center;
    }

    .btn-solve {
      background-color: #3498db;
      color: white;
      border: none;
      padding: 5px 12px;
      font-size: 0.8rem;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    .btn-solve:hover {
      background-color: #2980b9;
    }

    /* 学习计划卡片样式 */

    .study-plans-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 25px;
      margin-top: 40px;
    }

    .study-plan-card {
      background-color: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(5px);
      border-radius: 12px;
      padding: 16px;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      display: flex;
      flex-direction: column;
      cursor: pointer;
    }

    .study-plan-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 15px rgba(0, 0, 0, 0.12);
    }

    .study-plan-header {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid rgba(226, 232, 240, 0.5);
    }

    .study-plan-icon {
      width: 60px;
      height: 60px;
      margin-right: 16px;
      font-size: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, rgba(79, 172, 254, 0.15), rgba(0, 242, 254, 0.15));
      color: #3498db;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
      overflow: hidden;
    }

    .study-plan-title {
      font-size: 1.25rem;
      font-weight: 600;
      color: #2c3e50;
      margin: 0;
    }
    
    .study-plan-short-desc {
      font-size: 0.85rem;
      color: #718096;
      margin: 5px 0 0 0;
    }

    .study-plan-stats {
      display: flex;
      gap: 12px;
      font-size: 0.9rem;
      color: #4a5568;
    }

    .study-plan-stat {
      font-weight: 600;
      background-color: rgba(226, 232, 240, 0.7);
      padding: 4px 12px;
      border-radius: 20px;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
      transition: all 0.2s ease;
    }
    
    .study-plan-stat:hover {
      background-color: rgba(226, 232, 240, 0.9);
      transform: translateY(-1px);
    }

    .study-plan-difficulty {
      font-size: 12px;
      padding: 4px 12px;
      border-radius: 20px;
      font-weight: 600;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
      transition: transform 0.2s ease;
    }
    
    .study-plan-difficulty:hover {
      transform: translateY(-1px);
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .study-plan-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 20px;
      margin-top: auto;
    }

    .plan-tag {
      display: inline-block;
      padding: 5px 12px;
      background: linear-gradient(135deg, rgba(79, 172, 254, 0.1), rgba(0, 242, 254, 0.1));
      color: #3498db;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 500;
      transition: all 0.2s ease;
      border: 1px solid rgba(79, 172, 254, 0.2);
    }
    
    .plan-tag:hover {
      background: linear-gradient(135deg, rgba(79, 172, 254, 0.2), rgba(0, 242, 254, 0.2));
      transform: translateY(-1px);
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    .study-plan-progress {
      display: flex;
      align-items: center;
      margin-bottom: 18px;
    }

    .progress-bar {
      flex-grow: 1;
      height: 10px;
      background-color: rgba(226, 232, 240, 0.7);
      border-radius: 20px;
      overflow: hidden;
      box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
      position: relative;
    }

    .progress {
      height: 100%;
      background-image: linear-gradient(to right, #4facfe, #00f2fe);
      border-radius: 20px;
      transition: width 0.5s ease;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    }

    .progress-text {
      min-width: 70px;
      font-size: 0.9rem;
      color: #3498db;
      margin-left: 15px;
      font-weight: 600;
      text-align: right;
      background: rgba(255, 255, 255, 0.7);
      padding: 4px 10px;
      border-radius: 12px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }

    .study-plan-description {
      font-size: 0.95rem;
      color: #4a5568;
      line-height: 1.6;
      margin-bottom: 22px;
      flex-grow: 1;
      padding: 0 2px;
      border-left: 3px solid rgba(79, 172, 254, 0.3);
      padding-left: 12px;
      font-style: italic;
    }

    .study-plan-btn {
      width: 100%;
      padding: 12px 20px;
      background: linear-gradient(135deg, #4facfe, #00f2fe);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
      box-shadow: 0 3px 8px rgba(79, 172, 254, 0.3);
      margin-top: auto;
      position: relative;
      overflow: hidden;
      z-index: 1;
    }

    .study-plan-btn:hover {
      box-shadow: 0 5px 12px rgba(79, 172, 254, 0.5);
      transform: translateY(-2px);
    }
    
    .study-plan-btn:active {
      transform: translateY(0);
      box-shadow: 0 2px 5px rgba(79, 172, 254, 0.3);
    }
    
    .study-plan-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.7s ease;
      z-index: -1;
    }
    
    .study-plan-btn:hover::before {
      left: 100%;
    }

    .view-more-container {
      text-align: center;
      margin-top: 30px;
    }

    .view-more-btn {
      color: #3498db;
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      transition: color 0.2s ease;
    }

    .view-more-btn:hover {
      color: #2980b9;
    }

    .arrow {
      margin-left: 5px;
      transition: transform 0.2s ease;
    }

    .view-more-btn:hover .arrow {
      transform: translateX(5px);
    }

    /* 竞赛日历区域 */
    .contest-calendar {
      background-color: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(5px);
      padding: 60px 0;
      border-top: 1px solid rgba(226, 232, 240, 0.5);
    }

    .calendar-container {
      max-width: 100%;
      margin: 0;
      padding: 0;
    }

    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      background-color: rgba(255, 255, 255, 0.5);
      padding: 10px 15px;
      border-radius: 8px;
    }

    .calendar-month {
      font-size: 1.5rem;
      font-weight: 600;
      color: #2c3e50;
    }

    .calendar-nav-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(5px);
      border: 1px solid rgba(226, 232, 240, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .calendar-nav-btn:hover {
      color: #2980b9;
      transform: scale(1.1);
    }

    .arrow-left, .arrow-right {
      font-style: normal;
      color: #3498db;
    }

    .contest-list {
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-bottom: 0;
    }

    .contest-card {
      display: flex;
      background-color: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(5px);
      border-radius: 8px;
      padding: 15px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      border-left: 4px solid transparent;
      margin-bottom: 12px;
    }

    .contest-card.upcoming {
      border-left-color: #3498db;
    }

    .contest-card.past {
      border-left-color: #a0aec0;
      opacity: 0.8;
    }

    .contest-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .contest-date {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 60px;
      margin-right: 20px;
    }

    .contest-day {
      font-size: 1.8rem;
      font-weight: 700;
      color: #2c3e50;
    }

    .contest-month {
      font-size: 0.9rem;
      color: #4a5568;
    }

    .contest-info {
      flex: 1;
    }

    .contest-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: #2c3e50;
      margin-bottom: 5px;
    }

    .contest-time {
      font-size: 0.9rem;
      color: #3498db;
      font-weight: 500;
      margin-bottom: 10px;
    }

    .contest-details {
      display: flex;
      gap: 15px;
      font-size: 0.85rem;
      color: #4a5568;
    }

    .contest-details span {
      display: flex;
      align-items: center;
    }

    .icon {
      margin-right: 5px;
      font-style: normal;
    }

    .contest-actions {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      justify-content: space-between;
      min-width: 140px;
    }

    .contest-btn {
      padding: 8px 16px;
      background-color: #3498db;
      color: white;
      border: none;
      border-radius: 4px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }

    .contest-btn:hover {
      background-color: #2980b9;
    }

    .contest-btn.secondary {
      background-color: transparent;
      color: #3498db;
      border: 1px solid #3498db;
    }

    .contest-btn.secondary:hover {
      background-color: rgba(52, 152, 219, 0.05);
    }

    .contest-countdown {
      margin-top: 10px;
      text-align: right;
    }

    .countdown-label {
      font-size: 0.8rem;
      color: #4a5568;
    }

    .countdown-time {
      font-size: 0.9rem;
      font-weight: 600;
      color: #3498db;
    }

    .contest-result {
      margin-top: 10px;
      text-align: right;
    }

    .result-label {
      font-size: 0.8rem;
      color: #4a5568;
    }

    .result-rank {
      font-size: 0.9rem;
      font-weight: 600;
      color: #2c3e50;
    }

    .calendar-footer {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 15px 0 0;
      margin-top: 10px;
    }

    .calendar-info {
      font-size: 0.7rem;
      color: #4a5568;
      text-align: center;
    }

    .calendar-info span {
      color: #3498db;
      font-weight: 600;
      padding: 1px 4px;
      background: rgba(52, 152, 219, 0.08);
      border-radius: 8px;
    }

    .view-all-contests {
      color: #3498db;
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      transition: color 0.2s ease;
    }

    .view-all-contests:hover {
      color: #2980b9;
    }

    .view-all-contests .arrow {
      margin-left: 5px;
      transition: transform 0.2s ease;
    }

    .view-all-contests:hover .arrow {
      transform: translateX(5px);
    }

    /* 题目难度分布 */
    .difficulty-distribution {
      margin-top: 40px;
      padding: 20px;
      background-color: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(5px);
      border-radius: 8px;
    }

    .distribution-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .distribution-title {
      font-size: 1.5rem;
      font-weight: 600;
      color: #2c3e50;
    }

    .distribution-stats {
      display: flex;
      gap: 20px;
    }

    .total-problems, .solved-problems {
      font-size: 1.2rem;
      font-weight: 600;
      color: #4a5568;
    }

    .chart-row {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }

    .difficulty-label {
      width: 100px;
      font-weight: 600;
      color: #718096;
    }

    .chart-bar-container {
      flex: 1;
      height: 20px;
      background-color: rgba(226, 232, 240, 0.5);
      border-radius: 4px;
      overflow: hidden;
    }

    .chart-bar {
      height: 100%;
      background-color: #e2e8f0;
    }

    .chart-progress {
      height: 100%;
    }

    .chart-progress.easy {
      background-color: #48bb78;
    }

    .chart-progress.medium {
      background-color: #ecc94b;
    }

    .chart-progress.hard {
      background-color: #f56565;
    }

    .chart-stats {
      display: flex;
      width: 150px;
      margin-left: 15px;
    }

    .solved {
      font-size: 0.9rem;
      color: #4a5568;
      font-weight: 600;
    }

    .solved span {
      color: #3498db;
    }

    .total {
      font-size: 0.9rem;
      color: #718096;
      margin-left: 5px;
    }

    .distribution-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 20px;
      padding-top: 15px;
      border-top: 1px solid rgba(226, 232, 240, 0.5);
    }

    .progress-summary {
      font-size: 1rem;
      font-weight: 600;
      color: #2c3e50;
    }

    .progress-summary span {
      color: #3498db;
    }

    .solve-more-btn {
      display: inline-flex;
      align-items: center;
      color: #3498db;
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      transition: color 0.2s ease;
    }

    .solve-more-btn:hover {
      color: #2980b9;
    }

    /* 学习计划和每日一题并排布局 */
    .study-daily-section {
      background-color: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(5px);
      padding: 12px 0 100px 0; /* 大幅增加下边距，确保完全包含社区讨论 */
      margin-bottom: 0; /* 移除底部外边距 */
    }

    .study-daily-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      gap: 40px;
      align-items: flex-start;
      justify-content: space-between;
      min-height: 1000px; /* 进一步增加高度确保完全包含社区讨论区域 */
    }

    .study-plans-column {
      width: 768px; /* 与轮播图宽度保持一致 */
      display: flex;
      flex-direction: column;
      position: relative;
      left: 0; /* 确保与轮播图左侧对齐 */
    }
    
    .study-plans-title {
      display: flex;
      align-items: center;
      font-size: 1.2rem;
      font-weight: 600;
      color: #2c3e50;
      margin-bottom: 2px;
      padding-left: 16px; /* 与卡片内边距一致 */
    }
    
    .study-plans-title::after {
      content: "›";
      margin-left: 8px;
      color: #718096;
      font-size: 1.4rem;
      line-height: 1;
    }

    .daily-challenge-column {
      position: absolute;
      right: -240px; /* 增加距离，使每日一题远离暑期训练营 */
      width: 350px; /* 减小每日一题区域的宽度 */
      top: 26px; /* 向上移动约1毫米(4px) */
    }

    /* 更新学习计划卡片网格布局 */
    .study-plans-column .study-plans-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin-top: 10px;
      max-height: 600px;
      overflow-y: auto;
      padding-right: 5px;
    }

    /* 学习计划卡片在并排布局中的样式 */
    .study-plans-column .study-plan-card {
      background-color: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(5px);
      border-radius: 12px;
      padding: 16px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
      border: 1px solid rgba(226, 232, 240, 0.5);
      transition: transform 0.2s, box-shadow 0.2s;
      height: auto;
      display: flex;
      flex-direction: column;
      cursor: pointer;
    }

    .study-plans-column .study-plan-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    }
    
    .daily-challenge-column .daily-challenge-card:hover {
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    }

    /* 更新每日一题卡片样式 */
    .daily-challenge-column .daily-challenge-card {
      margin-top: 30px;
      display: flex;
      flex-direction: column;
      background-color: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(5px);
      border-radius: 12px;
      padding: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
      border: 1px solid rgba(226, 232, 240, 0.5);
      height: auto;
      min-height: 100px; /* 再次减少高度 */
      transition: box-shadow 0.2s;
      width: 90%; /* 减小每日一题卡片的宽度 */
      margin-left: auto; /* 使卡片右对齐 */
    }
    
    /* 复习提醒卡片独特样式 */
    .daily-challenge-column .daily-challenge-card:nth-child(2) {
      border-left: 3px solid #e74c3c; /* 添加红色左边框提醒标记 */
      background: linear-gradient(to right, rgba(255, 255, 255, 0.8), rgba(255, 245, 245, 0.7)); /* 略微偏暖色背景 */
    }
    
    .daily-challenge-content {
      flex-grow: 1;
      overflow: auto;
      padding: 3px 0;
    }
    
    .daily-challenge-description {
      margin-bottom: 5px;
    }
    
    .daily-challenge-example {
      margin-bottom: 30px;
    }
    
    .daily-challenge-actions {
      margin-top: auto;
      padding-top: 3px;
      display: flex;
      justify-content: flex-end;
    }

    @media (max-width: 992px) {
      .study-daily-container {
        flex-direction: column;
      }
      
      .study-plans-column,
      .daily-challenge-column {
        width: 100%;
        position: static;
        margin-right: 0;
        top: auto;
        left: auto;
      }
      
      /* 响应式布局下调整竞赛日历 */
      .contest-calendar .container {
        width: 100%;
        margin: 0 auto;
        padding: 0 20px;
      }
      
      .daily-challenge-column .daily-challenge-card {
        min-height: 350px; /* 再次减少高度 */
      }
      
      .study-plans-column .study-plans-grid {
        max-height: none;
      }
      
      .hero-image {
        width: 100%;
        max-width: 400px; /* 与每日一题卡片宽度保持一致 */
        margin-left: 0; /* 在小屏幕上取消自动右对齐 */
        margin-right: 0; /* 在小屏幕上取消偏移 */
      }
      
      .hero-slideshow {
        width: 100%;
        left: auto;
      }
    }

    /* 新增样式：统一学习计划和每日一题的布局 */
    .study-plan-stats-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      background: linear-gradient(135deg, rgba(249, 250, 251, 0.7), rgba(240, 245, 250, 0.7));
      padding: 12px 15px;
      border-radius: 10px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.03);
      border: 1px solid rgba(226, 232, 240, 0.5);
    }

    .daily-challenge-stats-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      margin-top: auto;
      padding-top: 20px;
      border-top: 1px solid rgba(226, 232, 240, 0.3);
    }

    .study-plan-progress {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }

    /* 新增样式：确保卡片容器与标题对齐 */
    .daily-challenge-column .daily-challenge-card {
      margin-top: 30px;
    }
    
    /* 调整两列的对齐方式 */
    .study-daily-container {
      align-items: flex-start;
    }
    
    /* 使两列底部对齐 */
    .study-plans-column,
    .daily-challenge-column {
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
    }
    
    /* 确保轮播图和学习计划左右边界对齐 */
    .hero-container,
    .study-daily-container,
    .recommendations-container,
    .container,
    .calendar-container {
      max-width: 1200px;
      margin-left: auto;
      margin-right: auto;
      padding-left: 20px;
      padding-right: 20px;
      position: relative;
    }
    
    /* 确保日历和每日一题右侧边缘对齐 */
    .hero-container {
      display: flex;
      justify-content: space-between;
    }
    
    /* 调整轮播图与日历之间的间距 */
    .hero-slideshow {
      width: 800px; /* 恢复原来宽度 */
      margin-right: 0; /* 减少右侧间距，让轮播图向右延伸 */
      margin-left: 0; /* 确保左侧没有额外边距 */
    }
    
    /* 确保每日一题卡片右侧与日历右侧对齐 */
    .study-daily-container {
      position: relative;
      min-height: 600px; /* 减少空间以移除底部空白区域 */
    }
    
    .daily-challenge-column {
      position: absolute;
      right: 0; /* 使每日一题靠右对齐 */
      width: 400px;
      top: 0;
    }
    

    
    .study-plans-column {
      width: 800px; /* 恢复原来宽度 */
      flex: 0 0 auto;
      position: absolute;
      left: 0;
      margin-left: 0; /* 确保没有额外的左侧边距 */
    }
    
    /* 竞赛日历布局恢复 */
    .contest-calendar .container {
      width: 100%;
      margin-left: auto;
      margin-right: auto;
      padding: 0 20px;
    }
    
    /* 竞赛日历样式恢复 */
    .contest-calendar .contest-list {
      margin-top: 20px;
      overflow: auto;
    }
    
    .contest-calendar .section-header {
      display: block;
    }
    
    .contest-calendar .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      background-color: rgba(255, 255, 255, 0.5);
      padding: 10px 15px;
      border-radius: 8px;
    }

    .daily-challenge-content {
      margin-bottom: 25px;
    }

    .daily-challenge-problem-title {
      font-size: 0.95rem;
      font-weight: 600;
      color: #2c3e50;
      margin-bottom: 5px;
    }

    .daily-challenge-description {
      color: #4a5568;
      line-height: 1.3;
      font-size: 0.85rem;
    }

    .daily-challenge-problem {
      margin-bottom: 20px;
    }
    
    /* 最新公告区域样式 */
    .announcements-section {
      background-color: transparent;
      padding: 0;
      margin-top: 0;
    }
    
    .announcements-container {
      max-width: 800px;
      margin: 0;
      padding: 0;
    }
    
    .announcements-title {
      display: flex;
      align-items: center;
      font-size: 1.2rem;
      font-weight: 600;
      color: #2c3e50;
      margin-bottom: 5px;
      padding-left: 16px; /* 与卡片内边距一致 */
    }
    
    .announcements-title::after {
      content: "›";
      margin-left: 8px;
      color: #718096;
      font-size: 1.4rem;
      line-height: 1;
    }
    
    .announcements-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin-top: 10px;
    }
    
    .announcement-card {
      background-color: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(5px);
      border-radius: 12px;
      padding: 16px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
      border: 1px solid rgba(226, 232, 240, 0.5);
      transition: transform 0.2s, box-shadow 0.2s;
      display: flex;
      flex-direction: column;
      height: auto;
    }
    
    .announcement-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    }
    
    .announcement-header {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 1px solid rgba(226, 232, 240, 0.5);
    }
    
    .announcement-icon {
      width: 40px;
      height: 40px;
      margin-right: 12px;
      font-size: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, rgba(79, 172, 254, 0.15), rgba(0, 242, 254, 0.15));
      color: #3498db;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    }
    
    .announcement-info {
      flex: 1;
    }
    
    .announcement-title {
      font-size: 1rem;
      font-weight: 600;
      color: #2c3e50;
      margin: 0 0 3px 0;
    }
    
    .announcement-date {
      font-size: 0.8rem;
      color: #718096;
    }
    
    .announcement-content {
      color: #4a5568;
      font-size: 0.9rem;
      line-height: 1.5;
      margin-bottom: 15px;
      flex-grow: 1;
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    
    .announcement-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: auto;
    }
    
    .announcement-tag {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 500;
    }
    
    .tag-important {
      background-color: rgba(245, 101, 101, 0.1);
      color: #f56565;
    }
    
    .tag-notice {
      background-color: rgba(66, 153, 225, 0.1);
      color: #4299e1;
    }
    
    .tag-update {
      background-color: rgba(72, 187, 120, 0.1);
      color: #48bb78;
    }
    
    .announcement-btn {
      width: 100%;
      padding: 8px 0;
      background: linear-gradient(135deg, #4facfe, #00f2fe);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
      box-shadow: 0 3px 8px rgba(79, 172, 254, 0.3);
      margin-top: auto;
      position: relative;
      overflow: hidden;
      z-index: 1;
      text-decoration: none;
      display: inline-block;
    }
    
    .announcement-btn:hover {
      box-shadow: 0 5px 12px rgba(79, 172, 254, 0.5);
      transform: translateY(-2px);
    }
    
    /* 社区讨论和实时排行榜区域样式 */
    .community-ranking-section {
      background-color: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(5px);
      padding: 50px 0;
      position: relative;
      overflow: hidden;
    }
    

    
    /* 讨论卡片样式 - 与学习计划卡片统一 */
    .discussion-plan-card {
      position: relative;
    }
    
    .discussion-stat {
      display: flex;
      align-items: center;
      font-size: 0.8rem;
      color: #8c8c8c;
    }
    
    .discussion-stat i {
      margin-right: 4px;
      font-size: 0.9rem;
    }
    
    /* 垂直排列的讨论卡片 */
    .discussion-vertical-grid {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-top: 15px;
    }
    
    .discussion-card {
      display: flex;
      background-color: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(5px);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 16px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
      border: 1px solid rgba(226, 232, 240, 0.5);
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .discussion-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
    }

    .discussion-avatar {
      margin-right: 12px;
      flex-shrink: 0;
    }

    .avatar-img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      object-fit: cover;
    }

    .discussion-content {
      flex: 1;
      min-width: 0;
    }

    .discussion-header {
      margin-bottom: 8px;
    }

    .user-info {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .username {
      font-weight: 600;
      color: #2c3e50;
      font-size: 14px;
    }

    .post-type {
      color: #718096;
      font-size: 13px;
    }

    .discussion-text {
      color: #4a5568;
      font-size: 14px;
      line-height: 1.5;
      margin-bottom: 12px;
    }

    .discussion-actions {
      display: flex;
      align-items: center;
      gap: 20px;
      position: relative;
    }

    .action-btn {
      display: flex;
      align-items: center;
      gap: 6px;
      background: none;
      border: none;
      color: #718096;
      font-size: 13px;
      cursor: pointer;
      padding: 4px 8px;
      border-radius: 6px;
      transition: all 0.2s ease;
    }

    .action-btn:hover {
      background-color: rgba(113, 128, 150, 0.1);
      color: #4a5568;
    }

    .action-btn.liked {
      color: #3498db;
    }

    .action-btn.starred {
      color: #f39c12;
    }

    .action-icon {
      font-size: 16px;
    }

    .action-count {
      font-size: 13px;
      font-weight: 500;
    }

    .more-actions {
      position: relative;
      margin-left: auto;
    }

    .more-btn {
      background: none;
      border: none;
      color: #718096;
      cursor: pointer;
      padding: 4px 8px;
      border-radius: 6px;
      transition: all 0.2s ease;
    }

    .more-btn:hover {
      background-color: rgba(113, 128, 150, 0.1);
      color: #4a5568;
    }

    .more-dots {
      font-size: 16px;
      font-weight: bold;
    }

    .more-menu {
      position: absolute;
      top: 100%;
      right: 0;
      background-color: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(226, 232, 240, 0.5);
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      min-width: 120px;
      z-index: 1000;
      display: none;
    }

    .more-menu.show {
      display: block;
    }

    .menu-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 12px;
      cursor: pointer;
      transition: background-color 0.2s ease;
      font-size: 14px;
    }

    .menu-item:hover {
      background-color: rgba(113, 128, 150, 0.1);
    }

    .menu-item:first-child {
      border-radius: 8px 8px 0 0;
    }

    .menu-item:last-child {
      border-radius: 0 0 8px 8px;
    }

    .menu-icon {
      font-size: 14px;
    }

    .menu-text {
      color: #4a5568;
      font-weight: 500;
    }

    .report-item:hover .menu-text {
      color: #e74c3c;
    }

    /* 举报模态框样式 */
    .report-modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(5px);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 10000;
    }

    .report-modal-overlay.show {
      display: flex;
    }

    .modal-content {
      background-color: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(226, 232, 240, 0.5);
      max-width: 500px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 24px 16px;
      border-bottom: 1px solid rgba(226, 232, 240, 0.5);
    }

    .modal-title {
      font-size: 18px;
      font-weight: 600;
      color: #2c3e50;
      margin: 0;
    }

    .modal-close {
      background: none;
      border: none;
      font-size: 24px;
      color: #718096;
      cursor: pointer;
      padding: 0;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 6px;
      transition: all 0.2s ease;
    }

    .modal-close:hover {
      background-color: rgba(113, 128, 150, 0.1);
      color: #4a5568;
    }

    .modal-body {
      padding: 20px 24px;
    }

    .report-reasons {
      margin-bottom: 20px;
    }

    .reason-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 0;
      border-bottom: 1px solid rgba(226, 232, 240, 0.3);
    }

    .reason-item:last-child {
      border-bottom: none;
    }

    .reason-item input[type="radio"] {
      margin: 0;
    }

    .reason-item label {
      color: #4a5568;
      font-size: 14px;
      cursor: pointer;
      flex: 1;
    }

    .report-details {
      margin-top: 20px;
    }

    .report-details label {
      display: block;
      margin-bottom: 8px;
      color: #2c3e50;
      font-size: 14px;
      font-weight: 500;
    }

    .report-details textarea {
      width: 100%;
      min-height: 80px;
      padding: 10px 12px;
      background-color: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(5px);
      border: 1px solid rgba(226, 232, 240, 0.5);
      border-radius: 8px;
      font-size: 14px;
      color: #4a5568;
      resize: vertical;
      transition: all 0.2s ease;
    }

    .report-details textarea:focus {
      outline: none;
      border-color: #3498db;
      box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.1);
      background-color: rgba(255, 255, 255, 0.9);
    }

    .modal-footer {
      display: flex;
      justify-content: flex-end;
      gap: 12px;
      padding: 16px 24px 20px;
      border-top: 1px solid rgba(226, 232, 240, 0.5);
    }

    .btn-cancel, .btn-submit {
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      border: none;
    }

    .btn-cancel {
      background-color: rgba(113, 128, 150, 0.1);
      color: #4a5568;
    }

    .btn-cancel:hover {
      background-color: rgba(113, 128, 150, 0.2);
    }

    .btn-submit {
      background-color: #e74c3c;
      color: white;
    }

    .btn-submit:hover {
      background-color: #c0392b;
    }

    .discussion-header {
      display: flex;
      align-items: center;
      margin-bottom: 6px; /* 进一步减少底部间距 */
      padding-bottom: 3px; /* 减少内边距 */
    }
    
    /* 隐藏讨论图标 */
    .discussion-icon {
      display: none;
    }
    
    .discussion-info {
      flex: 1;
    }
    
    .discussion-title {
      font-size: 1rem; /* 减小标题字体大小 */
      font-weight: 600;
      color: #2c3e50;
      margin: 0;
    }
    
    .discussion-meta {
      margin-top: 2px; /* 减少顶部间距 */
    }
    
    .discussion-desc {
      margin: 3px 0 6px 0; /* 减少上下间距 */
      color: #4a5568;
      line-height: 1.3; /* 减小行高 */
      font-size: 0.85rem; /* 减小字体大小 */
      max-height: 2.6em; /* 限制描述高度为两行 */
      overflow: hidden;
      display: -webkit-box;
      -webkit-line-clamp: 2; /* 限制为两行文字 */
      -webkit-box-orient: vertical;
    }
    
        .discussion-footer {
      margin-top: auto;
      padding-top: 5px; /* 减少顶部内边距 */
      display: flex;
    }
    
    .discussion-stat {
      display: flex;
      align-items: center;
      font-size: 0.75rem; /* 减小字体大小 */
      color: #8c8c8c;
    }
    
    .like-stat, .reply-stat, .collect-stat {
      transition: color 0.3s ease;
      cursor: pointer;
    }
    
    .like-stat:hover .icon {
      color: #ff4d4f !important;
      text-shadow: 0 0 1px #ff4d4f;
    }
    
    .reply-stat:hover .icon {
      color: #1890ff !important;
      text-shadow: 0 0 1px #1890ff;
    }
    
    .collect-stat:hover .icon {
      color: #faad14 !important;
      text-shadow: 0 0 1px #faad14;
    }
    
    .like-stat.liked {
      color: #ff4d4f;
    }
    
    .like-stat.liked .like-icon {
      animation: likeAnimation 0.5s ease;
    }
    
    @keyframes likeAnimation {
      0% { transform: scale(1); }
      50% { transform: scale(1.3); }
      100% { transform: scale(1); }
    }
    
    /* 帖子标签样式 */
    .post-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin: 10px 0;
    }
    
    .post-tag {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 0.75rem;
      font-weight: 500;
      transition: all 0.2s ease;
    }
    
    .post-tag:hover {
      opacity: 0.8;
      transform: translateY(-1px);
    }
    


    /* 帖子操作样式 */
    .discussion-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .post-actions {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .report-btn {
      cursor: pointer;
      font-size: 0.9rem;
      color: #a0aec0;
      opacity: 0.6;
      transition: all 0.2s ease;
    }
    
          .report-btn:hover {
        color: #e53e3e;
        opacity: 1;
        background-color: rgba(229, 62, 62, 0.1);
      }
    


    /* 举报模态框样式 */
    .report-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 1100;
      align-items: center;
      justify-content: center;
    }
    
    .report-modal.show {
      display: flex;
    }
    
    .report-modal-content {
      width: 400px;
      background-color: #fff;
      border-radius: 8px;
      padding: 25px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
      animation: fadeIn 0.3s ease;
    }
    
    .report-modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .report-modal-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: #2c3e50;
    }
    
    .report-close-btn {
      cursor: pointer;
      font-size: 1.5rem;
      color: #a0aec0;
      background: none;
      border: none;
      line-height: 1;
      padding: 0;
    }
    
    .report-types {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 20px;
    }
    
    .report-type {
      display: flex;
      align-items: center;
    }
    
    .report-type input {
      margin-right: 10px;
    }
    
    .report-type label {
      font-size: 0.95rem;
      color: #4a5568;
    }
    
    .report-details {
      margin-top: 15px;
    }
    
    .report-details textarea {
      width: 100%;
      height: 100px;
      padding: 8px 12px;
      border: 1px solid #e2e8f0;
      border-radius: 4px;
      font-size: 0.95rem;
      resize: none;
    }
    
    .report-details textarea:focus {
      outline: none;
      border-color: #3498db;
    }
    
    .report-footer {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
      margin-top: 20px;
    }
    
    .report-btn-cancel, .report-btn-submit {
      padding: 8px 16px;
      border-radius: 4px;
      font-size: 0.95rem;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .report-btn-cancel {
      background-color: #e2e8f0;
      color: #4a5568;
      border: none;
    }
    
    .report-btn-cancel:hover {
      background-color: #cbd5e0;
    }
    
    .report-btn-submit {
      background-color: #3498db;
      color: white;
      border: none;
    }
    
    .report-btn-submit:hover {
      background-color: #2980b9;
    }
    
    /* 评论区样式 */
    .comments-section {
      margin-top: 10px;
      border-top: 1px solid rgba(226, 232, 240, 0.5);
      padding-top: 10px;
    }
    
    .comments-list {
      max-height: 300px;
      overflow-y: auto;
      margin-bottom: 10px;
    }
    
    .comment-item {
      margin-bottom: 8px;
      padding: 8px;
      background-color: rgba(248, 250, 252, 0.7);
      border-radius: 8px;
      position: relative;
    }
    
    .comment-content {
      font-size: 0.85rem;
      color: #4a5568;
      line-height: 1.5;
      padding-right: 20px;
    }
    
    .comment-author {
      font-weight: 600;
      color: #3498db;
      margin-right: 5px;
    }
    
    .comment-delete {
      position: absolute;
      top: 5px;
      right: 8px;
      color: #cbd5e0;
      font-size: 1rem;
      cursor: pointer;
      font-weight: bold;
      opacity: 0.5;
      transition: all 0.2s ease;
    }
    
    .comment-delete:hover {
      color: #e53e3e;
      opacity: 1;
    }
    
    .comment-form {
      display: flex;
      margin-top: 10px;
    }
    
    .comment-input {
      flex: 1;
      padding: 8px 12px;
      border: 1px solid rgba(226, 232, 240, 0.7);
      border-radius: 4px;
      font-size: 0.85rem;
      resize: none;
      background-color: rgba(255, 255, 255, 0.7);
    }
    
    .comment-input:focus {
      outline: none;
      border-color: #3498db;
    }
    
    .comment-submit {
      margin-left: 10px;
      padding: 0 15px;
      background-color: #3498db;
      color: white;
      border: none;
      border-radius: 4px;
      font-size: 0.85rem;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }
    
    .comment-submit:hover {
      background-color: #2980b9;
    }

  </style>
</head>

<body>
  <div class="page-content">
  <!-- 导航栏 -->
  <nav class="navbar">
    <div class="container navbar-container">
      <a href="index.html" class="logo">
        <img src="images/logo.png" alt="SwustOJ Logo" class="logo-img">
        <span class="welcome-text">欢迎来到SwustOJ</span>
      </a>
    <div class="nav-links">
        <a href="index.html" class="nav-link active">首页</a>
        <a href="problems.html" class="nav-link">题库</a>
        <a href="contest.html" class="nav-link">竞赛</a>
        <a href="homework.html" class="nav-link">作业</a>
        <a href="discussion.html" class="nav-link">讨论</a>
        <a href="ranking.html" class="nav-link">排行榜</a>
        <a href="learning.html" class="nav-link">学习</a>
    </div>
    <div class="nav-tools">
      <div class="search-icon" id="search-icon">🔍</div>
      <div class="search-container" id="search-container">
        <input type="text" class="search-input" placeholder="搜索题目、竞赛、文章..." />
        <button class="search-btn">搜索</button>
      </div>
    </div>
    <div class="auth-buttons">
      <a href="javascript:void(0)" class="btn btn-outline">登录</a>
      <a href="javascript:void(0)" class="btn btn-primary">注册</a>
    </div>
    <div class="user-avatar">
      <span class="username">张老师</span>
      <img src="images/avatar.jpg" alt="用户头像" class="avatar-img">
      <div class="user-dropdown">
        <a href="profile.html" class="dropdown-item">个人主页</a>
        <div class="dropdown-divider"></div>
        <a href="class-team.html" class="dropdown-item teacher-only">班级管理</a>
        <div class="dropdown-divider teacher-only"></div>
        <a href="javascript:void(0)" class="dropdown-item" onclick="handleLogout()">退出登录</a>
      </div>
    </div>
    </div>
  </nav>

  <!-- 英雄区域 -->
  <section class="hero">
    <div class="hero-container">
      <div class="hero-slideshow">
        <div class="slideshow-container">
          <img src="images/hero-slide1.jpg" alt="SwustOJ Hero Image 1" class="slide active">
          <img src="images/hero-slide2.jpg" alt="SwustOJ Hero Image 2" class="slide">
          <img src="images/hero-slide3.jpg" alt="SwustOJ Hero Image 3" class="slide">
          <img src="images/hero-slide4.jpg" alt="SwustOJ Hero Image 4" class="slide">
          <div class="slide-controls">
            <span class="slide-dot active" onclick="heroCurrentSlide(1)"></span>
            <span class="slide-dot" onclick="heroCurrentSlide(2)"></span>
            <span class="slide-dot" onclick="heroCurrentSlide(3)"></span>
            <span class="slide-dot" onclick="heroCurrentSlide(4)"></span>
          </div>
          <button class="prev-btn" onclick="heroPlusSlides(-1)">&#10094;</button>
          <button class="next-btn" onclick="heroPlusSlides(1)">&#10095;</button>
        </div>
      </div>
      <div class="hero-image">
        <div class="calendar">
          <div class="clock-container">
            <div class="clock">
              <div class="clock-time" id="current-time">00:00:00</div>
              <div class="clock-date" id="current-date">2023年10月27日 星期五</div>
            </div>
          </div>
          <div class="calendar-header">
            <button class="calendar-nav-btn" onclick="prevMonth()"><i class="arrow-left">←</i></button>
            <span class="current-month" id="current-month">2023年10月</span>
            <button class="calendar-nav-btn" onclick="nextMonth()"><i class="arrow-right">→</i></button>
          </div>
          <div class="calendar-body">
            <div class="weekdays">
              <div class="weekday">日</div>
              <div class="weekday">一</div>
              <div class="weekday">二</div>
              <div class="weekday">三</div>
              <div class="weekday">四</div>
              <div class="weekday">五</div>
              <div class="weekday">六</div>
            </div>
            <div class="days" id="calendar-days">
              <!-- 日期将通过JavaScript动态生成 -->
            </div>
          </div>
          <!-- 删除整个日历底部信息 -->
          
        </div>
      </div>
    </div>
  </section>

  <!-- 学习计划和每日一题区域 -->
  <section class="study-daily-section">
    <div class="study-daily-container">
      <!-- 学习计划部分 -->
      <div class="study-plans-column">
        <!-- 最新公告部分 -->
        <div class="announcements-section">
          <h2 class="announcements-title">最新公告</h2>
          
          <div class="announcements-grid">
            <div class="announcement-card">
              <div class="announcement-header">
                <div class="announcement-icon" style="background: linear-gradient(135deg, #FF9A9E, #FAD0C4);">
                  <div style="font-size: 20px;">📢</div>
                </div>
                <div class="announcement-info">
                  <h3 class="announcement-title">系统维护通知</h3>
                  <p class="announcement-date">2025-06-10</p>
                </div>
              </div>
              <div class="announcement-content">
                <p>为提升系统性能和用户体验，我们将于6月15日凌晨2:00-4:00进行系统维护。维护期间，平台将暂停访问。请您提前做好相关准备，由此带来的不便敬请谅解。</p>
              </div>
              <a href="#" class="announcement-btn">查看详情</a>
            </div>
            
            <div class="announcement-card">
              <div class="announcement-header">
                <div class="announcement-icon" style="background: linear-gradient(135deg, #A1C4FD, #C2E9FB);">
                  <div style="font-size: 20px;">🆕</div>
                </div>
                <div class="announcement-info">
                  <h3 class="announcement-title">新增题库</h3>
                  <p class="announcement-date">2025-06-08</p>
                </div>
              </div>
              <div class="announcement-content">
                <p>我们新增了LeetCode热门100题合集，涵盖了各种难度和类型的经典算法题目。这些题目在面试中经常出现，是提升算法能力的绝佳资源。现已上线，欢迎挑战！</p>
              </div>
              <a href="#" class="announcement-btn">立即查看</a>
            </div>
            
            <div class="announcement-card">
              <div class="announcement-header">
                <div class="announcement-icon" style="background: linear-gradient(135deg, #FFECD2, #FCB69F);">
                  <div style="font-size: 20px;">🏕️</div>
                </div>
                <div class="announcement-info">
                  <h3 class="announcement-title">暑期训练营</h3>
                  <p class="announcement-date">2025-06-05</p>
                </div>
              </div>
              <div class="announcement-content">
                <p>为帮助同学们在暑假期间提升算法能力，我们将于7月1日-8月15日举办为期6周的算法训练营。课程涵盖基础算法、高级数据结构和竞赛技巧，名额有限，请尽快报名！</p>
              </div>
              <a href="#" class="announcement-btn">报名参加</a>
            </div>
          </div>
          
                  <div class="view-more-container" style="margin-top: 0; padding-left: 16px;">
          <a href="#" class="view-more-btn">查看全部公告 <span class="arrow">→</span></a>
        </div>
        </div>

        <h2 class="study-plans-title">学习计划</h2>

        <div class="study-plans-grid">
          <div class="study-plan-card">
            <div class="study-plan-header">
              <div class="study-plan-icon" style="background: linear-gradient(135deg, #FF9A9E, #FAD0C4);">
                <div style="font-size: 28px;">🚀</div>
              </div>
              <div class="study-plan-info">
                <h3 class="study-plan-title">零基础入门编程</h3>
                <p class="study-plan-short-desc">适合初学者的编程基础与算法思维培养</p>
              </div>
            </div>
          </div>

          <div class="study-plan-card">
            <div class="study-plan-header">
              <div class="study-plan-icon" style="background: linear-gradient(135deg, #A1C4FD, #C2E9FB);">
                <div style="font-size: 28px;">🏆</div>
              </div>
              <div class="study-plan-info">
                <h3 class="study-plan-title">数据结构精讲</h3>
                <p class="study-plan-short-desc">掌握核心数据结构，构建扎实的编程基础</p>
              </div>
            </div>
          </div>

          <div class="study-plan-card">
            <div class="study-plan-header">
              <div class="study-plan-icon" style="background: linear-gradient(135deg, #FFECD2, #FCB69F);">
                <div style="font-size: 28px;">💼</div>
              </div>
              <div class="study-plan-info">
                <h3 class="study-plan-title">校招面试特训</h3>
                <p class="study-plan-short-desc">针对校招面试的算法题目与解题技巧</p>
              </div>
            </div>
          </div>
        </div>

        <div class="view-more-container" style="margin-top: 0; padding-left: 16px;">
          <a href="#" class="view-more-btn">查看全部学习计划 <span class="arrow">→</span></a>
        </div>

        <!-- 社区讨论部分 - 垂直排列更宽的卡片 -->
        <div style="display: flex; margin-top: 5px; position: relative; min-height: 400px;">
          <div style="width: 800px; position: absolute; left: 0;">
            <h2 class="study-plans-title">社区讨论</h2>
            <div class="discussion-vertical-grid">
              <!-- 讨论卡片1 -->
              <div class="discussion-card" data-card-id="1">
                <div class="discussion-avatar">
                  <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiNFNUU3RUIiLz4KPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4PSI4IiB5PSI4Ij4KPHBhdGggZD0iTTEyIDEyQzE0LjIwOTEgMTIgMTYgMTAuMjA5MSAxNiA4QzE2IDUuNzkwODYgMTQuMjA5MSA0IDEyIDRDOS43OTA4NiA0IDggNS43OTA4NiA4IDhDOCAxMC4yMDkxIDkuNzkwODYgMTIgMTIgMTJaIiBmaWxsPSIjOUM5Qzk5Ii8+CjxwYXRoIGQ9Ik0xMiAxNEM5LjMzIDE0IDQgMTUuMzQgNCAyMFYyMkgxNlYyMEMxNiAxNS4zNCAxMC42NyAxNCAxMiAxNFoiIGZpbGw9IiM5QzlDOTkiLz4KPC9zdmc+Cjwvc3ZnPgo=" alt="用户头像" class="avatar-img">
                </div>
                <div class="discussion-content">
                  <div class="discussion-header">
                    <div class="user-info">
                      <span class="username">程序员小王</span>
                      <span class="post-type">分享 | 算法优化</span>
                    </div>
                  </div>
                  <div class="discussion-text">
                    我在实现快速排序时，发现在数据量较大的情况下性能不佳，有没有优化技巧？
                  </div>
                  <div class="discussion-actions">
                    <button class="action-btn like-btn" data-liked="false" data-count="16">
                      <span class="action-icon">👍</span>
                      <span class="action-count">16</span>
                    </button>
                    <button class="action-btn comment-btn">
                      <span class="action-icon">💬</span>
                      <span class="action-count">32</span>
                    </button>
                    <button class="action-btn star-btn" data-starred="false" data-count="8">
                      <span class="action-icon">⭐</span>
                      <span class="action-count">8</span>
                    </button>
                    <div class="more-actions">
                      <button class="more-btn">
                        <span class="more-dots">⋯</span>
                      </button>
                      <div class="more-menu">
                        <div class="menu-item report-item">
                          <span class="menu-icon">🚨</span>
                          <span class="menu-text">举报</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="comments-section" style="display: none;">
                  <div class="comments-list">
                    <div class="comment-item" data-comment-id="1-1" data-author="算法专家">
                      <div class="comment-content">
                        <span class="comment-author">算法专家:</span> 
                        <span class="comment-text">你可以考虑三数取中法选择pivot，能有效避免最坏情况。</span>
                        <span class="comment-delete" title="删除评论" style="display: none;">×</span>
                      </div>
                    </div>
                    <div class="comment-item" data-comment-id="1-2" data-author="代码小能手">
                      <div class="comment-content">
                        <span class="comment-author">代码小能手:</span> 
                        <span class="comment-text">对于小规模数据，可以切换到插入排序，会更高效。</span>
                        <span class="comment-delete" title="删除评论" style="display: none;">×</span>
                      </div>
                    </div>
                    <div class="comment-item" data-comment-id="1-3" data-author="用户001">
                      <div class="comment-content">
                        <span class="comment-author">用户001:</span> 
                        <span class="comment-text">还可以使用随机选择pivot，这样即使数据有特定模式也能保持期望O(nlogn)的性能。</span>
                        <span class="comment-delete" title="删除评论">×</span>
                      </div>
                    </div>
                  </div>
                  <div class="comment-form">
                    <textarea class="comment-input" placeholder="发表评论..." rows="2"></textarea>
                    <button class="comment-submit">发表</button>
                  </div>
                </div>
              </div>

              <!-- 讨论卡片2 -->
              <div class="discussion-card" data-card-id="2">
                <div class="discussion-avatar">
                  <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiM0RkFDRkUiLz4KPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4PSI4IiB5PSI4Ij4KPHBhdGggZD0iTTEyIDEyQzE0LjIwOTEgMTIgMTYgMTAuMjA5MSAxNiA4QzE2IDUuNzkwODYgMTQuMjA5MSA0IDEyIDRDOS43OTA4NiA0IDggNS43OTA4NiA4IDhDOCAxMC4yMDkxIDkuNzkwODYgMTIgMTIgMTJaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTIgMTRDOS4zMyAxNCA0IDE1LjM0IDQgMjBWMjJIMTZWMjBDMTYgMTUuMzQgMTAuNjcgMTQgMTIgMTRaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4KPC9zdmc+Cg==" alt="用户头像" class="avatar-img">
                </div>
                <div class="discussion-content">
                  <div class="discussion-header">
                    <div class="user-info">
                      <span class="username">算法达人</span>
                      <span class="post-type">题解 | 动态规划问题集锦</span>
                    </div>
                  </div>
                  <div class="discussion-text">
                    整理了一些经典的动态规划问题及其解题思路，希望对大家有所帮助。
                  </div>
                  <div class="discussion-actions">
                    <button class="action-btn like-btn" data-liked="false" data-count="64">
                      <span class="action-icon">👍</span>
                      <span class="action-count">64</span>
                    </button>
                    <button class="action-btn comment-btn">
                      <span class="action-icon">💬</span>
                      <span class="action-count">48</span>
                    </button>
                    <button class="action-btn star-btn" data-starred="false" data-count="21">
                      <span class="action-icon">⭐</span>
                      <span class="action-count">21</span>
                    </button>
                    <div class="more-actions">
                      <button class="more-btn">
                        <span class="more-dots">⋯</span>
                      </button>
                      <div class="more-menu">
                        <div class="menu-item report-item">
                          <span class="menu-icon">🚨</span>
                          <span class="menu-text">举报</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="comments-section" style="display: none;">
                  <div class="comments-list">
                    <div class="comment-item" data-comment-id="2-1" data-author="编程小白">
                      <div class="comment-content">
                        <span class="comment-author">编程小白:</span> 
                        <span class="comment-text">这些题目难度如何？适合初学者吗？</span>
                        <span class="comment-delete" title="删除评论" style="display: none;">×</span>
                      </div>
                    </div>
                    <div class="comment-item" data-comment-id="2-2" data-author="算法达人">
                      <div class="comment-content">
                        <span class="comment-author">算法达人:</span> 
                        <span class="comment-text">我按难度分类了，从基础到进阶都有，初学者可以先看前面几章。</span>
                        <span class="comment-delete" title="删除评论" style="display: none;">×</span>
                      </div>
                    </div>
                    <div class="comment-item" data-comment-id="2-3" data-author="用户001">
                      <div class="comment-content">
                        <span class="comment-author">用户001:</span> 
                        <span class="comment-text">我是新手，学完了前面几章的题目，感觉收获很多，谢谢分享！</span>
                        <span class="comment-delete" title="删除评论">×</span>
                      </div>
                    </div>
                  </div>
                  <div class="comment-form">
                    <textarea class="comment-input" placeholder="发表评论..." rows="2"></textarea>
                    <button class="comment-submit">发表</button>
                  </div>
                </div>
              </div>

              <!-- 讨论卡片3 -->
              <div class="discussion-card" data-card-id="3">
                <div class="discussion-avatar">
                  <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiMyRUNDNzEiLz4KPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4PSI4IiB5PSI4Ij4KPHBhdGggZD0iTTEyIDEyQzE0LjIwOTEgMTIgMTYgMTAuMjA5MSAxNiA4QzE2IDUuNzkwODYgMTQuMjA5MSA0IDEyIDRDOS43OTA4NiA0IDggNS43OTA4NiA4IDhDOCAxMC4yMDkxIDkuNzkwODYgMTIgMTIgMTJaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTIgMTRDOS4zMyAxNCA0IDE1LjM0IDQgMjBWMjJIMTZWMjBDMTYgMTUuMzQgMTAuNjcgMTQgMTIgMTRaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4KPC9zdmc+Cg==" alt="用户头像" class="avatar-img">
                </div>
                <div class="discussion-content">
                  <div class="discussion-header">
                    <div class="user-info">
                      <span class="username">学习探索者</span>
                      <span class="post-type">求助 | 图论算法学习路径</span>
                    </div>
                  </div>
                  <div class="discussion-text">
                    想系统学习图论算法，有没有推荐的学习路径和资源？从哪些算法入手比较好？
                  </div>
                  <div class="discussion-actions">
                    <button class="action-btn like-btn" data-liked="false" data-count="32">
                      <span class="action-icon">👍</span>
                      <span class="action-count">32</span>
                    </button>
                    <button class="action-btn comment-btn">
                      <span class="action-icon">💬</span>
                      <span class="action-count">24</span>
                    </button>
                    <button class="action-btn star-btn" data-starred="false" data-count="12">
                      <span class="action-icon">⭐</span>
                      <span class="action-count">12</span>
                    </button>
                    <div class="more-actions">
                      <button class="more-btn">
                        <span class="more-dots">⋯</span>
                      </button>
                      <div class="more-menu">
                        <div class="menu-item report-item">
                          <span class="menu-icon">🚨</span>
                          <span class="menu-text">举报</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="comments-section" style="display: none;">
                  <div class="comments-list">
                    <div class="comment-item" data-comment-id="3-1" data-author="图论专家">
                      <div class="comment-content">
                        <span class="comment-author">图论专家:</span> 
                        <span class="comment-text">建议从基础的BFS和DFS入手，然后学习最短路径算法如Dijkstra。</span>
                        <span class="comment-delete" title="删除评论" style="display: none;">×</span>
                      </div>
                    </div>
                    <div class="comment-item" data-comment-id="3-2" data-author="面试官">
                      <div class="comment-content">
                        <span class="comment-author">面试官:</span> 
                        <span class="comment-text">面试中经常考察的是最小生成树和网络流问题，可以重点关注。</span>
                        <span class="comment-delete" title="删除评论" style="display: none;">×</span>
                      </div>
                    </div>
                    <div class="comment-item" data-comment-id="3-3" data-author="用户001">
                      <div class="comment-content">
                        <span class="comment-author">用户001:</span> 
                        <span class="comment-text">除了算法书，有没有推荐的网站或视频资源学习图论？</span>
                        <span class="comment-delete" title="删除评论">×</span>
                      </div>
                    </div>
                  </div>
                  <div class="comment-form">
                    <textarea class="comment-input" placeholder="发表评论..." rows="2"></textarea>
                    <button class="comment-submit">发表</button>
                  </div>
                </div>
              </div>
              
              <!-- 讨论卡片4 -->
              <div class="discussion-card" data-card-id="4">
                <div class="discussion-avatar">
                  <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiM5QjU5QjYiLz4KPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4PSI4IiB5PSI4Ij4KPHBhdGggZD0iTTEyIDEyQzE0LjIwOTEgMTIgMTYgMTAuMjA5MSAxNiA4QzE2IDUuNzkwODYgMTQuMjA5MSA0IDEyIDRDOS43OTA4NiA0IDggNS43OTA4NiA4IDhDOCAxMC4yMDkxIDkuNzkwODYgMTIgMTIgMTJaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTIgMTRDOS4zMyAxNCA0IDE1LjM0IDQgMjBWMjJIMTZWMjBDMTYgMTUuMzQgMTAuNjcgMTQgMTIgMTRaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4KPC9zdmc+Cg==" alt="用户头像" class="avatar-img">
                </div>
                <div class="discussion-content">
                  <div class="discussion-header">
                    <div class="user-info">
                      <span class="username">前端工程师</span>
                      <span class="post-type">技术分享 | 前端框架选择</span>
                    </div>
                  </div>
                  <div class="discussion-text">
                    作为初学者，应该选择哪个前端框架入门？各有什么优缺点和适用场景？欢迎分享经验。
                  </div>
                  <div class="discussion-actions">
                    <button class="action-btn like-btn" data-liked="false" data-count="45">
                      <span class="action-icon">👍</span>
                      <span class="action-count">45</span>
                    </button>
                    <button class="action-btn comment-btn">
                      <span class="action-icon">💬</span>
                      <span class="action-count">37</span>
                    </button>
                    <button class="action-btn star-btn" data-starred="false" data-count="18">
                      <span class="action-icon">⭐</span>
                      <span class="action-count">18</span>
                    </button>
                    <div class="more-actions">
                      <button class="more-btn">
                        <span class="more-dots">⋯</span>
                      </button>
                      <div class="more-menu">
                        <div class="menu-item report-item">
                          <span class="menu-icon">🚨</span>
                          <span class="menu-text">举报</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="comments-section" style="display: none;">
                  <div class="comments-list">
                    <div class="comment-item" data-comment-id="4-1" data-author="React爱好者">
                      <div class="comment-content">
                        <span class="comment-author">React爱好者:</span> 
                        <span class="comment-text">React生态丰富，就业机会多，适合想深入前端开发的人。</span>
                        <span class="comment-delete" title="删除评论" style="display: none;">×</span>
                      </div>
                    </div>
                    <div class="comment-item" data-comment-id="4-2" data-author="Vue粉丝">
                      <div class="comment-content">
                        <span class="comment-author">Vue粉丝:</span> 
                        <span class="comment-text">Vue上手更简单，文档友好，对初学者非常友好，推荐从Vue开始。</span>
                        <span class="comment-delete" title="删除评论" style="display: none;">×</span>
                      </div>
                    </div>
                    <div class="comment-item" data-comment-id="4-3" data-author="全栈开发">
                      <div class="comment-content">
                        <span class="comment-author">全栈开发:</span> 
                        <span class="comment-text">Angular适合大型企业应用，但学习曲线较陡。建议先了解JS基础，再选择适合自己的框架。</span>
                        <span class="comment-delete" title="删除评论">×</span>
                      </div>
                    </div>
                  </div>
                  <div class="comment-form">
                    <textarea class="comment-input" placeholder="发表评论..." rows="2"></textarea>
                    <button class="comment-submit">发表</button>
                  </div>
                </div>
              </div>
            </div>

            <div class="view-more-container" style="margin-top: 15px; padding-left: 16px; margin-bottom: 20px; clear: both;">
              <a href="discussion.html" class="view-more-btn">查看更多讨论 <span class="arrow">→</span></a>
            </div>
          </div>

          <!-- 每日用户活跃度 -->
          <div style="width: 400px; position: absolute; right: -400px; top: 0;">
            <div class="daily-challenge-card" style="margin-top: 44px; width: 90%; margin-left: auto;">
              <div class="daily-challenge-header">
                <div class="daily-challenge-title">
                  <i>📊</i>用户活跃度
                </div>
                <span class="problem-difficulty-tag" style="background-color: rgba(52, 152, 219, 0.1); color: #3498db;">实时数据</span>
              </div>
              
              <div class="daily-challenge-content" style="padding: 10px 15px;">
                <!-- 数据概览 -->
                <div style="display: flex; justify-content: space-between; margin: 5px 0 15px 0;">
                  <div style="text-align: center; flex: 1;">
                    <div style="font-size: 1.2rem; font-weight: 600; color: #3498db;">238</div>
                    <div style="font-size: 0.8rem; color: #718096;">活跃用户</div>
                  </div>
                  <div style="text-align: center; flex: 1;">
                    <div style="font-size: 1.2rem; font-weight: 600; color: #3498db;">1024</div>
                    <div style="font-size: 0.8rem; color: #718096;">提交数</div>
                  </div>
                  <div style="text-align: center; flex: 1;">
                    <div style="font-size: 1.2rem; font-weight: 600; color: #3498db;">56</div>
                    <div style="font-size: 0.8rem; color: #718096;">讨论数</div>
                  </div>
                </div>
                

                
                <!-- 今日活动概况 -->
                <div style="margin: 15px 0;">
                  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                    <span style="font-size: 0.9rem; font-weight: 600; color: #2d3748;">今日活动概况</span>
                    <span style="font-size: 0.75rem; color: #718096;">实时更新</span>
                  </div>
                  <div style="display: flex; justify-content: space-between; background-color: rgba(52, 152, 219, 0.05); padding: 12px; border-radius: 8px;">
                    <div style="text-align: center; flex: 1;">
                      <div style="font-size: 1rem; font-weight: 600; color: #3498db;">89</div>
                      <div style="font-size: 0.75rem; color: #718096;">在线用户</div>
                    </div>
                    <div style="text-align: center; flex: 1;">
                      <div style="font-size: 1rem; font-weight: 600; color: #3498db;">342</div>
                      <div style="font-size: 0.75rem; color: #718096;">今日提交</div>
                    </div>
                    <div style="text-align: center; flex: 1;">
                      <div style="font-size: 1rem; font-weight: 600; color: #3498db;">16:30</div>
                      <div style="font-size: 0.75rem; color: #718096;">峰值时间</div>
                    </div>
                  </div>
                </div>

                <!-- 用户排名 -->
                <div style="margin: 15px 0 10px 0;">
                  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px;">
                    <span style="font-size: 0.9rem; font-weight: 600; color: #2d3748;">活跃用户排名</span>
                    <span style="font-size: 0.75rem; color: #3498db; cursor: pointer;">查看全部 ›</span>
                  </div>
                  
                  <div style="margin: 10px 0;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                      <div style="display: flex; align-items: center;">
                        <span style="width: 18px; height: 18px; background: gold; color: #fff; border-radius: 50%; font-size: 0.7rem; display: flex; align-items: center; justify-content: center; margin-right: 8px;">1</span>
                        <span style="font-size: 0.85rem; color: #4a5568; font-weight: 500;">王者编程</span>
                      </div>
                      <span style="font-size: 0.85rem; color: #4a5568; font-weight: 500;">103题</span>
                    </div>
                    <div style="height: 6px; background-color: #e2e8f0; border-radius: 3px; overflow: hidden;">
                      <div style="width: 85%; height: 100%; background: linear-gradient(to right, #4facfe, #00f2fe);"></div>
                    </div>
                  </div>
                  
                  <div style="margin: 10px 0;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                      <div style="display: flex; align-items: center;">
                        <span style="width: 18px; height: 18px; background: silver; color: #fff; border-radius: 50%; font-size: 0.7rem; display: flex; align-items: center; justify-content: center; margin-right: 8px;">2</span>
                        <span style="font-size: 0.85rem; color: #4a5568; font-weight: 500;">算法专家</span>
                      </div>
                      <span style="font-size: 0.85rem; color: #4a5568; font-weight: 500;">76题</span>
                    </div>
                    <div style="height: 6px; background-color: #e2e8f0; border-radius: 3px; overflow: hidden;">
                      <div style="width: 62%; height: 100%; background: linear-gradient(to right, #4facfe, #00f2fe);"></div>
                    </div>
                  </div>
                  
                  <div style="margin: 10px 0;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                      <div style="display: flex; align-items: center;">
                        <span style="width: 18px; height: 18px; background: #cd7f32; color: #fff; border-radius: 50%; font-size: 0.7rem; display: flex; align-items: center; justify-content: center; margin-right: 8px;">3</span>
                        <span style="font-size: 0.85rem; color: #4a5568; font-weight: 500;">代码小能手</span>
                      </div>
                      <span style="font-size: 0.85rem; color: #4a5568; font-weight: 500;">42题</span>
                    </div>
                    <div style="height: 6px; background-color: #e2e8f0; border-radius: 3px; overflow: hidden;">
                      <div style="width: 38%; height: 100%; background: linear-gradient(to right, #4facfe, #00f2fe);"></div>
                    </div>
                  </div>

                  <div style="margin: 10px 0;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                      <div style="display: flex; align-items: center;">
                        <span style="width: 18px; height: 18px; background: #e2e8f0; color: #718096; border-radius: 50%; font-size: 0.7rem; display: flex; align-items: center; justify-content: center; margin-right: 8px;">4</span>
                        <span style="font-size: 0.85rem; color: #4a5568; font-weight: 500;">编程新手</span>
                      </div>
                      <span style="font-size: 0.85rem; color: #4a5568; font-weight: 500;">21题</span>
                    </div>
                    <div style="height: 6px; background-color: #e2e8f0; border-radius: 3px; overflow: hidden;">
                      <div style="width: 20%; height: 100%; background: linear-gradient(to right, #4facfe, #00f2fe);"></div>
                    </div>
                  </div>

                  <div style="margin: 10px 0;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                      <div style="display: flex; align-items: center;">
                        <span style="width: 18px; height: 18px; background: #e2e8f0; color: #718096; border-radius: 50%; font-size: 0.7rem; display: flex; align-items: center; justify-content: center; margin-right: 8px;">5</span>
                        <span style="font-size: 0.85rem; color: #4a5568; font-weight: 500;">学习探索者</span>
                      </div>
                      <span style="font-size: 0.85rem; color: #4a5568; font-weight: 500;">18题</span>
                    </div>
                    <div style="height: 6px; background-color: #e2e8f0; border-radius: 3px; overflow: hidden;">
                      <div style="width: 15%; height: 100%; background: linear-gradient(to right, #4facfe, #00f2fe);"></div>
                    </div>
                  </div>
                  

                </div>
                
                <!-- 热门标签 -->
                <div style="margin: 15px 0 5px 0;">
                  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px;">
                    <span style="font-size: 0.9rem; font-weight: 600; color: #2d3748;">热门标签</span>
                  </div>
                  <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                    <span style="padding: 4px 10px; background-color: rgba(52, 152, 219, 0.1); color: #3498db; border-radius: 12px; font-size: 0.75rem;">#动态规划 (56)</span>
                    <span style="padding: 4px 10px; background-color: rgba(231, 76, 60, 0.1); color: #e74c3c; border-radius: 12px; font-size: 0.75rem;">#校招 (42)</span>
                    <span style="padding: 4px 10px; background-color: rgba(46, 204, 113, 0.1); color: #2ecc71; border-radius: 12px; font-size: 0.75rem;">#算法 (38)</span>
                    <span style="padding: 4px 10px; background-color: rgba(155, 89, 182, 0.1); color: #9b59b6; border-radius: 12px; font-size: 0.75rem;">#面试 (29)</span>
                  </div>
                </div>
              </div>
              
              <div class="daily-challenge-actions" style="justify-content: center; margin-top: 5px;">
                <button class="btn-solve" style="width: 100%; padding: 6px 0;">查看完整排行榜</button>
              </div>
            </div>
          </div>
        </div>
      </div>


      
      <!-- 每日一题部分 -->
      <div class="daily-challenge-column">
        <div class="daily-challenge-card" style="margin-top: 30px;">
          <div class="daily-challenge-header">
            <div class="daily-challenge-title">
              <i>📝</i>每日一题
            </div>
            <span class="problem-difficulty-tag easy">简单</span>
          </div>
          
          <div class="daily-challenge-content">
            <h3 class="daily-challenge-problem-title">两数之和</h3>
            <div class="daily-challenge-description">
              <p>给定一个整数数组 nums 和一个整数目标值 target，请你在该数组中找出和为目标值 target 的那两个整数，并返回它们的数组下标。</p>
            </div>
          </div>
            
          <div class="daily-challenge-actions">
            <button class="daily-challenge-btn btn-solve">立即解题</button>
          </div>
        </div>
        
        <!-- 知识点复习提醒 -->
        <div class="daily-challenge-card" style="margin-top: 30px;">
          <div class="daily-challenge-header">
            <div class="daily-challenge-title">
              <i>🔄</i>复习提醒
            </div>
            <span class="problem-difficulty-tag hard">待复习</span>
          </div>
          
          <div class="daily-challenge-content">
            <h3 class="daily-challenge-problem-title">动态规划知识点</h3>
            <div class="daily-challenge-description">
              <p>您已经3周未复习动态规划相关知识点，根据艾宾浩斯记忆曲线，现在是巩固记忆的最佳时机。建议复习3道经典题型。</p>
            </div>
          </div>
            
          <div class="daily-challenge-actions">
            <button class="daily-challenge-btn btn-solve">开始复习</button>
          </div>
        </div>
      </div>
    </div>
      </section>


  </div><!-- 结束 page-content -->

  <!-- 登录弹窗 -->
  <div class="modal-overlay" id="loginModal">
    <div class="modal">
      <button class="modal-close" onclick="closeModal('loginModal')">&times;</button>
      <div class="modal-header">
        <img src="images/logo.png" alt="SwustOJ Logo" class="modal-logo">
        <h2>登录 SwustOJ</h2>
      </div>

      <div class="login-tabs">
        <div class="login-tab active" onclick="switchTab('account')">账号密码登录</div>
        <div class="login-tab" onclick="switchTab('qrcode')">扫码登录</div>
      </div>

      <div class="login-content">
        <div class="account-login active">
          <form id="loginForm">
            <div class="form-group">
              <input type="text" id="loginUsername" class="form-control" placeholder="学号/邮箱" required>
            </div>
            <div class="form-group">
              <input type="password" id="loginPassword" class="form-control" placeholder="密码" required>
            </div>
            <button type="submit" class="submit-btn">登录</button>
            <div class="auth-footer">
              <a href="javascript:void(0)" onclick="showModal('forgotPasswordModal')">忘记密码？</a>
              <a href="javascript:void(0)" onclick="showModal('registerModal')">注册账号</a>
            </div>
          </form>
        </div>
        
        <div class="qrcode-login">
          <div class="qrcode-container">
            <div class="qrcode">
              <img src="images/二维码.png" alt="微信登录二维码" id="qrcode-image">
            </div>
            <p class="qrcode-info">请使用微信扫描二维码登录</p>
          </div>
          
          <div class="divider">其他登录方式</div>
          <div class="auth-options">
            <div class="auth-option" onclick="switchQRCode('wechat')">
              <img src="images/微信.png" alt="微信" class="auth-icon">
            </div>
            <div class="auth-option" onclick="switchQRCode('dingtalk')">
              <img src="images/钉钉01.png" alt="钉钉" class="auth-icon">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 注册弹窗 -->
  <div class="modal-overlay" id="registerModal">
    <div class="modal modal-small">
      <button class="modal-close" onclick="closeModal('registerModal')">&times;</button>
      <div class="modal-header">
        <img src="images/logo.png" alt="SwustOJ Logo" class="modal-logo">
        <h2>注册账号</h2>
      </div>
      <form>
        <div class="form-group">
          <label for="studentId">学号</label>
          <input type="text" id="studentId" class="form-control" placeholder="请输入学号" required>
        </div>
        <div class="form-group">
          <label for="email">邮箱</label>
          <input type="email" id="email" class="form-control" placeholder="请输入邮箱" required>
        </div>
        <div class="form-group">
          <label for="verificationCode">验证码</label>
          <div class="verification-row">
            <input type="text" id="verificationCode" class="form-control" placeholder="请输入验证码" required>
            <button type="button">获取</button>
          </div>
        </div>
        <div class="form-group">
          <label for="reg-password">密码</label>
          <input type="password" id="reg-password" class="form-control" placeholder="请输入密码" required>
        </div>
        <div class="form-group">
          <label for="confirmPassword">确认密码</label>
          <input type="password" id="confirmPassword" class="form-control" placeholder="请再次输入密码" required>
        </div>
        <button type="submit" class="submit-btn">注册</button>
        <div class="login-link">
          已有账号？<a href="javascript:void(0)" onclick="showModal('loginModal')">立即登录</a>
        </div>
      </form>
    </div>
  </div>

  <!-- 忘记密码弹窗 -->
  <div class="modal-overlay" id="forgotPasswordModal">
    <div class="modal modal-small">
      <button class="modal-close" onclick="closeModal('forgotPasswordModal')">&times;</button>
      <div class="modal-header">
        <img src="images/logo.png" alt="SwustOJ Logo" class="modal-logo">
        <h2>找回密码</h2>
      </div>
      <p class="instruction-text">输入邮箱获取验证码重置密码</p>
      <form>
        <div class="form-group">
          <label for="forgot-email">邮箱</label>
          <input type="email" id="forgot-email" class="form-control" placeholder="请输入邮箱地址" required>
        </div>
        <div class="form-group">
          <label for="forgot-verificationCode">验证码</label>
          <div class="verification-row">
            <input type="text" id="forgot-verificationCode" class="form-control" placeholder="请输入验证码" required>
            <button type="button">获取</button>
          </div>
        </div>
        <div class="form-group">
          <label for="newPassword">新密码</label>
          <input type="password" id="newPassword" class="form-control" placeholder="请设置新密码" required>
        </div>
        <div class="form-group">
          <label for="confirmNewPassword">确认密码</label>
          <input type="password" id="confirmNewPassword" class="form-control" placeholder="请再次输入新密码" required>
        </div>
        <button type="submit" class="submit-btn">重置</button>
        <div class="login-link">
          记起密码了？<a href="javascript:void(0)" onclick="showModal('loginModal')">返回登录</a>
        </div>
      </form>
    </div>
  </div>



  <!-- 举报模态框 -->
  <div id="reportModal" class="report-modal-overlay">
    <div class="modal-content report-modal">
      <div class="modal-header">
        <h3 class="modal-title">举报内容</h3>
        <button class="modal-close" onclick="closeReportModal()">&times;</button>
      </div>
      <div class="modal-body">
        <div class="report-reasons">
          <div class="reason-item">
            <input type="radio" id="spam" name="reportReason" value="spam">
            <label for="spam">垃圾信息</label>
          </div>
          <div class="reason-item">
            <input type="radio" id="inappropriate" name="reportReason" value="inappropriate">
            <label for="inappropriate">不当内容</label>
          </div>
          <div class="reason-item">
            <input type="radio" id="harassment" name="reportReason" value="harassment">
            <label for="harassment">骚扰他人</label>
          </div>
          <div class="reason-item">
            <input type="radio" id="copyright" name="reportReason" value="copyright">
            <label for="copyright">版权侵犯</label>
          </div>
          <div class="reason-item">
            <input type="radio" id="other" name="reportReason" value="other">
            <label for="other">其他原因</label>
          </div>
        </div>
        <div class="report-details">
          <label for="reportDetails">详细说明（选填）：</label>
          <textarea id="reportDetails" placeholder="请详细描述举报原因..."></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeReportModal()">取消</button>
        <button class="btn-submit" onclick="submitReport()">提交举报</button>
      </div>
    </div>
  </div>

  <script>
    // 弹窗控制
    function showModal(modalId) {
      // 先关闭所有模态框
      document.querySelectorAll('.modal-overlay').forEach(modal => {
        modal.classList.remove('active');
      });
      
      // 打开指定的模态框
      document.getElementById(modalId).classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeModal(modalId) {
      document.getElementById(modalId).classList.remove('active');
      document.body.style.overflow = '';
    }

    // 登录标签切换
    function switchTab(tab) {
      if (tab === 'account') {
        document.querySelector('.login-tab:nth-child(1)').classList.add('active');
        document.querySelector('.login-tab:nth-child(2)').classList.remove('active');
        document.querySelector('.account-login').classList.add('active');
        document.querySelector('.qrcode-login').classList.remove('active');
      } else {
        document.querySelector('.login-tab:nth-child(1)').classList.remove('active');
        document.querySelector('.login-tab:nth-child(2)').classList.add('active');
        document.querySelector('.account-login').classList.remove('active');
        document.querySelector('.qrcode-login').classList.add('active');
      }
    }

    // 二维码登录方式切换
    function switchQRCode(type) {
      const qrcodeImage = document.getElementById('qrcode-image');
      const qrcodeInfo = document.querySelector('.qrcode-info');
      
      if (type === 'wechat') {
        qrcodeImage.src = 'images/二维码.png';
        qrcodeInfo.textContent = '请使用微信扫描二维码登录';
      } else {
        qrcodeImage.src = 'images/二维码.png';
        qrcodeInfo.textContent = '请使用钉钉扫描二维码登录';
      }
    }

    // 处理登录
    function handleLogin() {
      const username = document.getElementById('loginUsername').value.trim();
      const password = document.getElementById('loginPassword').value.trim();

      // 基本验证
      if (!username) {
        alert('请输入学号或邮箱');
        return;
      }

      if (!password) {
        alert('请输入密码');
        return;
      }

      // 显示加载状态
      const submitBtn = document.querySelector('#loginForm .submit-btn');
      const originalText = submitBtn.textContent;
      submitBtn.textContent = '登录中...';
      submitBtn.disabled = true;

      // 模拟登录请求（实际项目中应该发送到后端API）
      setTimeout(() => {
        // 模拟登录验证
        if (username === 'admin' && password === '123456') {
          // 登录成功
          alert('登录成功！');
          closeModal('loginModal');

          // 更新UI显示已登录状态
          updateLoginState(true, username);

          // 清空表单
          document.getElementById('loginForm').reset();
        } else {
          // 登录失败
          alert('用户名或密码错误，请重试！\n\n提示：测试账号 admin，密码 123456');
        }

        // 恢复按钮状态
        submitBtn.textContent = originalText;
        submitBtn.disabled = false;
      }, 1000);
    }

    // 更新登录状态
    function updateLoginState(isLoggedIn, username = '') {
      const authButtons = document.querySelector('.auth-buttons');
      const userAvatar = document.querySelector('.user-avatar');

      if (isLoggedIn) {
        // 隐藏登录注册按钮
        authButtons.style.display = 'none';
        // 显示用户头像和用户名
        userAvatar.style.display = 'flex';
        const usernameElement = userAvatar.querySelector('.username');
        if (usernameElement) {
          usernameElement.textContent = username;
        }
      } else {
        // 显示登录注册按钮
        authButtons.style.display = 'flex';
        // 隐藏用户头像
        userAvatar.style.display = 'none';
      }
    }

    // 处理退出登录
    function handleLogout() {
      if (confirm('确定要退出登录吗？')) {
        // 更新UI显示未登录状态
        updateLoginState(false);
        alert('已成功退出登录');
      }
    }

    // 根据URL hash参数显示不同的弹窗
    function handleHashChange() {
      const hash = window.location.hash.substring(1);
      if (hash === 'login') {
        showModal('loginModal');
      } else if (hash === 'register') {
        showModal('registerModal');
      } else if (hash === 'forgotPassword') {
        showModal('forgotPasswordModal');
      }
    }

    // 页面加载时检查hash
    window.addEventListener('load', function() {
      handleHashChange();

      // 修改导航栏按钮事件
      const loginBtn = document.querySelector('.auth-buttons .btn-outline');
      if (loginBtn) {
        loginBtn.href = 'javascript:void(0)';
        loginBtn.addEventListener('click', function(e) {
          e.preventDefault();
          showModal('loginModal');
        });
      }

      // 处理登录表单提交
      const loginForm = document.getElementById('loginForm');
      if (loginForm) {
        loginForm.addEventListener('submit', function(e) {
          e.preventDefault();
          handleLogin();
        });
      }
      
      // 替换注册按钮链接
      const registerBtn = document.querySelector('.auth-buttons .btn-primary');
      if (registerBtn) {
        registerBtn.href = 'javascript:void(0)';
        registerBtn.addEventListener('click', function(e) {
          e.preventDefault();
          showModal('registerModal');
        });
      }
      
      // 英雄区域按钮
      const heroStartBtn = document.querySelector('.hero-buttons .btn-primary');
      if (heroStartBtn) {
        heroStartBtn.addEventListener('click', function(e) {
          e.preventDefault();
          window.location.href = 'problems.html';
        });
      }
      
      const heroLearnBtn = document.querySelector('.hero-buttons .btn-outline');
      if (heroLearnBtn) {
        heroLearnBtn.addEventListener('click', function(e) {
          e.preventDefault();
          window.location.href = 'learning.html';
        });
      }

      // 初始化英雄区轮播图
      initHeroSlideshow();
      
      // 初始化日历
      initCalendar();
      
      // 每日一题倒计时
      updateChallengeTimer();
      setInterval(updateChallengeTimer, 1000);
      
      // 竞赛倒计时
      updateContestCountdowns();
      setInterval(updateContestCountdowns, 1000);
    });
 
    // 轮播图相关函数
    let slideIndex = 1;
    let slideshowInterval;

    function initSlideshow() {
      showSlides(slideIndex);
      // 设置自动轮播
      slideshowInterval = setInterval(() => {
        plusSlides(1);
      }, 5000); // 每5秒切换一次图片
      
      // 初始化轮播点
      const dots = document.getElementsByClassName("slide-dot");
      for (let i = 0; i < dots.length; i++) {
        dots[i].addEventListener('click', function() {
          currentSlide(i + 1);
        });
      }
      
      // 初始轮播点状态
      if (dots.length > 0) {
        dots[0].classList.add('active');
      }
    }

    function plusSlides(n) {
      showSlides(slideIndex += n);
    }

    function currentSlide(n) {
      showSlides(slideIndex = n);
    }

    function showSlides(n) {
      let i;
      const slides = document.getElementsByClassName("slide");
      const dots = document.getElementsByClassName("slide-dot");
      
      if (n > slides.length) {slideIndex = 1}
      if (n < 1) {slideIndex = slides.length}
      
      // 隐藏所有幻灯片
      for (i = 0; i < slides.length; i++) {
        slides[i].classList.remove('active');
      }
      
      // 移除所有点的活动状态
      for (i = 0; i < dots.length; i++) {
        dots[i].classList.remove('active');
      }
      
      // 显示当前幻灯片和激活当前点
      slides[slideIndex-1].classList.add('active');
      dots[slideIndex-1].classList.add('active');
    }

    // 初始化日历函数已在下方重新定义
    
    // 初始化时钟函数
    function initClock() {
      // 更新时钟显示
      updateClock();
      
      // 每秒更新时钟
      setInterval(updateClock, 1000);
    }
    
    // 更新时钟显示
    function updateClock() {
      const now = new Date();
      const hours = String(now.getHours()).padStart(2, '0');
      const minutes = String(now.getMinutes()).padStart(2, '0');
      const seconds = String(now.getSeconds()).padStart(2, '0');
      const year = now.getFullYear();
      const month = now.getMonth() + 1;
      const day = now.getDate();
      const weekDays = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'];
      const weekDay = weekDays[now.getDay()];
      
      // 更新时间和日期显示
      document.getElementById('current-time').textContent = `${hours}:${minutes}:${seconds}`;
      document.getElementById('current-date').textContent = `${year}年${month}月${day}日 ${weekDay}`;
    }
    
    // 英雄区轮播图相关变量和函数
    let heroSlideIndex = 1;
    let heroSlideshowInterval;
    
    function initHeroSlideshow() {
      heroShowSlides(heroSlideIndex);
      // 设置自动轮播
      heroSlideshowInterval = setInterval(() => {
        heroPlusSlides(1);
      }, 5000); // 每5秒切换一次图片
    }
    
    function heroPlusSlides(n) {
      heroShowSlides(heroSlideIndex += n);
    }
    
    function heroCurrentSlide(n) {
      heroShowSlides(heroSlideIndex = n);
    }
    
    function heroShowSlides(n) {
      let i;
      const slides = document.querySelectorAll('.hero-slideshow .slide');
      const dots = document.querySelectorAll('.hero-slideshow .slide-dot');
      
      if (n > slides.length) {heroSlideIndex = 1}
      if (n < 1) {heroSlideIndex = slides.length}
      
      // 隐藏所有幻灯片
      for (i = 0; i < slides.length; i++) {
        slides[i].classList.remove('active');
      }
      
      // 移除所有点的活动状态
      for (i = 0; i < dots.length; i++) {
        dots[i].classList.remove('active');
      }
      
      // 显示当前幻灯片和激活当前点
      slides[heroSlideIndex-1].classList.add('active');
      dots[heroSlideIndex-1].classList.add('active');
    }
    
    // 每日一题倒计时
    function updateChallengeTimer() {
      // 设置每日挑战结束时间为今天的23:59:59
      const now = new Date();
      const endTime = new Date(now);
      endTime.setHours(23, 59, 59, 999);
      
      // 计算剩余时间
      const timeDiff = endTime - now;
      
      // 如果已经结束，重置为明天
      if (timeDiff < 0) {
        endTime.setDate(endTime.getDate() + 1);
        timeDiff = endTime - now;
      }
      
      // 计算小时、分钟和秒数
      const hours = Math.floor(timeDiff / (1000 * 60 * 60));
      const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((timeDiff % (1000 * 60)) / 1000);
      
      // 格式化显示
      const formattedTime = 
        String(hours).padStart(2, '0') + ':' +
        String(minutes).padStart(2, '0') + ':' +
        String(seconds).padStart(2, '0');
      
      // 更新显示
      document.getElementById('challenge-timer').textContent = formattedTime;
    }
    
    // 竞赛倒计时
    function updateContestCountdowns() {
      // 竞赛1倒计时 - 假设是2天后
      const contest1Date = new Date();
      contest1Date.setDate(contest1Date.getDate() + 2);
      contest1Date.setHours(9, 30, 0, 0);
      updateCountdown('contest-countdown-1', contest1Date);
      
      // 竞赛2倒计时 - 假设是9天后
      const contest2Date = new Date();
      contest2Date.setDate(contest2Date.getDate() + 9);
      contest2Date.setHours(21, 30, 0, 0);
      updateCountdown('contest-countdown-2', contest2Date);
    }
    
    function updateCountdown(elementId, targetDate) {
      const now = new Date();
      const timeDiff = targetDate - now;
      
      if (timeDiff <= 0) {
        document.getElementById(elementId).textContent = "已开始";
        return;
      }
      
      // 计算天、小时、分钟和秒
      const days = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((timeDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((timeDiff % (1000 * 60)) / 1000);
      
      // 格式化显示
      let formattedTime = '';
      if (days > 0) {
        formattedTime += days + '天 ';
      }
      formattedTime += String(hours).padStart(2, '0') + ':';
      formattedTime += String(minutes).padStart(2, '0') + ':';
      formattedTime += String(seconds).padStart(2, '0');
      
      document.getElementById(elementId).textContent = formattedTime;
    }

    // 全局变量，用于跟踪当前显示的年份和月份
    let currentYear;
    let currentMonth;
    let currentDay;
    
    // 日历标记数据 - 格式: { year: 2025, month: 7, day: 12, type: 'contest', title: '周赛 #455' }
    let calendarMarks = [
      { year: 2025, month: 7, day: 12, type: 'contest', title: '周赛 #455' },
      { year: 2025, month: 7, day: 19, type: 'contest', title: '双周赛 #148' },
      { year: 2025, month: 7, day: 5, type: 'contest', title: '周赛 #454' },
      { year: 2025, month: 7, day: 15, type: 'deadline', title: '算法作业截止' },
      { year: 2025, month: 7, day: 20, type: 'homework', title: '数据结构作业' },
      { year: 2025, month: 7, day: 25, type: 'note', title: '复习笔记' }
    ];

    // 初始化日历
    function initCalendar() {
      const now = new Date();
      currentYear = now.getFullYear();
      currentMonth = now.getMonth();
      currentDay = now.getDate();
      
      updateCalendar();
      
      // 初始化时钟
      initClock();
    }
    
    // 更新日历显示
    function updateCalendar() {
      // 设置当前月份标题
      document.querySelector('.current-month').textContent = `${currentYear}年${currentMonth + 1}月`;
      
      // 获取当月第一天
      const firstDay = new Date(currentYear, currentMonth, 1);
      // 获取当月最后一天
      const lastDay = new Date(currentYear, currentMonth + 1, 0);
      
      // 获取当月第一天是星期几（0-6，0是星期日）
      const firstDayIndex = firstDay.getDay();
      // 获取当月天数
      const daysInMonth = lastDay.getDate();
      
      // 获取上个月最后一天
      const prevLastDay = new Date(currentYear, currentMonth, 0);
      const prevDaysInMonth = prevLastDay.getDate();
      
      // 计算下个月开始的天数（总共显示5行，即35天）
      const nextDays = 35 - (firstDayIndex + daysInMonth);
      
      // 清空日历天数
      const daysContainer = document.getElementById('calendar-days');
      daysContainer.innerHTML = '';
      
      // 添加上个月的最后几天
      for (let i = firstDayIndex; i > 0; i--) {
        const dayElement = document.createElement('div');
        dayElement.className = 'day other-month';
        dayElement.textContent = prevDaysInMonth - i + 1;
        daysContainer.appendChild(dayElement);
      }
      
      // 获取当前日期，用于标记今天
      const now = new Date();
      const today = now.getDate();
      const thisMonth = now.getMonth();
      const thisYear = now.getFullYear();
      
      // 添加当月的天数
      for (let i = 1; i <= daysInMonth; i++) {
        const dayElement = document.createElement('div');
        dayElement.className = 'day';
        // 只有当前月份和年份与日历显示一致时，才标记今天
        if (i === today && currentMonth === thisMonth && currentYear === thisYear) {
          dayElement.classList.add('today');
        }
        
        // 检查是否有标记
        const dayMarks = calendarMarks.filter(mark => 
          mark.year === currentYear && 
          mark.month === currentMonth + 1 && // 注意：JavaScript月份从0开始，我们的数据从1开始
          mark.day === i
        );
        
        // 如果有标记，添加标记类
        if (dayMarks.length > 0) {
          dayElement.classList.add('marked');
          // 如果有多个标记，只显示第一个的类型
          if (dayMarks[0].type) {
            dayElement.classList.add(dayMarks[0].type);
          }
          
          // 添加标记提示
          const markTitles = dayMarks.map(mark => mark.title).join('\n');
          dayElement.title = markTitles;
          dayElement.setAttribute('data-marked', 'true');
        }
        
        // 设置日期点击事件
        dayElement.setAttribute('data-date', `${currentYear}-${currentMonth + 1}-${i}`);
        dayElement.addEventListener('click', toggleDateMark);
        
        dayElement.textContent = i;
        daysContainer.appendChild(dayElement);
      }
      
      // 添加下个月的开始几天
      for (let i = 1; i <= nextDays; i++) {
        const dayElement = document.createElement('div');
        dayElement.className = 'day other-month';
        dayElement.textContent = i;
        daysContainer.appendChild(dayElement);
      }
      
      // 不再需要更新日历底部信息
      const weekDays = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'];
    }
    
    // 上个月
    function prevMonth() {
      currentMonth--;
      if (currentMonth < 0) {
        currentMonth = 11;
        currentYear--;
      }
      updateCalendar();
    }
    
    // 下个月
    function nextMonth() {
      currentMonth++;
      if (currentMonth > 11) {
        currentMonth = 0;
        currentYear++;
      }
      updateCalendar();
    }
    
    // 切换日期标记状态
    function toggleDateMark(event) {
      const dateStr = this.getAttribute('data-date');
      const [year, month, day] = dateStr.split('-').map(Number);
      
      // 检查是否已经有标记
      const markIndex = calendarMarks.findIndex(mark => 
        mark.year === year && mark.month === month && mark.day === day
      );
      
      if (markIndex >= 0) {
        // 如果已有标记，显示编辑/删除选项
        showMarkOptions(event, dateStr, calendarMarks[markIndex]);
      } else {
        // 如果没有标记，显示添加标记选项
        showAddMarkForm(event, dateStr);
      }
    }
    
    // 显示添加标记表单
    function showAddMarkForm(event, dateStr) {
      // 防止事件冒泡
      event.stopPropagation();
      
      // 解析日期
      const [year, month, day] = dateStr.split('-').map(Number);
      
      // 创建简单弹窗
      const modal = document.createElement('div');
      modal.className = 'calendar-mark-modal';
      modal.innerHTML = `
        <div class="calendar-mark-form">
          <h3>添加标记 (${year}年${month}月${day}日)</h3>
          <div class="form-group">
            <label for="mark-title">标题:</label>
            <input type="text" id="mark-title" placeholder="请输入标记标题">
          </div>
          <div class="form-group">
            <label for="mark-type">类型:</label>
            <select id="mark-type">
              <option value="contest">竞赛</option>
              <option value="deadline">截止日期</option>
              <option value="homework">作业</option>
              <option value="note">笔记</option>
            </select>
          </div>
          <div class="form-buttons">
            <button class="btn-cancel">取消</button>
            <button class="btn-save">保存</button>
          </div>
        </div>
      `;
      
      document.body.appendChild(modal);
      
      // 点击背景关闭
      modal.addEventListener('click', function(e) {
        if (e.target === modal) {
          document.body.removeChild(modal);
        }
      });
      
      // 取消按钮
      modal.querySelector('.btn-cancel').addEventListener('click', function() {
        document.body.removeChild(modal);
      });
      
      // 保存按钮
      modal.querySelector('.btn-save').addEventListener('click', function() {
        const title = modal.querySelector('#mark-title').value.trim();
        const type = modal.querySelector('#mark-type').value;
        
        if (title) {
          // 添加新标记
          calendarMarks.push({
            year, month, day, type, title
          });
          
          // 更新日历
          updateCalendar();
          
          // 关闭弹窗
          document.body.removeChild(modal);
        }
      });
    }
    
    // 显示标记选项（编辑或删除）
    function showMarkOptions(event, dateStr, mark) {
      // 防止事件冒泡
      event.stopPropagation();
      
      // 解析日期
      const [year, month, day] = dateStr.split('-').map(Number);
      
      // 创建简单弹窗
      const modal = document.createElement('div');
      modal.className = 'calendar-mark-modal';
      modal.innerHTML = `
        <div class="calendar-mark-form">
          <h3>标记详情 (${year}年${month}月${day}日)</h3>
          <p class="mark-info">${mark.title}</p>
          <p class="mark-type ${mark.type}">${getMarkTypeName(mark.type)}</p>
          <div class="form-buttons">
            <button class="btn-delete">删除</button>
            <button class="btn-edit">编辑</button>
            <button class="btn-close">关闭</button>
          </div>
        </div>
      `;
      
      document.body.appendChild(modal);
      
      // 点击背景关闭
      modal.addEventListener('click', function(e) {
        if (e.target === modal) {
          document.body.removeChild(modal);
        }
      });
      
      // 删除按钮
      modal.querySelector('.btn-delete').addEventListener('click', function() {
        // 查找并删除标记
        const markIndex = calendarMarks.findIndex(m => 
          m.year === year && m.month === month && m.day === day
        );
        
        if (markIndex >= 0) {
          calendarMarks.splice(markIndex, 1);
          updateCalendar();
        }
        
        document.body.removeChild(modal);
      });
      
      // 编辑按钮
      modal.querySelector('.btn-edit').addEventListener('click', function() {
        document.body.removeChild(modal);
        showEditMarkForm(event, dateStr, mark);
      });
      
      // 关闭按钮
      modal.querySelector('.btn-close').addEventListener('click', function() {
        document.body.removeChild(modal);
      });
    }
    
    // 显示编辑标记表单
    function showEditMarkForm(event, dateStr, mark) {
      // 防止事件冒泡
      event.stopPropagation();
      
      // 解析日期
      const [year, month, day] = dateStr.split('-').map(Number);
      
      // 创建简单弹窗
      const modal = document.createElement('div');
      modal.className = 'calendar-mark-modal';
      modal.innerHTML = `
        <div class="calendar-mark-form">
          <h3>编辑标记 (${year}年${month}月${day}日)</h3>
          <div class="form-group">
            <label for="edit-mark-title">标题:</label>
            <input type="text" id="edit-mark-title" value="${mark.title}" placeholder="请输入标记标题">
          </div>
          <div class="form-group">
            <label for="edit-mark-type">类型:</label>
            <select id="edit-mark-type">
              <option value="contest" ${mark.type === 'contest' ? 'selected' : ''}>竞赛</option>
              <option value="deadline" ${mark.type === 'deadline' ? 'selected' : ''}>截止日期</option>
              <option value="homework" ${mark.type === 'homework' ? 'selected' : ''}>作业</option>
              <option value="note" ${mark.type === 'note' ? 'selected' : ''}>笔记</option>
            </select>
          </div>
          <div class="form-buttons">
            <button class="btn-cancel">取消</button>
            <button class="btn-save">保存</button>
          </div>
        </div>
      `;
      
      document.body.appendChild(modal);
      
      // 点击背景关闭
      modal.addEventListener('click', function(e) {
        if (e.target === modal) {
          document.body.removeChild(modal);
        }
      });
      
      // 取消按钮
      modal.querySelector('.btn-cancel').addEventListener('click', function() {
        document.body.removeChild(modal);
      });
      
      // 保存按钮
      modal.querySelector('.btn-save').addEventListener('click', function() {
        const title = modal.querySelector('#edit-mark-title').value.trim();
        const type = modal.querySelector('#edit-mark-type').value;
        
        if (title) {
          // 查找并更新标记
          const markIndex = calendarMarks.findIndex(m => 
            m.year === year && m.month === month && m.day === day
          );
          
          if (markIndex >= 0) {
            calendarMarks[markIndex].title = title;
            calendarMarks[markIndex].type = type;
            updateCalendar();
          }
          
          // 关闭弹窗
          document.body.removeChild(modal);
        }
      });
    }
    
    // 获取标记类型名称
    function getMarkTypeName(type) {
      const typeMap = {
        'contest': '竞赛',
        'deadline': '截止日期',
        'homework': '作业',
        'note': '笔记'
      };
      return typeMap[type] || '标记';
    }
    
    // 点击头像显示下拉菜单和搜索功能
    document.addEventListener('DOMContentLoaded', function() {
      // 获取用户头像元素和下拉菜单元素
      const userAvatar = document.querySelector('.avatar-img');
      const userDropdown = document.querySelector('.user-dropdown');
      
      // 点击头像时显示/隐藏下拉菜单
      userAvatar.addEventListener('click', function(event) {
        event.stopPropagation(); // 阻止事件冒泡
        userDropdown.classList.toggle('show');
        
        // 隐藏搜索框（如果显示的话）
        const searchContainer = document.getElementById('search-container');
        if (searchContainer.classList.contains('show')) {
          searchContainer.classList.remove('show');
        }
      });
      
      // 搜索图标点击功能
      const searchIcon = document.getElementById('search-icon');
      const searchContainer = document.getElementById('search-container');
      
      searchIcon.addEventListener('click', function(event) {
        event.stopPropagation();
        searchContainer.classList.toggle('show');
        
        // 如果搜索框显示，就隐藏用户下拉菜单
        if (searchContainer.classList.contains('show')) {
          userDropdown.classList.remove('show');
          
          // 自动聚焦到搜索输入框
          setTimeout(() => {
            const searchInput = document.querySelector('.search-input');
            searchInput.focus();
          }, 100);
        }
      });
      
      // 防止点击搜索框本身时关闭它
      searchContainer.addEventListener('click', function(event) {
        event.stopPropagation();
      });
      
      // 搜索按钮功能
      const searchBtn = document.querySelector('.search-btn');
      searchBtn.addEventListener('click', function() {
        const searchInput = document.querySelector('.search-input');
        const searchQuery = searchInput.value.trim();
        
        if (searchQuery) {
          // 可以根据需要修改搜索逻辑
          alert('正在搜索: ' + searchQuery);
          // 实际项目中应该重定向到搜索结果页面或执行搜索API调用
          // window.location.href = `search-results.html?q=${encodeURIComponent(searchQuery)}`;
        }
      });
      
      // 点击页面其他地方时隐藏下拉菜单和搜索框
      document.addEventListener('click', function() {
        if (userDropdown.classList.contains('show')) {
          userDropdown.classList.remove('show');
        }
        
        if (searchContainer.classList.contains('show')) {
          searchContainer.classList.remove('show');
        }
      });
      
      // 防止点击下拉菜单本身时关闭它
      userDropdown.addEventListener('click', function(event) {
        event.stopPropagation();
      });
      
      // 搜索框回车键提交
      const searchInput = document.querySelector('.search-input');
      searchInput.addEventListener('keypress', function(event) {
        if (event.key === 'Enter') {
          searchBtn.click();
        }
      });
    });
  
    // 点赞、取消点赞功能以及评论功能
    document.addEventListener('DOMContentLoaded', function() {
      // 获取所有点赞按钮
      const likeButtons = document.querySelectorAll('.like-stat');
      
      // 为每个点赞按钮添加点击事件
      likeButtons.forEach(button => {
        button.addEventListener('click', function() {
          // 获取当前点赞状态和数量
          const isLiked = this.getAttribute('data-liked') === 'true';
          let likeCount = parseInt(this.getAttribute('data-count'));
          
          // 切换点赞状态
          if (isLiked) {
            // 取消点赞
            likeCount--;
            this.setAttribute('data-liked', 'false');
            this.classList.remove('liked');
          } else {
            // 点赞
            likeCount++;
            this.setAttribute('data-liked', 'true');
            this.classList.add('liked');
          }
          
          // 更新点赞数量
          this.setAttribute('data-count', likeCount);
          this.querySelector('.like-count').textContent = likeCount;
          
          // 点击模态框外部关闭模态框
          window.addEventListener('click', function(e) {
            if (e.target === reportModal) {
              reportModal.classList.remove('show');
            }
          });
          
          // 在实际项目中，这里应该发送 AJAX 请求到服务器更新点赞状态
          // 例如：
          /*
          fetch('/api/discussions/like', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              discussionId: this.closest('.discussion-card').dataset.id,
              liked: !isLiked
            })
          })
          .then(response => response.json())
          .then(data => {
            console.log('Success:', data);
          })
          .catch(error => {
            console.error('Error:', error);
            // 如果请求失败，恢复原状态
            this.setAttribute('data-liked', isLiked);
            this.setAttribute('data-count', isLiked ? likeCount + 1 : likeCount - 1);
            this.querySelector('.like-count').textContent = isLiked ? likeCount + 1 : likeCount - 1;
            if (isLiked) {
              this.classList.add('liked');
            } else {
              this.classList.remove('liked');
            }
          });
          */
        });
      });
      
      // 获取所有回复按钮
      const replyButtons = document.querySelectorAll('.reply-stat');
      
      // 为每个回复按钮添加点击事件
      replyButtons.forEach(button => {
        button.addEventListener('click', function() {
          // 获取评论区域
          const card = this.closest('.discussion-card');
          const commentsSection = card.querySelector('.comments-section');
          
          // 显示或隐藏评论区
          if (commentsSection.style.display === 'none') {
            commentsSection.style.display = 'block';
            
            // 聚焦到评论输入框
            const commentInput = commentsSection.querySelector('.comment-input');
            setTimeout(() => {
              commentInput.focus();
            }, 100);
          } else {
            commentsSection.style.display = 'none';
          }
        });
      });
      
      // 获取所有评论提交按钮
      const submitButtons = document.querySelectorAll('.comment-submit');
      
      // 为每个提交按钮添加点击事件
      submitButtons.forEach(button => {
        button.addEventListener('click', function() {
          // 获取评论输入框
          const commentInput = this.previousElementSibling;
          const commentText = commentInput.value.trim();
          
          // 如果评论为空，不做任何处理
          if (!commentText) return;
          
          // 获取讨论卡片和评论区
          const card = this.closest('.discussion-card');
          const commentsList = card.querySelector('.comments-list');
          const cardId = card.getAttribute('data-card-id');
          
          // 生成评论ID（卡片ID + 当前时间戳）
          const commentId = cardId + '-' + new Date().getTime();
          
          // 创建新评论元素
          const newComment = document.createElement('div');
          newComment.className = 'comment-item';
          newComment.setAttribute('data-comment-id', commentId);
          
          // 设置当前用户名（在实际应用中应从登录会话获取）
          const currentUser = "用户001"; 
          
          // 设置评论内容
          newComment.innerHTML = `
            <div class="comment-content">
              <span class="comment-author">${currentUser}:</span>
              <span class="comment-text">${commentText}</span>
              <span class="comment-delete" title="删除评论">×</span>
            </div>
          `;
          
          // 添加作者数据属性，用于权限检查
          newComment.setAttribute('data-author', currentUser);
          
          // 添加新评论到评论列表
          commentsList.appendChild(newComment);
          
          // 更新评论数量
          const commentCountElem = card.querySelector('.comment-count');
          const commentCount = parseInt(commentCountElem.textContent) + 1;
          commentCountElem.textContent = commentCount;
          
          // 清空输入框
          commentInput.value = '';
          
          // 为新评论的删除按钮添加事件
          const deleteButton = newComment.querySelector('.comment-delete');
          deleteButton.addEventListener('click', function() {
            handleDeleteComment(newComment, card);
          });
          
          // 在实际项目中，应该发送AJAX请求保存评论
          // 例如：
          /*
          fetch('/api/discussions/comment', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              discussionId: cardId,
              commentText: commentText
            })
          })
          .then(response => response.json())
          .then(data => {
            console.log('Comment saved:', data);
            // 使用服务器返回的ID替换临时ID
            newComment.setAttribute('data-comment-id', data.commentId);
          })
          .catch(error => {
            console.error('Error:', error);
            // 如果请求失败，可以移除评论
            commentsList.removeChild(newComment);
            commentCountElem.textContent = commentCount - 1;
          });
          */
        });
      });
      
      // 设置当前登录的用户（在实际应用中应从登录会话获取）
      const currentUser = "用户001";
      
      // 显示当前用户头像旁的用户名（如果存在）
      const usernameElement = document.querySelector('.username');
      if (usernameElement) {
        usernameElement.textContent = currentUser;
      }
      
      // 添加举报模态框到 body
      const reportModal = document.createElement('div');
      reportModal.className = 'report-modal';
      reportModal.id = 'reportModal';
      reportModal.innerHTML = `
        <div class="report-modal-content">
          <div class="report-modal-header">
            <h3 class="report-modal-title">举报帖子</h3>
            <button class="report-close-btn">&times;</button>
          </div>
          <div class="report-types">
            <div class="report-type">
              <input type="radio" id="report-spam" name="report-reason" value="spam">
              <label for="report-spam">垃圾信息/广告</label>
            </div>
            <div class="report-type">
              <input type="radio" id="report-inappropriate" name="report-reason" value="inappropriate">
              <label for="report-inappropriate">不当内容</label>
            </div>
            <div class="report-type">
              <input type="radio" id="report-irrelevant" name="report-reason" value="irrelevant">
              <label for="report-irrelevant">与主题无关</label>
            </div>
            <div class="report-type">
              <input type="radio" id="report-copyright" name="report-reason" value="copyright">
              <label for="report-copyright">侵犯版权</label>
            </div>
            <div class="report-type">
              <input type="radio" id="report-other" name="report-reason" value="other">
              <label for="report-other">其他原因</label>
            </div>
          </div>
          <div class="report-details">
            <textarea placeholder="请详细说明举报原因（选填）"></textarea>
          </div>
          <div class="report-footer">
            <button class="report-btn-cancel">取消</button>
            <button class="report-btn-submit">提交</button>
          </div>
        </div>
      `;
      document.body.appendChild(reportModal);
      
      // 绑定举报功能
      const reportButtons = document.querySelectorAll('.report-btn');
      const reportCloseBtn = document.querySelector('.report-close-btn');
      const reportCancelBtn = document.querySelector('.report-btn-cancel');
      const reportSubmitBtn = document.querySelector('.report-btn-submit');
      
      // 当前被举报的帖子ID
      let reportingPostId = null;
      
      // 点击举报按钮
      reportButtons.forEach(button => {
        button.addEventListener('click', function() {
          reportingPostId = this.getAttribute('data-post-id');
          reportModal.classList.add('show');
          
          // 重置表单
          document.querySelectorAll('input[name="report-reason"]').forEach(radio => {
            radio.checked = false;
          });
          document.querySelector('.report-details textarea').value = '';
        });
      });
      
      // 关闭举报模态框
      reportCloseBtn.addEventListener('click', function() {
        reportModal.classList.remove('show');
      });
      
      reportCancelBtn.addEventListener('click', function() {
        reportModal.classList.remove('show');
      });
      
      // 提交举报
      reportSubmitBtn.addEventListener('click', function() {
        const selectedReason = document.querySelector('input[name="report-reason"]:checked');
        const details = document.querySelector('.report-details textarea').value.trim();
        
        if (!selectedReason) {
          alert('请选择举报原因');
          return;
        }
        
        // 在实际应用中，这里应该发送举报信息到服务器
        // 以下是模拟提交举报
        console.log('举报信息:', {
          postId: reportingPostId,
          reason: selectedReason.value,
          details: details
        });
        
        // 关闭模态框并显示成功提示
        reportModal.classList.remove('show');
        alert('举报已提交，我们会尽快处理');
      });
      
      // 仅显示当前用户自己的评论的删除按钮
      document.querySelectorAll('.comment-item').forEach(comment => {
        const commentAuthor = comment.getAttribute('data-author');
        const deleteButton = comment.querySelector('.comment-delete');
        
        if (commentAuthor === currentUser && deleteButton) {
          deleteButton.style.display = 'inline';
        }
      });
      
      // 为所有现有评论的删除按钮添加事件
      const deleteButtons = document.querySelectorAll('.comment-delete');
      deleteButtons.forEach(button => {
        button.addEventListener('click', function() {
          const commentItem = this.closest('.comment-item');
          const card = this.closest('.discussion-card');
          handleDeleteComment(commentItem, card);
        });
      });
      
      // 处理删除评论的函数
      function handleDeleteComment(commentItem, card) {
        // 获取评论ID和作者
        const commentId = commentItem.getAttribute('data-comment-id');
        const commentAuthor = commentItem.getAttribute('data-author');
        
        // 获取当前用户（在实际应用中应从登录会话获取）
        const currentUser = "用户001";
        
        // 检查是否是自己的评论
        if (commentAuthor !== currentUser) {
          alert('只能删除自己发布的评论！');
          return;
        }
        
        // 确认删除
        if (confirm('确定要删除这条评论吗？')) {
          // 删除评论元素
          commentItem.remove();
          
          // 更新评论数量
          const commentCountElem = card.querySelector('.comment-count');
          const commentCount = parseInt(commentCountElem.textContent) - 1;
          commentCountElem.textContent = commentCount;
          
          // 在实际项目中，应该发送AJAX请求删除评论
          // 例如：
          /*
          fetch('/api/discussions/comment/' + commentId, {
            method: 'DELETE'
          })
          .then(response => response.json())
          .then(data => {
            console.log('Comment deleted:', data);
          })
          .catch(error => {
            console.error('Error:', error);
            // 如果请求失败，可以还原评论（需要保存评论内容）
          });
          */
        }
      }
    });
  </script>

  <!-- 排行榜实时更新功能 -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // 更新排行榜时间显示
      function updateRankingTime() {
        const now = new Date();
        const hours = String(now.getHours()).padStart(2, '0');
        const minutes = String(now.getMinutes()).padStart(2, '0');
        const seconds = String(now.getSeconds()).padStart(2, '0');
        const year = now.getFullYear();
        const month = String(now.getMonth() + 1).padStart(2, '0');
        const day = String(now.getDate()).padStart(2, '0');
        
        const timeString = `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;
        document.getElementById('ranking-time').textContent = timeString;
      }
      
      // 初始化时更新一次时间
      updateRankingTime();
      
      // 每30秒更新一次时间和排名数据
      setInterval(function() {
        updateRankingTime();
        
        // 这里可以添加逻辑来模拟实时数据更新
        console.log("实时更新排行榜数据...");
        
        // 如果需要，可以在这里添加AJAX请求来获取最新的排行榜数据
      }, 30000);
      
      // 处理讨论卡片的交互
      const likeButtons = document.querySelectorAll('.like-stat');
      const replyButtons = document.querySelectorAll('.reply-stat');
      const collectButtons = document.querySelectorAll('.collect-stat');
      
      // 移除处理更多操作按钮的代码，因为我们现在直接显示举报按钮
      
      // 移除点击页面其他地方关闭下拉菜单的代码，因为不再需要
      
      // 添加点赞动画样式
      const styleElement = document.createElement('style');
      styleElement.textContent = `
        @keyframes heartBeat {
          0% { transform: scale(1); }
          15% { transform: scale(1.3); }
          30% { transform: scale(0.95); }
          45% { transform: scale(1.2); }
          60% { transform: scale(0.95); }
          100% { transform: scale(1); }
        }
        
        @keyframes popIn {
          0% { transform: scale(0.5); opacity: 0; }
          70% { transform: scale(1.1); }
          100% { transform: scale(1); opacity: 1; }
        }
        
        .icon-animate {
          animation: heartBeat 0.6s ease;
        }
        
        /* 图标颜色样式 */
        .like-stat[data-liked="true"] .icon {
          color: #ff4d4f !important;
          text-shadow: 0 0 1px #ff4d4f, 0 0 2px #ff4d4f;
          font-weight: bold;
        }
        
        .reply-stat.active .icon {
          color: #1890ff !important;
          text-shadow: 0 0 1px #1890ff, 0 0 2px #1890ff;
          font-weight: bold;
        }
        
        .collect-stat[data-collected="true"] .icon {
          color: #faad14 !important;
          text-shadow: 0 0 1px #faad14, 0 0 2px #faad14;
          font-weight: bold;
        }
      `;
      document.head.appendChild(styleElement);
      
      // 处理点赞按钮点击事件
      likeButtons.forEach(button => {
        // 从本地存储中恢复状态
        const cardId = button.closest('.discussion-card').getAttribute('data-card-id');
        const likeStorageKey = `like_${cardId}`;
        const savedLikeState = localStorage.getItem(likeStorageKey);
        
        if (savedLikeState === 'true') {
          const likeIcon = button.querySelector('.icon');
          button.setAttribute('data-liked', 'true');
          likeIcon.textContent = '♥'; // 实心心形
        }
        
        button.addEventListener('click', function() {
          const isLiked = this.getAttribute('data-liked') === 'true';
          const likeCount = parseInt(this.getAttribute('data-count'));
          const likeIcon = this.querySelector('.icon');
          const likeCountElement = this.querySelector('.like-count');
          const cardId = this.closest('.discussion-card').getAttribute('data-card-id');
          const likeStorageKey = `like_${cardId}`;
          
          if (isLiked) {
            // 取消点赞
            this.setAttribute('data-liked', 'false');
            likeIcon.textContent = '♡'; // 镂空心形
            likeCountElement.textContent = likeCount - 1;
            this.setAttribute('data-count', likeCount - 1);
            localStorage.removeItem(likeStorageKey);
          } else {
            // 点赞
            this.setAttribute('data-liked', 'true');
            likeIcon.textContent = '♥'; // 实心心形
            likeCountElement.textContent = likeCount + 1;
            this.setAttribute('data-count', likeCount + 1);
            localStorage.setItem(likeStorageKey, 'true');
            
            // 添加点赞动画
            likeIcon.classList.add('icon-animate');
            setTimeout(() => {
              likeIcon.classList.remove('icon-animate');
            }, 600);
          }
        });
      });
      
      // 处理回复按钮点击事件
      replyButtons.forEach(button => {
        // 从本地存储中恢复状态
        const cardId = button.closest('.discussion-card').getAttribute('data-card-id');
        const commentStorageKey = `comment_${cardId}`;
        const savedCommentState = localStorage.getItem(commentStorageKey);
        const card = button.closest('.discussion-card');
        const commentsSection = card.querySelector('.comments-section');
        const replyIcon = button.querySelector('.icon');
        
        if (savedCommentState === 'true') {
          commentsSection.style.display = 'block';
          replyIcon.textContent = '☑';
          button.classList.add('active');
        }
        
        button.addEventListener('click', function() {
          const card = this.closest('.discussion-card');
          const commentsSection = card.querySelector('.comments-section');
          const replyIcon = this.querySelector('.icon');
          const cardId = card.getAttribute('data-card-id');
          const commentStorageKey = `comment_${cardId}`;
          
          // 显示或隐藏评论区
          if (commentsSection.style.display === 'none') {
            commentsSection.style.display = 'block';
            // 改变图标为实心
            replyIcon.textContent = '☑';
            
            // 添加active类以改变颜色
            this.classList.add('active');
            
            // 保存状态到本地存储
            localStorage.setItem(commentStorageKey, 'true');
            
            // 添加动画效果
            replyIcon.classList.add('icon-animate');
            setTimeout(() => {
              replyIcon.classList.remove('icon-animate');
            }, 600);
            
            // 聚焦到评论输入框
            const commentInput = commentsSection.querySelector('.comment-input');
            setTimeout(() => {
              commentInput.focus();
            }, 100);
          } else {
            commentsSection.style.display = 'none';
            // 恢复图标为镂空
            replyIcon.textContent = '☐';
            
            // 移除active类
            this.classList.remove('active');
            
            // 从本地存储中移除状态
            localStorage.removeItem(commentStorageKey);
          }
        });
      });
      
      // 处理收藏按钮点击事件
      collectButtons.forEach(button => {
        // 从本地存储中恢复状态
        const cardId = button.closest('.discussion-card').getAttribute('data-card-id');
        const collectStorageKey = `collect_${cardId}`;
        const savedCollectState = localStorage.getItem(collectStorageKey);
        
        if (savedCollectState === 'true') {
          const collectIcon = button.querySelector('.icon');
          const collectCountElement = button.querySelector('.collect-count');
          const collectCount = parseInt(button.getAttribute('data-count'));
          
          button.setAttribute('data-collected', 'true');
          collectIcon.textContent = '★';
          // 不需要更新计数，因为已经在HTML中设置了初始值
        }
        
        button.addEventListener('click', function() {
          const collectIcon = this.querySelector('.icon');
          const collectCountElement = this.querySelector('.collect-count');
          const isCollected = this.getAttribute('data-collected') === 'true';
          const collectCount = parseInt(this.getAttribute('data-count'));
          const cardId = this.closest('.discussion-card').getAttribute('data-card-id');
          const collectStorageKey = `collect_${cardId}`;
          
          if (!isCollected) {
            // 收藏
            this.setAttribute('data-collected', 'true');
            collectIcon.textContent = '★';
            collectCountElement.textContent = collectCount + 1;
            this.setAttribute('data-count', collectCount + 1);
            
            // 保存状态到本地存储
            localStorage.setItem(collectStorageKey, 'true');
            
            // 添加动画效果
            collectIcon.classList.add('icon-animate');
            setTimeout(() => {
              collectIcon.classList.remove('icon-animate');
            }, 600);
          } else {
            // 取消收藏
            this.setAttribute('data-collected', 'false');
            collectIcon.textContent = '☆';
            collectCountElement.textContent = collectCount - 1;
            this.setAttribute('data-count', collectCount - 1);
            
            // 从本地存储中移除状态
            localStorage.removeItem(collectStorageKey);
          }
        });
      });
      
      // 处理举报按钮点击事件
      const reportButtons = document.querySelectorAll('.report-btn');
      reportButtons.forEach(button => {
        button.addEventListener('click', function(e) {
          e.stopPropagation();
          const postId = this.getAttribute('data-post-id');
          
          // 显示举报模态框
          const reportModal = document.getElementById('reportModal');
          reportingPostId = postId;
          reportModal.classList.add('show');
          
          // 重置表单
          document.querySelectorAll('input[name="report-reason"]').forEach(radio => {
            radio.checked = false;
          });
          document.querySelector('.report-details textarea').value = '';
        });
      });

      // 更多操作按钮功能
      // 为所有更多操作按钮添加点击事件
      const moreButtons = document.querySelectorAll('.more-btn');
      moreButtons.forEach(button => {
        button.addEventListener('click', function(e) {
          e.stopPropagation();
          const menu = this.nextElementSibling;

          // 关闭其他打开的菜单
          document.querySelectorAll('.more-menu.show').forEach(openMenu => {
            if (openMenu !== menu) {
              openMenu.classList.remove('show');
            }
          });

          // 切换当前菜单
          menu.classList.toggle('show');
        });
      });

      // 为所有举报按钮添加点击事件
      const reportMenuItems = document.querySelectorAll('.report-item');
      reportMenuItems.forEach(button => {
        button.addEventListener('click', function(e) {
          e.stopPropagation();
          const discussionCard = this.closest('.discussion-card');
          const cardId = discussionCard.getAttribute('data-card-id');
          showReportModal(cardId);

          // 关闭更多菜单
          this.closest('.more-menu').classList.remove('show');
        });
      });

      // 点击页面其他地方关闭菜单
      document.addEventListener('click', function() {
        document.querySelectorAll('.more-menu.show').forEach(menu => {
          menu.classList.remove('show');
        });
      });
    });



    // 显示举报模态框
    function showReportModal(postId) {
      const modal = document.getElementById('reportModal');
      modal.setAttribute('data-post-id', postId);
      modal.classList.add('show');
    }

    // 关闭举报模态框
    function closeReportModal() {
      const modal = document.getElementById('reportModal');
      modal.classList.remove('show');

      // 重置表单
      document.querySelectorAll('input[name="reportReason"]').forEach(radio => {
        radio.checked = false;
      });
      document.getElementById('reportDetails').value = '';
    }

    // 提交举报
    function submitReport() {
      const modal = document.getElementById('reportModal');
      const postId = modal.getAttribute('data-post-id');
      const selectedReason = document.querySelector('input[name="reportReason"]:checked');
      const details = document.getElementById('reportDetails').value.trim();

      if (!selectedReason) {
        alert('请选择举报原因');
        return;
      }

      // 这里可以添加实际的举报提交逻辑
      console.log('举报信息:', {
        postId: postId,
        reason: selectedReason.value,
        details: details
      });

      alert('举报已提交，我们会尽快处理');
      closeReportModal();
    }

    // 点击举报模态框背景关闭模态框
    document.getElementById('reportModal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeReportModal();
      }
    });
  </script>



</body>

</html>