<html lang="zh-CN"><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OJ平台 - 管理员页面</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#165DFF',
            secondary: '#36CFC9',
            success: '#52C41A',
            warning: '#FAAD14',
            danger: '#FF4D4F',
            dark: '#1D2129',
            'dark-2': '#4E5969',
            'dark-3': '#86909C',
            'light-1': '#F2F3F5',
            'light-2': '#F7F8FA',
            'light-3': '#FFFFFF',
          },
          fontFamily: {
            inter: ['Inter', 'sans-serif'],
          },
          boxShadow: {
            'card': '0 2px 14px 0 rgba(0, 0, 0, 0.06)',
            'dropdown': '0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 9px 28px 8px rgba(0, 0, 0, 0.05)',
          }
        },
      }
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .transition-custom {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      .scrollbar-hide::-webkit-scrollbar {
        display: none;
      }
      .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      .text-shadow {
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      }
      .card-hover {
        @apply hover:shadow-lg hover:-translate-y-1 transition-all duration-300;
      }
      .btn-primary {
        @apply bg-primary text-white px-4 py-2 rounded-md hover:bg-primary/90 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50;
      }
      .btn-secondary {
        @apply bg-white border border-dark-3 text-dark-2 px-4 py-2 rounded-md hover:bg-light-1 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-dark-3/30;
      }
      .form-input {
        @apply w-full px-3 py-2 border border-dark-3 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-200;
      }
      .form-label {
        @apply block text-sm font-medium text-dark-2 mb-1;
      }
      .form-error {
        @apply text-danger text-sm mt-1;
      }
    }

    /* 页脚样式 */
    .footer {
      background-color: white;
      border-top: 1px solid #e2e8f0;
      padding: 20px;
      margin-top: auto;
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .footer-links {
      display: flex;
      list-style: none;
      gap: 20px;
    }

    .footer-link {
      color: #4a5568;
      text-decoration: none;
      font-size: 14px;
    }

    .footer-link:hover {
      color: #3498db;
    }

    .copyright {
      color: #4a5568;
      font-size: 14px;
    }

    /* 背景装饰效果 */
    body::before {
      content: '';
      position: fixed;
      top: 10%;
      left: 10%;
      width: 300px;
      height: 300px;
      background: radial-gradient(circle, rgba(52, 152, 219, 0.3) 0%, rgba(52, 152, 219, 0) 70%);
      border-radius: 50%;
      z-index: -1;
      pointer-events: none;
    }

    body::after {
      content: '';
      position: fixed;
      bottom: 10%;
      right: 10%;
      width: 200px;
      height: 200px;
      background: radial-gradient(circle, rgba(255, 204, 240, 0.3) 0%, rgba(255, 204, 240, 0) 70%);
      border-radius: 50%;
      z-index: -1;
      pointer-events: none;
    }

    /* 媒体查询 */
    @media (max-width: 768px) {
      .footer-content {
        flex-direction: column;
        gap: 15px;
      }
    }
  </style>
</head>

<body class="font-inter text-dark min-h-screen flex flex-col" style="background-color: #e8f0ff; background-image: linear-gradient(135deg, rgba(210, 235, 255, 0.95) 0%, rgba(220, 240, 255, 0.9) 25%, rgba(230, 245, 255, 0.85) 50%, rgba(225, 240, 255, 0.8) 75%, rgba(215, 235, 250, 0.7) 100%), url('data:image/svg+xml,%3Csvg width=\'100\' height=\'100\' viewBox=\'0 0 100 100\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath d=\'M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z\' fill=\'%233498db\' fill-opacity=\'0.05\' fill-rule=\'evenodd\'/%3E%3C/svg%3E'); background-attachment: fixed;">
  <!-- 顶部导航栏 -->
  <header class="sticky top-0 z-50" style="background-color: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px); box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);">
    <div class="container mx-auto px-4">
      <div class="flex items-center justify-between h-16">
        <!-- Logo -->
        <div class="flex items-center">
          <a href="index.html" class="flex items-center">
            <img src="images/logo.png" alt="SwustOJ Logo" class="w-10 h-10 mr-3 object-contain">
            <span class="text-xl font-bold text-dark">欢迎来到SwustOJ</span>
          </a>
          
          <!-- 主导航 -->
          <nav class="hidden md:flex ml-10 space-x-8">
            <a href="index.html" class="text-dark-2 hover:text-primary transition-colors duration-200">
              <i class="fa fa-home mr-1"></i> 首页
            </a>
            <a href="#" id="problemManagementBtn" class="text-primary font-medium border-b-2 border-primary pb-1" onclick="showProblemManagement()">
              <i class="fa fa-tasks mr-1"></i> 题目管理
            </a>
            <a href="#" id="userManagementBtn" class="text-dark-2 hover:text-primary transition-colors duration-200" onclick="showUserManagement()">
              <i class="fa fa-users mr-1"></i> 用户管理
            </a>
            <a href="#" id="contestManagementBtn" class="text-dark-2 hover:text-primary transition-colors duration-200" onclick="showContestManagement()">
              <i class="fa fa-trophy mr-1"></i> 比赛管理
            </a>
            <a href="#" id="statisticsBtn" class="text-dark-2 hover:text-primary transition-colors duration-200" onclick="showStatistics()">
              <i class="fa fa-bar-chart mr-1"></i> 统计分析
            </a>
          </nav>
        </div>
        
        <!-- 用户信息 -->
        <div class="flex items-center">
          <div class="relative">
            <button class="flex items-center text-dark-2 hover:text-primary transition-colors duration-200">
              <i class="fa fa-bell-o mr-1"></i>
              <span class="absolute -top-1 -right-1 bg-danger text-white text-xs rounded-full h-4 w-4 flex items-center justify-center">3</span>
            </button>
          </div>
          
          <div class="ml-4 relative group">
            <button class="flex items-center text-dark-2 hover:text-primary transition-colors duration-200">
              <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/code_assistant/25e1cae9d9c34440bd9c73de1f71a771~tplv-a9rns2rl98-image.image?rk3s=8e244e95&amp;rrcfp=e75484ac&amp;x-expires=1753718922&amp;x-signature=M5L9sN9%2FeOxkg%2FJD9Ua4JL56iM0%3D" alt="用户头像" class="h-8 w-8 rounded-full object-cover mr-2">
              <span>管理员</span>
              <i class="fa fa-caret-down ml-1"></i>
            </button>
            
            <!-- 用户下拉菜单 -->
            <div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-dropdown py-1 z-10 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform origin-top-right scale-95 group-hover:scale-100">
              <a href="#" class="block px-4 py-2 text-sm text-dark-2 hover:bg-light-1">
                <i class="fa fa-user-o mr-2"></i> 个人信息
              </a>
              <a href="#" class="block px-4 py-2 text-sm text-dark-2 hover:bg-light-1">
                <i class="fa fa-cog mr-2"></i> 设置
              </a>
              <div class="border-t border-light-1 my-1"></div>
              <a href="#" class="block px-4 py-2 text-sm text-danger hover:bg-light-1">
                <i class="fa fa-sign-out mr-2"></i> 退出登录
              </a>
            </div>
          </div>
          
          <!-- 移动端菜单按钮 -->
          <button class="ml-4 md:hidden text-dark-2 hover:text-primary">
            <i class="fa fa-bars text-xl"></i>
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- 主要内容 -->
  <main class="flex-grow container mx-auto px-4 py-3">
    <!-- 面包屑导航 -->
    <div class="mb-3">
      <nav class="flex" aria-label="面包屑">
        <ol class="inline-flex items-center space-x-1 md:space-x-3">
          <li class="inline-flex items-center">
            <a href="index.html" class="inline-flex items-center text-dark-3 hover:text-primary transition-colors duration-200">
              <i class="fa fa-home mr-1"></i>
              首页
            </a>
          </li>
          <li id="breadcrumbModule" style="display: none;">
            <div class="flex items-center">
              <i class="fa fa-angle-right text-dark-3 mx-1"></i>
              <a href="#" id="breadcrumbModuleLink" class="text-dark-3 hover:text-primary transition-colors duration-200">题目管理</a>
            </div>
          </li>
          <li aria-current="page">
            <div class="flex items-center">
              <i class="fa fa-angle-right text-dark-3 mx-1"></i>
              <span id="breadcrumbCurrent" class="text-primary font-medium">创建题目</span>
            </div>
          </li>
        </ol>
      </nav>
    </div>
    
    <div class="flex flex-col lg:flex-row gap-4">
      <!-- 左侧边栏 -->
      <aside class="w-full lg:w-64 shrink-0">
        <!-- 题目管理侧边栏 -->
        <div id="problemSidebar" class="bg-white rounded-xl shadow-card p-3 sticky top-20">
          <h3 class="text-lg font-semibold text-dark mb-4">题目管理</h3>
          <nav class="space-y-1">
            <a href="#" id="problemListBtn" class="flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200" onclick="showProblemList()">
              <i class="fa fa-list-ul w-5 text-center mr-2"></i>
              题目列表
            </a>
            <a href="#" id="createProblemBtn" class="flex items-center px-3 py-2 bg-primary/10 text-primary rounded-md font-medium" onclick="showCreateProblem()">
              <i class="fa fa-plus-circle w-5 text-center mr-2"></i>
              创建题目
            </a>
            <a href="#" id="categoryBtn" class="flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200" onclick="showCategory()">
              <i class="fa fa-folder-open-o w-5 text-center mr-2"></i>
              题目分类
            </a>
            <a href="#" id="importExportBtn" class="flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200" onclick="showImportExport()">
              <i class="fa fa-file-text-o w-5 text-center mr-2"></i>
              导入/导出
            </a>
          </nav>

          <div class="mt-4 pt-4 border-t border-light-1">
            <h3 class="text-lg font-semibold text-dark mb-3">题目统计</h3>
            <div class="space-y-3">
              <div>
                <div class="flex justify-between text-sm mb-1">
                  <span class="text-dark-2">总题目数</span>
                  <span class="font-medium">248</span>
                </div>
                <div class="w-full bg-light-1 rounded-full h-2">
                  <div class="bg-primary h-2 rounded-full" style="width: 75%"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between text-sm mb-1">
                  <span class="text-dark-2">待审核</span>
                  <span class="font-medium">12</span>
                </div>
                <div class="w-full bg-light-1 rounded-full h-2">
                  <div class="bg-warning h-2 rounded-full" style="width: 15%"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between text-sm mb-1">
                  <span class="text-dark-2">已解决</span>
                  <span class="font-medium">189</span>
                </div>
                <div class="w-full bg-light-1 rounded-full h-2">
                  <div class="bg-success h-2 rounded-full" style="width: 65%"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 用户管理侧边栏 -->
        <div id="userSidebar" class="bg-white rounded-xl shadow-card p-3 sticky top-20" style="display: none;">
          <h3 class="text-lg font-semibold text-dark mb-3">用户管理</h3>
          <nav class="space-y-1">
            <a href="#" id="userListBtn" class="flex items-center px-3 py-2 bg-primary/10 text-primary rounded-md font-medium" onclick="showUserManagement()">
              <i class="fa fa-users w-5 text-center mr-2"></i>
              用户列表
            </a>
            <a href="#" id="addUserBtn" class="flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200" onclick="showAddUserModal()">
              <i class="fa fa-user-plus w-5 text-center mr-2"></i>
              添加用户
            </a>
            <a href="#" id="roleManagementBtn" class="flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200" onclick="showRoleManagement()">
              <i class="fa fa-shield w-5 text-center mr-2"></i>
              角色管理
            </a>
            <a href="#" id="permissionBtn" class="flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200" onclick="showPermissionSettings()">
              <i class="fa fa-key w-5 text-center mr-2"></i>
              权限设置
            </a>
          </nav>

          <div class="mt-6 pt-6 border-t border-light-1">
            <h3 class="text-lg font-semibold text-dark mb-4">用户统计</h3>
            <div class="space-y-3">
              <div>
                <div class="flex justify-between text-sm mb-1">
                  <span class="text-dark-2">总用户数</span>
                  <span class="font-medium">1,248</span>
                </div>
                <div class="w-full bg-light-1 rounded-full h-2">
                  <div class="bg-primary h-2 rounded-full" style="width: 85%"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between text-sm mb-1">
                  <span class="text-dark-2">活跃用户</span>
                  <span class="font-medium">892</span>
                </div>
                <div class="w-full bg-light-1 rounded-full h-2">
                  <div class="bg-success h-2 rounded-full" style="width: 71%"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between text-sm mb-1">
                  <span class="text-dark-2">今日新增</span>
                  <span class="font-medium">23</span>
                </div>
                <div class="w-full bg-light-1 rounded-full h-2">
                  <div class="bg-warning h-2 rounded-full" style="width: 25%"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 比赛管理侧边栏 -->
        <div id="contestSidebar" class="bg-white rounded-xl shadow-card p-4 sticky top-20" style="display: none;">
          <h3 class="text-lg font-semibold text-dark mb-4">比赛管理</h3>
          <nav class="space-y-1">
            <a href="#" id="contestListBtn" class="flex items-center px-3 py-2 bg-primary/10 text-primary rounded-md font-medium" onclick="showContestManagement()">
              <i class="fa fa-trophy w-5 text-center mr-2"></i>
              比赛列表
            </a>
            <a href="#" id="createContestBtn" class="flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200" onclick="showCreateContestModal()">
              <i class="fa fa-plus-circle w-5 text-center mr-2"></i>
              创建比赛
            </a>
            <a href="#" id="contestCategoryBtn" class="flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200" onclick="showContestCategory()">
              <i class="fa fa-tags w-5 text-center mr-2"></i>
              比赛分类
            </a>
            <a href="#" id="contestSettingsBtn" class="flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200" onclick="showContestSettings()">
              <i class="fa fa-cog w-5 text-center mr-2"></i>
              比赛设置
            </a>
          </nav>

          <div class="mt-6 pt-6 border-t border-light-1">
            <h3 class="text-lg font-semibold text-dark mb-4">比赛统计</h3>
            <div class="space-y-3">
              <div>
                <div class="flex justify-between text-sm mb-1">
                  <span class="text-dark-2">总比赛数</span>
                  <span class="font-medium">48</span>
                </div>
                <div class="w-full bg-light-1 rounded-full h-2">
                  <div class="bg-primary h-2 rounded-full" style="width: 75%"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between text-sm mb-1">
                  <span class="text-dark-2">进行中</span>
                  <span class="font-medium">3</span>
                </div>
                <div class="w-full bg-light-1 rounded-full h-2">
                  <div class="bg-success h-2 rounded-full" style="width: 25%"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between text-sm mb-1">
                  <span class="text-dark-2">即将开始</span>
                  <span class="font-medium">5</span>
                </div>
                <div class="w-full bg-light-1 rounded-full h-2">
                  <div class="bg-warning h-2 rounded-full" style="width: 35%"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 统计分析侧边栏 -->
        <div id="statisticsSidebar" class="bg-white rounded-xl shadow-card p-4 sticky top-20" style="display: none;">
          <h3 class="text-lg font-semibold text-dark mb-4">统计分析</h3>
          <nav class="space-y-1">
            <a href="#" id="overviewStatsBtn" class="flex items-center px-3 py-2 bg-primary/10 text-primary rounded-md font-medium" onclick="showStatsTab('overview')">
              <i class="fa fa-dashboard w-5 text-center mr-2"></i>
              总览统计
            </a>
            <a href="#" id="userStatsBtn" class="flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200" onclick="showStatsTab('user')">
              <i class="fa fa-users w-5 text-center mr-2"></i>
              用户统计
            </a>
            <a href="#" id="problemStatsBtn" class="flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200" onclick="showStatsTab('problem')">
              <i class="fa fa-tasks w-5 text-center mr-2"></i>
              题目统计
            </a>
            <a href="#" id="contestStatsBtn" class="flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200" onclick="showStatsTab('contest')">
              <i class="fa fa-trophy w-5 text-center mr-2"></i>
              比赛统计
            </a>
            <a href="#" id="systemStatsBtn" class="flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200" onclick="showStatsTab('system')">
              <i class="fa fa-server w-5 text-center mr-2"></i>
              系统统计
            </a>
          </nav>

          <div class="mt-6 pt-6 border-t border-light-1">
            <h3 class="text-lg font-semibold text-dark mb-4">快速指标</h3>
            <div class="space-y-3">
              <div>
                <div class="flex justify-between text-sm mb-1">
                  <span class="text-dark-2">系统负载</span>
                  <span class="font-medium text-success">正常</span>
                </div>
                <div class="w-full bg-light-1 rounded-full h-2">
                  <div class="bg-success h-2 rounded-full" style="width: 35%"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between text-sm mb-1">
                  <span class="text-dark-2">在线用户</span>
                  <span class="font-medium">156</span>
                </div>
                <div class="w-full bg-light-1 rounded-full h-2">
                  <div class="bg-primary h-2 rounded-full" style="width: 62%"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between text-sm mb-1">
                  <span class="text-dark-2">今日活跃</span>
                  <span class="font-medium">342</span>
                </div>
                <div class="w-full bg-light-1 rounded-full h-2">
                  <div class="bg-warning h-2 rounded-full" style="width: 78%"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </aside>
      
      <!-- 主要内容区域 -->
      <div class="flex-grow">
        <!-- 题目列表页面 -->
        <div id="problemListPage" class="bg-white rounded-xl shadow-card p-4 mb-3" style="display: none;">
          <div class="flex flex-wrap items-center justify-between mb-4">
            <h2 class="text-2xl font-bold text-dark">题目列表</h2>
            <div class="flex space-x-2 mt-4 sm:mt-0">
              <button class="btn-secondary">
                <i class="fa fa-download mr-1"></i> 导出题目
              </button>
              <button class="btn-primary" onclick="showCreateProblem()">
                <i class="fa fa-plus mr-1"></i> 创建题目
              </button>
            </div>
          </div>

          <!-- 搜索和筛选 -->
          <div class="mb-4 flex flex-wrap gap-4">
            <div class="flex-grow">
              <input type="text" placeholder="搜索题目..." class="form-input">
            </div>
            <select class="form-input w-auto">
              <option>所有分类</option>
              <option>算法基础</option>
              <option>数据结构</option>
              <option>动态规划</option>
              <option>图论</option>
            </select>
            <select class="form-input w-auto">
              <option>所有难度</option>
              <option>简单</option>
              <option>中等</option>
              <option>困难</option>
            </select>
          </div>

          <!-- 题目表格 -->
          <div class="overflow-x-auto">
            <table class="w-full">
              <thead>
                <tr class="border-b border-light-1">
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">ID</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">题目名称</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">分类</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">难度</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">通过率</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">状态</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">操作</th>
                </tr>
              </thead>
              <tbody>
                <tr class="border-b border-light-1 hover:bg-light-2">
                  <td class="py-3 px-4 text-dark-2">1001</td>
                  <td class="py-3 px-4">
                    <div class="font-medium text-dark">两数之和</div>
                    <div class="text-sm text-dark-3">给定一个整数数组和目标值...</div>
                  </td>
                  <td class="py-3 px-4 text-dark-2">算法基础</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-success/10 text-success rounded text-sm">简单</span>
                  </td>
                  <td class="py-3 px-4 text-dark-2">85.2%</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-success/10 text-success rounded text-sm">已发布</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80">编辑</button>
                      <button class="text-warning hover:text-warning/80">预览</button>
                      <button class="text-danger hover:text-danger/80">删除</button>
                    </div>
                  </td>
                </tr>
                <tr class="border-b border-light-1 hover:bg-light-2">
                  <td class="py-3 px-4 text-dark-2">1002</td>
                  <td class="py-3 px-4">
                    <div class="font-medium text-dark">反转链表</div>
                    <div class="text-sm text-dark-3">给定一个单链表，反转链表...</div>
                  </td>
                  <td class="py-3 px-4 text-dark-2">数据结构</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-warning/10 text-warning rounded text-sm">中等</span>
                  </td>
                  <td class="py-3 px-4 text-dark-2">72.8%</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-success/10 text-success rounded text-sm">已发布</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80">编辑</button>
                      <button class="text-warning hover:text-warning/80">预览</button>
                      <button class="text-danger hover:text-danger/80">删除</button>
                    </div>
                  </td>
                </tr>
                <tr class="border-b border-light-1 hover:bg-light-2">
                  <td class="py-3 px-4 text-dark-2">1003</td>
                  <td class="py-3 px-4">
                    <div class="font-medium text-dark">最长公共子序列</div>
                    <div class="text-sm text-dark-3">给定两个字符串，求最长公共子序列...</div>
                  </td>
                  <td class="py-3 px-4 text-dark-2">动态规划</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-danger/10 text-danger rounded text-sm">困难</span>
                  </td>
                  <td class="py-3 px-4 text-dark-2">45.6%</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-dark-3/10 text-dark-3 rounded text-sm">草稿</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80">编辑</button>
                      <button class="text-warning hover:text-warning/80">预览</button>
                      <button class="text-danger hover:text-danger/80">删除</button>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- 分页 -->
          <div class="mt-6 flex justify-between items-center">
            <div class="text-dark-3 text-sm">
              显示 1-10 条，共 25 条记录
            </div>
            <div class="flex space-x-1">
              <button class="px-3 py-1 border border-light-1 rounded text-dark-3 hover:bg-light-1">上一页</button>
              <button class="px-3 py-1 bg-primary text-white rounded">1</button>
              <button class="px-3 py-1 border border-light-1 rounded text-dark-3 hover:bg-light-1">2</button>
              <button class="px-3 py-1 border border-light-1 rounded text-dark-3 hover:bg-light-1">3</button>
              <button class="px-3 py-1 border border-light-1 rounded text-dark-3 hover:bg-light-1">下一页</button>
            </div>
          </div>
        </div>

        <!-- 题目分类页面 -->
        <div id="categoryPage" class="bg-white rounded-xl shadow-card p-6 mb-6" style="display: none;">
          <div class="flex flex-wrap items-center justify-between mb-6">
            <h2 class="text-2xl font-bold text-dark">题目分类管理</h2>
            <div class="flex space-x-2 mt-4 sm:mt-0">
              <button class="btn-secondary">
                <i class="fa fa-download mr-1"></i> 导出分类
              </button>
              <button class="btn-primary" onclick="showAddCategoryModal()">
                <i class="fa fa-plus mr-1"></i> 添加分类
              </button>
            </div>
          </div>

          <!-- 分类统计卡片 -->
          <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
            <div class="bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-4 text-white">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-blue-100 text-sm">总分类数</p>
                  <p class="text-2xl font-bold">8</p>
                </div>
                <i class="fa fa-folder text-3xl text-blue-200"></i>
              </div>
            </div>
            <div class="bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-4 text-white">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-green-100 text-sm">活跃分类</p>
                  <p class="text-2xl font-bold">6</p>
                </div>
                <i class="fa fa-check-circle text-3xl text-green-200"></i>
              </div>
            </div>
            <div class="bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-lg p-4 text-white">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-yellow-100 text-sm">题目最多</p>
                  <p class="text-2xl font-bold">45</p>
                </div>
                <i class="fa fa-star text-3xl text-yellow-200"></i>
              </div>
            </div>
            <div class="bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-4 text-white">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-purple-100 text-sm">平均题目数</p>
                  <p class="text-2xl font-bold">18</p>
                </div>
                <i class="fa fa-bar-chart text-3xl text-purple-200"></i>
              </div>
            </div>
          </div>

          <!-- 分类表格 -->
          <div class="overflow-x-auto">
            <table class="w-full">
              <thead>
                <tr class="border-b border-light-1">
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">分类名称</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">描述</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">题目数量</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">创建时间</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">状态</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">操作</th>
                </tr>
              </thead>
              <tbody>
                <tr class="border-b border-light-1 hover:bg-light-2">
                  <td class="py-3 px-4">
                    <div class="flex items-center">
                      <div class="w-3 h-3 bg-blue-500 rounded-full mr-3"></div>
                      <div class="font-medium text-dark">算法基础</div>
                    </div>
                  </td>
                  <td class="py-3 px-4 text-dark-2">基础算法题目，适合初学者</td>
                  <td class="py-3 px-4 text-dark-2">45</td>
                  <td class="py-3 px-4 text-dark-2">2023-01-15</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-success/10 text-success rounded text-sm">活跃</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editCategory('算法基础')">编辑</button>
                      <button class="text-warning hover:text-warning/80">查看题目</button>
                      <button class="text-danger hover:text-danger/80">删除</button>
                    </div>
                  </td>
                </tr>
                <tr class="border-b border-light-1 hover:bg-light-2">
                  <td class="py-3 px-4">
                    <div class="flex items-center">
                      <div class="w-3 h-3 bg-green-500 rounded-full mr-3"></div>
                      <div class="font-medium text-dark">数据结构</div>
                    </div>
                  </td>
                  <td class="py-3 px-4 text-dark-2">数组、链表、栈、队列等数据结构题目</td>
                  <td class="py-3 px-4 text-dark-2">38</td>
                  <td class="py-3 px-4 text-dark-2">2023-01-15</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-success/10 text-success rounded text-sm">活跃</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editCategory('数据结构')">编辑</button>
                      <button class="text-warning hover:text-warning/80">查看题目</button>
                      <button class="text-danger hover:text-danger/80">删除</button>
                    </div>
                  </td>
                </tr>
                <tr class="border-b border-light-1 hover:bg-light-2">
                  <td class="py-3 px-4">
                    <div class="flex items-center">
                      <div class="w-3 h-3 bg-purple-500 rounded-full mr-3"></div>
                      <div class="font-medium text-dark">动态规划</div>
                    </div>
                  </td>
                  <td class="py-3 px-4 text-dark-2">动态规划算法相关题目</td>
                  <td class="py-3 px-4 text-dark-2">25</td>
                  <td class="py-3 px-4 text-dark-2">2023-01-20</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-success/10 text-success rounded text-sm">活跃</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editCategory('动态规划')">编辑</button>
                      <button class="text-warning hover:text-warning/80">查看题目</button>
                      <button class="text-danger hover:text-danger/80">删除</button>
                    </div>
                  </td>
                </tr>
                <tr class="border-b border-light-1 hover:bg-light-2">
                  <td class="py-3 px-4">
                    <div class="flex items-center">
                      <div class="w-3 h-3 bg-red-500 rounded-full mr-3"></div>
                      <div class="font-medium text-dark">图论</div>
                    </div>
                  </td>
                  <td class="py-3 px-4 text-dark-2">图的遍历、最短路径等图论算法</td>
                  <td class="py-3 px-4 text-dark-2">18</td>
                  <td class="py-3 px-4 text-dark-2">2023-02-01</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-success/10 text-success rounded text-sm">活跃</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editCategory('图论')">编辑</button>
                      <button class="text-warning hover:text-warning/80">查看题目</button>
                      <button class="text-danger hover:text-danger/80">删除</button>
                    </div>
                  </td>
                </tr>
                <tr class="border-b border-light-1 hover:bg-light-2">
                  <td class="py-3 px-4">
                    <div class="flex items-center">
                      <div class="w-3 h-3 bg-yellow-500 rounded-full mr-3"></div>
                      <div class="font-medium text-dark">字符串</div>
                    </div>
                  </td>
                  <td class="py-3 px-4 text-dark-2">字符串处理和匹配算法</td>
                  <td class="py-3 px-4 text-dark-2">15</td>
                  <td class="py-3 px-4 text-dark-2">2023-02-10</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-success/10 text-success rounded text-sm">活跃</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editCategory('字符串')">编辑</button>
                      <button class="text-warning hover:text-warning/80">查看题目</button>
                      <button class="text-danger hover:text-danger/80">删除</button>
                    </div>
                  </td>
                </tr>
                <tr class="border-b border-light-1 hover:bg-light-2">
                  <td class="py-3 px-4">
                    <div class="flex items-center">
                      <div class="w-3 h-3 bg-gray-400 rounded-full mr-3"></div>
                      <div class="font-medium text-dark">数学</div>
                    </div>
                  </td>
                  <td class="py-3 px-4 text-dark-2">数学相关算法题目</td>
                  <td class="py-3 px-4 text-dark-2">3</td>
                  <td class="py-3 px-4 text-dark-2">2023-03-01</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-dark-3/10 text-dark-3 rounded text-sm">暂停</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editCategory('数学')">编辑</button>
                      <button class="text-warning hover:text-warning/80">查看题目</button>
                      <button class="text-danger hover:text-danger/80">删除</button>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- 导入/导出页面 -->
        <div id="importExportPage" class="bg-white rounded-xl shadow-card p-6 mb-6" style="display: none;">
          <div class="flex flex-wrap items-center justify-between mb-6">
            <h2 class="text-2xl font-bold text-dark">题目导入/导出</h2>
            <div class="flex space-x-2 mt-4 sm:mt-0">
              <button class="btn-secondary">
                <i class="fa fa-question-circle mr-1"></i> 帮助文档
              </button>
              <button class="btn-primary">
                <i class="fa fa-download mr-1"></i> 下载模板
              </button>
            </div>
          </div>

          <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <!-- 导入题目 -->
            <div class="space-y-6">
              <div class="bg-blue-50 rounded-lg p-6">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-upload text-blue-500 mr-2"></i>
                  题目导入
                </h3>

                <!-- 文件上传区域 -->
                <div class="border-2 border-dashed border-blue-300 rounded-lg p-6 text-center mb-4 hover:border-blue-400 transition-colors duration-200">
                  <i class="fa fa-cloud-upload text-4xl text-blue-400 mb-3"></i>
                  <p class="text-dark-2 mb-2">拖拽文件到此处或点击选择文件</p>
                  <p class="text-sm text-dark-3 mb-4">支持 .json, .xml, .zip 格式</p>
                  <input type="file" id="importFile" class="hidden" accept=".json,.xml,.zip" multiple>
                  <button class="btn-primary" onclick="document.getElementById('importFile').click()">
                    选择文件
                  </button>
                </div>

                <!-- 导入选项 -->
                <div class="space-y-3 mb-4">
                  <h4 class="font-medium text-dark">导入选项</h4>
                  <label class="flex items-center">
                    <input type="checkbox" class="text-primary focus:ring-primary h-4 w-4" checked>
                    <span class="ml-2 text-dark-2">覆盖同ID题目</span>
                  </label>
                  <label class="flex items-center">
                    <input type="checkbox" class="text-primary focus:ring-primary h-4 w-4" checked>
                    <span class="ml-2 text-dark-2">导入测试用例</span>
                  </label>
                  <label class="flex items-center">
                    <input type="checkbox" class="text-primary focus:ring-primary h-4 w-4">
                    <span class="ml-2 text-dark-2">自动发布题目</span>
                  </label>
                </div>

                <button class="btn-primary w-full">
                  <i class="fa fa-upload mr-1"></i> 开始导入
                </button>
              </div>

              <!-- 导入历史 -->
              <div class="bg-gray-50 rounded-lg p-4">
                <h4 class="font-medium text-dark mb-3">最近导入记录</h4>
                <div class="space-y-2">
                  <div class="flex justify-between items-center text-sm">
                    <span class="text-dark-2">算法基础题库.json</span>
                    <span class="text-success">成功 (25题)</span>
                  </div>
                  <div class="flex justify-between items-center text-sm">
                    <span class="text-dark-2">数据结构练习.zip</span>
                    <span class="text-success">成功 (18题)</span>
                  </div>
                  <div class="flex justify-between items-center text-sm">
                    <span class="text-dark-2">竞赛题目.xml</span>
                    <span class="text-warning">部分成功 (12/15题)</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- 导出题目 -->
            <div class="space-y-6">
              <div class="bg-green-50 rounded-lg p-6">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-download text-green-500 mr-2"></i>
                  题目导出
                </h3>

                <!-- 导出范围选择 -->
                <div class="space-y-4 mb-4">
                  <div>
                    <h4 class="font-medium text-dark mb-2">导出范围</h4>
                    <div class="space-y-2">
                      <label class="flex items-center">
                        <input type="radio" name="exportRange" value="all" class="text-primary focus:ring-primary h-4 w-4" checked>
                        <span class="ml-2 text-dark-2">全部题目</span>
                      </label>
                      <label class="flex items-center">
                        <input type="radio" name="exportRange" value="category" class="text-primary focus:ring-primary h-4 w-4">
                        <span class="ml-2 text-dark-2">按分类导出</span>
                      </label>
                      <label class="flex items-center">
                        <input type="radio" name="exportRange" value="custom" class="text-primary focus:ring-primary h-4 w-4">
                        <span class="ml-2 text-dark-2">自定义选择</span>
                      </label>
                    </div>
                  </div>

                  <div>
                    <h4 class="font-medium text-dark mb-2">导出格式</h4>
                    <select class="form-input">
                      <option value="json">JSON 格式</option>
                      <option value="xml">XML 格式</option>
                      <option value="zip">ZIP 压缩包</option>
                      <option value="pdf">PDF 文档</option>
                    </select>
                  </div>

                  <div>
                    <h4 class="font-medium text-dark mb-2">包含内容</h4>
                    <div class="space-y-2">
                      <label class="flex items-center">
                        <input type="checkbox" class="text-primary focus:ring-primary h-4 w-4" checked>
                        <span class="ml-2 text-dark-2">题目描述</span>
                      </label>
                      <label class="flex items-center">
                        <input type="checkbox" class="text-primary focus:ring-primary h-4 w-4" checked>
                        <span class="ml-2 text-dark-2">测试用例</span>
                      </label>
                      <label class="flex items-center">
                        <input type="checkbox" class="text-primary focus:ring-primary h-4 w-4">
                        <span class="ml-2 text-dark-2">标准答案</span>
                      </label>
                      <label class="flex items-center">
                        <input type="checkbox" class="text-primary focus:ring-primary h-4 w-4">
                        <span class="ml-2 text-dark-2">统计数据</span>
                      </label>
                    </div>
                  </div>
                </div>

                <button class="btn-primary w-full">
                  <i class="fa fa-download mr-1"></i> 开始导出
                </button>
              </div>

              <!-- 导出历史 -->
              <div class="bg-gray-50 rounded-lg p-4">
                <h4 class="font-medium text-dark mb-3">最近导出记录</h4>
                <div class="space-y-2">
                  <div class="flex justify-between items-center text-sm">
                    <span class="text-dark-2">全部题目_20231201.json</span>
                    <button class="text-primary hover:text-primary/80">下载</button>
                  </div>
                  <div class="flex justify-between items-center text-sm">
                    <span class="text-dark-2">算法基础_20231128.zip</span>
                    <button class="text-primary hover:text-primary/80">下载</button>
                  </div>
                  <div class="flex justify-between items-center text-sm">
                    <span class="text-dark-2">竞赛题目_20231125.pdf</span>
                    <button class="text-primary hover:text-primary/80">下载</button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 批量操作工具 -->
          <div class="mt-8 bg-yellow-50 rounded-lg p-6">
            <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
              <i class="fa fa-cogs text-yellow-500 mr-2"></i>
              批量操作工具
            </h3>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div class="text-center">
                <i class="fa fa-exchange text-3xl text-blue-500 mb-2"></i>
                <h4 class="font-medium text-dark mb-1">数据同步</h4>
                <p class="text-sm text-dark-3 mb-3">与其他OJ平台同步题目数据</p>
                <button class="btn-secondary text-sm">配置同步</button>
              </div>

              <div class="text-center">
                <i class="fa fa-check-square text-3xl text-green-500 mb-2"></i>
                <h4 class="font-medium text-dark mb-1">批量审核</h4>
                <p class="text-sm text-dark-3 mb-3">批量审核和发布题目</p>
                <button class="btn-secondary text-sm">开始审核</button>
              </div>

              <div class="text-center">
                <i class="fa fa-trash text-3xl text-red-500 mb-2"></i>
                <h4 class="font-medium text-dark mb-1">批量清理</h4>
                <p class="text-sm text-dark-3 mb-3">清理无效或重复题目</p>
                <button class="btn-secondary text-sm">开始清理</button>
              </div>
            </div>
          </div>
        </div>

        <!-- 用户管理页面 -->
        <div id="userManagementPage" class="bg-white rounded-xl shadow-card p-6 mb-6" style="display: none;">
          <div class="flex flex-wrap items-center justify-between mb-6">
            <h2 class="text-2xl font-bold text-dark">用户管理</h2>
            <div class="flex space-x-2 mt-4 sm:mt-0">
              <button class="btn-secondary">
                <i class="fa fa-download mr-1"></i> 导出用户
              </button>
              <button class="btn-primary" onclick="showAddUserModal()">
                <i class="fa fa-plus mr-1"></i> 添加用户
              </button>
            </div>
          </div>

          <!-- 用户统计卡片 -->
          <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
            <div class="bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-4 text-white">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-blue-100 text-sm">总用户数</p>
                  <p class="text-2xl font-bold">1,248</p>
                </div>
                <i class="fa fa-users text-3xl text-blue-200"></i>
              </div>
            </div>
            <div class="bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-4 text-white">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-green-100 text-sm">活跃用户</p>
                  <p class="text-2xl font-bold">892</p>
                </div>
                <i class="fa fa-user-check text-3xl text-green-200"></i>
              </div>
            </div>
            <div class="bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-lg p-4 text-white">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-yellow-100 text-sm">今日新增</p>
                  <p class="text-2xl font-bold">23</p>
                </div>
                <i class="fa fa-user-plus text-3xl text-yellow-200"></i>
              </div>
            </div>
            <div class="bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-4 text-white">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-purple-100 text-sm">管理员</p>
                  <p class="text-2xl font-bold">8</p>
                </div>
                <i class="fa fa-shield text-3xl text-purple-200"></i>
              </div>
            </div>
          </div>

          <!-- 搜索和筛选 -->
          <div class="mb-6 flex flex-wrap gap-4">
            <div class="flex-grow">
              <input type="text" placeholder="搜索用户..." class="form-input">
            </div>
            <select class="form-input w-auto">
              <option>所有角色</option>
              <option>管理员</option>
              <option>教师</option>
              <option>学生</option>
            </select>
            <select class="form-input w-auto">
              <option>所有状态</option>
              <option>活跃</option>
              <option>禁用</option>
              <option>待验证</option>
            </select>
          </div>

          <!-- 用户表格 -->
          <div class="overflow-x-auto">
            <table class="w-full">
              <thead>
                <tr class="border-b border-light-1">
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">用户ID</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">用户信息</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">邮箱</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">角色</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">注册时间</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">最后登录</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">状态</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">操作</th>
                </tr>
              </thead>
              <tbody>
                <tr class="border-b border-light-1 hover:bg-light-2">
                  <td class="py-3 px-4 text-dark-2">1001</td>
                  <td class="py-3 px-4">
                    <div class="flex items-center">
                      <img src="https://i.pravatar.cc/32?img=1" alt="张三的头像" class="w-8 h-8 rounded-full mr-3">
                      <div>
                        <div class="font-medium text-dark">张三</div>
                        <div class="text-sm text-dark-3">学号: 2021001</div>
                      </div>
                    </div>
                  </td>
                  <td class="py-3 px-4 text-dark-2">zhangsan@swust.edu.cn</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm">学生</span>
                  </td>
                  <td class="py-3 px-4 text-dark-2">2023-09-01</td>
                  <td class="py-3 px-4 text-dark-2">2023-12-01 14:30</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-success/10 text-success rounded text-sm">活跃</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editUser('张三')">编辑</button>
                      <button class="text-warning hover:text-warning/80">查看</button>
                      <button class="text-danger hover:text-danger/80">禁用</button>
                    </div>
                  </td>
                </tr>
                <tr class="border-b border-light-1 hover:bg-light-2">
                  <td class="py-3 px-4 text-dark-2">1002</td>
                  <td class="py-3 px-4">
                    <div class="flex items-center">
                      <img src="https://i.pravatar.cc/32?img=2" alt="李四的头像" class="w-8 h-8 rounded-full mr-3">
                      <div>
                        <div class="font-medium text-dark">李四</div>
                        <div class="text-sm text-dark-3">工号: T001</div>
                      </div>
                    </div>
                  </td>
                  <td class="py-3 px-4 text-dark-2">lisi@swust.edu.cn</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-green-100 text-green-800 rounded text-sm">教师</span>
                  </td>
                  <td class="py-3 px-4 text-dark-2">2023-08-15</td>
                  <td class="py-3 px-4 text-dark-2">2023-12-01 16:45</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-success/10 text-success rounded text-sm">活跃</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editUser('李四')">编辑</button>
                      <button class="text-warning hover:text-warning/80">查看</button>
                      <button class="text-danger hover:text-danger/80">禁用</button>
                    </div>
                  </td>
                </tr>
                <tr class="border-b border-light-1 hover:bg-light-2">
                  <td class="py-3 px-4 text-dark-2">1003</td>
                  <td class="py-3 px-4">
                    <div class="flex items-center">
                      <img src="https://i.pravatar.cc/32?img=3" alt="王五的头像" class="w-8 h-8 rounded-full mr-3">
                      <div>
                        <div class="font-medium text-dark">王五</div>
                        <div class="text-sm text-dark-3">工号: A001</div>
                      </div>
                    </div>
                  </td>
                  <td class="py-3 px-4 text-dark-2">wangwu@swust.edu.cn</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-red-100 text-red-800 rounded text-sm">管理员</span>
                  </td>
                  <td class="py-3 px-4 text-dark-2">2023-01-01</td>
                  <td class="py-3 px-4 text-dark-2">2023-12-01 18:20</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-success/10 text-success rounded text-sm">活跃</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editUser('王五')">编辑</button>
                      <button class="text-warning hover:text-warning/80">查看</button>
                      <button class="text-dark-3">-</button>
                    </div>
                  </td>
                </tr>
                <tr class="border-b border-light-1 hover:bg-light-2">
                  <td class="py-3 px-4 text-dark-2">1004</td>
                  <td class="py-3 px-4">
                    <div class="flex items-center">
                      <img src="https://i.pravatar.cc/32?img=4" alt="赵六的头像" class="w-8 h-8 rounded-full mr-3">
                      <div>
                        <div class="font-medium text-dark">赵六</div>
                        <div class="text-sm text-dark-3">学号: 2022001</div>
                      </div>
                    </div>
                  </td>
                  <td class="py-3 px-4 text-dark-2">zhaoliu@swust.edu.cn</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm">学生</span>
                  </td>
                  <td class="py-3 px-4 text-dark-2">2023-11-15</td>
                  <td class="py-3 px-4 text-dark-2">从未登录</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm">待验证</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editUser('赵六')">编辑</button>
                      <button class="text-success hover:text-success/80">激活</button>
                      <button class="text-danger hover:text-danger/80">删除</button>
                    </div>
                  </td>
                </tr>
                <tr class="border-b border-light-1 hover:bg-light-2">
                  <td class="py-3 px-4 text-dark-2">1005</td>
                  <td class="py-3 px-4">
                    <div class="flex items-center">
                      <img src="https://i.pravatar.cc/32?img=5" alt="孙七的头像" class="w-8 h-8 rounded-full mr-3">
                      <div>
                        <div class="font-medium text-dark">孙七</div>
                        <div class="text-sm text-dark-3">学号: 2023001</div>
                      </div>
                    </div>
                  </td>
                  <td class="py-3 px-4 text-dark-2">sunqi@swust.edu.cn</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm">学生</span>
                  </td>
                  <td class="py-3 px-4 text-dark-2">2023-09-10</td>
                  <td class="py-3 px-4 text-dark-2">2023-11-30 09:15</td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-success/10 text-success rounded text-sm">活跃</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editUser('孙七')">编辑</button>
                      <button class="text-warning hover:text-warning/80">查看</button>
                      <button class="text-danger hover:text-danger/80">禁用</button>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- 分页 -->
          <div class="mt-6 flex justify-between items-center">
            <div class="text-dark-3 text-sm">
              显示 1-5 条，共 1,248 条记录
            </div>
            <div class="flex space-x-1">
              <button class="px-3 py-1 border border-light-1 rounded text-dark-3 hover:bg-light-1">上一页</button>
              <button class="px-3 py-1 bg-primary text-white rounded">1</button>
              <button class="px-3 py-1 border border-light-1 rounded text-dark-3 hover:bg-light-1">2</button>
              <button class="px-3 py-1 border border-light-1 rounded text-dark-3 hover:bg-light-1">3</button>
              <button class="px-3 py-1 border border-light-1 rounded text-dark-3 hover:bg-light-1">下一页</button>
            </div>
          </div>
        </div>

        <!-- 添加用户页面 -->
        <div id="addUserPage" class="bg-white rounded-xl shadow-card p-6 mb-6" style="display: none;">
          <div class="flex flex-wrap items-center justify-between mb-6">
            <h2 class="text-2xl font-bold text-dark">添加新用户</h2>
            <div class="flex space-x-2 mt-4 sm:mt-0">
              <button class="btn-secondary" onclick="showUserManagement()">
                <i class="fa fa-arrow-left mr-1"></i> 返回用户列表
              </button>
              <button class="btn-primary" onclick="saveUser()">
                <i class="fa fa-save mr-1"></i> 保存用户
              </button>
            </div>
          </div>

          <form id="addUserForm" class="space-y-6">
            <!-- 基本信息 -->
            <div class="bg-light-2 rounded-lg p-4">
              <h3 class="text-lg font-semibold text-dark mb-4">基本信息</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <label for="userName" class="block text-sm font-medium text-dark-2 mb-2">用户名 *</label>
                  <input type="text" id="userName" name="userName" class="form-input" placeholder="请输入用户名" required>
                  <div id="userNameError" class="text-danger text-sm mt-1 hidden">请输入用户名</div>
                </div>
                <div>
                  <label for="realName" class="block text-sm font-medium text-dark-2 mb-2">真实姓名 *</label>
                  <input type="text" id="realName" name="realName" class="form-input" placeholder="请输入真实姓名" required>
                  <div id="realNameError" class="text-danger text-sm mt-1 hidden">请输入真实姓名</div>
                </div>
                <div>
                  <label for="userEmail" class="block text-sm font-medium text-dark-2 mb-2">邮箱地址 *</label>
                  <input type="email" id="userEmail" name="userEmail" class="form-input" placeholder="请输入邮箱地址" required>
                  <div id="userEmailError" class="text-danger text-sm mt-1 hidden">请输入有效的邮箱地址</div>
                </div>
                <div>
                  <label for="userPhone" class="block text-sm font-medium text-dark-2 mb-2">手机号码</label>
                  <input type="tel" id="userPhone" name="userPhone" class="form-input" placeholder="请输入手机号码">
                </div>
              </div>
            </div>

            <!-- 账户信息 -->
            <div class="bg-light-2 rounded-lg p-4">
              <h3 class="text-lg font-semibold text-dark mb-4">账户信息</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <label for="userPassword" class="block text-sm font-medium text-dark-2 mb-2">登录密码 *</label>
                  <input type="password" id="userPassword" name="userPassword" class="form-input" placeholder="请输入登录密码" required>
                  <div id="userPasswordError" class="text-danger text-sm mt-1 hidden">密码长度至少6位</div>
                </div>
                <div>
                  <label for="confirmPassword" class="block text-sm font-medium text-dark-2 mb-2">确认密码 *</label>
                  <input type="password" id="confirmPassword" name="confirmPassword" class="form-input" placeholder="请再次输入密码" required>
                  <div id="confirmPasswordError" class="text-danger text-sm mt-1 hidden">两次密码输入不一致</div>
                </div>
                <div>
                  <label for="userRole" class="block text-sm font-medium text-dark-2 mb-2">用户角色 *</label>
                  <select id="userRole" name="userRole" class="form-input" required>
                    <option value="">请选择用户角色</option>
                    <option value="student">学生</option>
                    <option value="teacher">教师</option>
                    <option value="admin">管理员</option>
                  </select>
                  <div id="userRoleError" class="text-danger text-sm mt-1 hidden">请选择用户角色</div>
                </div>
                <div>
                  <label for="userStatus" class="block text-sm font-medium text-dark-2 mb-2">账户状态</label>
                  <select id="userStatus" name="userStatus" class="form-input">
                    <option value="active">活跃</option>
                    <option value="inactive">禁用</option>
                    <option value="pending">待验证</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- 身份信息 -->
            <div class="bg-light-2 rounded-lg p-4">
              <h3 class="text-lg font-semibold text-dark mb-4">身份信息</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <label for="studentId" class="block text-sm font-medium text-dark-2 mb-2">学号/工号</label>
                  <input type="text" id="studentId" name="studentId" class="form-input" placeholder="请输入学号或工号">
                  <div class="text-dark-3 text-sm mt-1">学生填写学号，教师填写工号</div>
                </div>
                <div>
                  <label for="department" class="block text-sm font-medium text-dark-2 mb-2">所属院系/部门</label>
                  <select id="department" name="department" class="form-input">
                    <option value="">请选择院系/部门</option>
                    <option value="cs">计算机科学与技术学院</option>
                    <option value="math">数学与统计学院</option>
                    <option value="physics">物理与电子工程学院</option>
                    <option value="management">经济管理学院</option>
                    <option value="admin">行政部门</option>
                  </select>
                </div>
                <div>
                  <label for="grade" class="block text-sm font-medium text-dark-2 mb-2">年级/入职年份</label>
                  <select id="grade" name="grade" class="form-input">
                    <option value="">请选择年级/入职年份</option>
                    <option value="2024">2024</option>
                    <option value="2023">2023</option>
                    <option value="2022">2022</option>
                    <option value="2021">2021</option>
                    <option value="2020">2020</option>
                    <option value="2019">2019</option>
                  </select>
                </div>
                <div>
                  <label for="class" class="block text-sm font-medium text-dark-2 mb-2">班级</label>
                  <input type="text" id="class" name="class" class="form-input" placeholder="请输入班级（仅学生需要）">
                  <div class="text-dark-3 text-sm mt-1">仅学生用户需要填写</div>
                </div>
              </div>
            </div>

            <!-- 头像上传 -->
            <div class="bg-light-2 rounded-lg p-4">
              <h3 class="text-lg font-semibold text-dark mb-4">头像设置</h3>
              <div class="flex items-center space-x-4">
                <div class="flex-shrink-0">
                  <img id="avatarPreview" src="https://i.pravatar.cc/80?img=0" alt="头像预览" class="w-20 h-20 rounded-full object-cover border-2 border-light-1">
                </div>
                <div class="flex-grow">
                  <label for="avatarUpload" class="block text-sm font-medium text-dark-2 mb-2">上传头像</label>
                  <input type="file" id="avatarUpload" name="avatarUpload" accept="image/*" class="form-input" onchange="previewAvatar(this)">
                  <div class="text-dark-3 text-sm mt-1">支持 JPG、PNG 格式，文件大小不超过 2MB</div>
                </div>
                <div>
                  <button type="button" class="btn-secondary" onclick="generateRandomAvatar()">
                    <i class="fa fa-refresh mr-1"></i> 随机头像
                  </button>
                </div>
              </div>
            </div>

            <!-- 权限设置 -->
            <div class="bg-light-2 rounded-lg p-4">
              <h3 class="text-lg font-semibold text-dark mb-4">权限设置</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <label class="flex items-center">
                    <input type="checkbox" id="canSubmit" name="permissions" value="submit" class="form-checkbox" checked>
                    <span class="ml-2 text-dark-2">允许提交代码</span>
                  </label>
                </div>
                <div>
                  <label class="flex items-center">
                    <input type="checkbox" id="canViewRanking" name="permissions" value="ranking" class="form-checkbox" checked>
                    <span class="ml-2 text-dark-2">查看排行榜</span>
                  </label>
                </div>
                <div>
                  <label class="flex items-center">
                    <input type="checkbox" id="canJoinContest" name="permissions" value="contest" class="form-checkbox" checked>
                    <span class="ml-2 text-dark-2">参加比赛</span>
                  </label>
                </div>
                <div>
                  <label class="flex items-center">
                    <input type="checkbox" id="canCreateTeam" name="permissions" value="team" class="form-checkbox">
                    <span class="ml-2 text-dark-2">创建团队</span>
                  </label>
                </div>
              </div>
            </div>

            <!-- 备注信息 -->
            <div class="bg-light-2 rounded-lg p-4">
              <h3 class="text-lg font-semibold text-dark mb-4">备注信息</h3>
              <div>
                <label for="userNotes" class="block text-sm font-medium text-dark-2 mb-2">备注</label>
                <textarea id="userNotes" name="userNotes" rows="3" class="form-input" placeholder="请输入备注信息（可选）"></textarea>
              </div>
            </div>
          </form>
        </div>

        <!-- 角色管理页面 -->
        <div id="roleManagementPage" class="bg-white rounded-xl shadow-card p-6 mb-6" style="display: none;">
          <div class="flex flex-wrap items-center justify-between mb-6">
            <h2 class="text-2xl font-bold text-dark">角色管理</h2>
            <div class="flex space-x-2 mt-4 sm:mt-0">
              <button class="btn-secondary" onclick="showUserManagement()">
                <i class="fa fa-arrow-left mr-1"></i> 返回用户管理
              </button>
              <button class="btn-primary" onclick="showAddRoleModal()">
                <i class="fa fa-plus mr-1"></i> 添加角色
              </button>
            </div>
          </div>

          <!-- 角色统计卡片 -->
          <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
            <div class="bg-gradient-to-r from-red-500 to-red-600 rounded-lg p-4 text-white">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-red-100 text-sm">管理员角色</p>
                  <p class="text-2xl font-bold">3</p>
                </div>
                <i class="fa fa-shield text-3xl text-red-200"></i>
              </div>
            </div>
            <div class="bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-4 text-white">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-green-100 text-sm">教师角色</p>
                  <p class="text-2xl font-bold">156</p>
                </div>
                <i class="fa fa-graduation-cap text-3xl text-green-200"></i>
              </div>
            </div>
            <div class="bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-4 text-white">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-blue-100 text-sm">学生角色</p>
                  <p class="text-2xl font-bold">1,089</p>
                </div>
                <i class="fa fa-user text-3xl text-blue-200"></i>
              </div>
            </div>
            <div class="bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-4 text-white">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-purple-100 text-sm">自定义角色</p>
                  <p class="text-2xl font-bold">2</p>
                </div>
                <i class="fa fa-cogs text-3xl text-purple-200"></i>
              </div>
            </div>
          </div>

          <!-- 角色列表 -->
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <!-- 系统角色 -->
            <div class="bg-light-2 rounded-lg p-4">
              <h3 class="text-lg font-semibold text-dark mb-4">系统角色</h3>
              <div class="space-y-4">
                <!-- 管理员角色 -->
                <div class="bg-white rounded-lg p-4 border border-light-1">
                  <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center">
                      <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center mr-3">
                        <i class="fa fa-shield text-red-600"></i>
                      </div>
                      <div>
                        <h4 class="font-semibold text-dark">管理员</h4>
                        <p class="text-sm text-dark-3">系统最高权限角色</p>
                      </div>
                    </div>
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editRole('管理员')">
                        <i class="fa fa-edit"></i>
                      </button>
                      <button class="text-warning hover:text-warning/80" onclick="viewRoleUsers('管理员')">
                        <i class="fa fa-users"></i>
                      </button>
                    </div>
                  </div>
                  <div class="mb-3">
                    <div class="flex justify-between text-sm mb-1">
                      <span class="text-dark-2">用户数量</span>
                      <span class="font-medium">3 人</span>
                    </div>
                    <div class="w-full bg-light-1 rounded-full h-2">
                      <div class="bg-red-500 h-2 rounded-full" style="width: 15%"></div>
                    </div>
                  </div>
                  <div class="flex flex-wrap gap-1">
                    <span class="px-2 py-1 bg-green-100 text-green-800 rounded text-xs">全部权限</span>
                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs">用户管理</span>
                    <span class="px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs">系统设置</span>
                  </div>
                </div>

                <!-- 教师角色 -->
                <div class="bg-white rounded-lg p-4 border border-light-1">
                  <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center">
                      <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-3">
                        <i class="fa fa-graduation-cap text-green-600"></i>
                      </div>
                      <div>
                        <h4 class="font-semibold text-dark">教师</h4>
                        <p class="text-sm text-dark-3">教学管理权限角色</p>
                      </div>
                    </div>
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editRole('教师')">
                        <i class="fa fa-edit"></i>
                      </button>
                      <button class="text-warning hover:text-warning/80" onclick="viewRoleUsers('教师')">
                        <i class="fa fa-users"></i>
                      </button>
                    </div>
                  </div>
                  <div class="mb-3">
                    <div class="flex justify-between text-sm mb-1">
                      <span class="text-dark-2">用户数量</span>
                      <span class="font-medium">156 人</span>
                    </div>
                    <div class="w-full bg-light-1 rounded-full h-2">
                      <div class="bg-green-500 h-2 rounded-full" style="width: 65%"></div>
                    </div>
                  </div>
                  <div class="flex flex-wrap gap-1">
                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs">题目管理</span>
                    <span class="px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs">班级管理</span>
                    <span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs">成绩查看</span>
                  </div>
                </div>

                <!-- 学生角色 -->
                <div class="bg-white rounded-lg p-4 border border-light-1">
                  <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center">
                      <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3">
                        <i class="fa fa-user text-blue-600"></i>
                      </div>
                      <div>
                        <h4 class="font-semibold text-dark">学生</h4>
                        <p class="text-sm text-dark-3">基础学习权限角色</p>
                      </div>
                    </div>
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editRole('学生')">
                        <i class="fa fa-edit"></i>
                      </button>
                      <button class="text-warning hover:text-warning/80" onclick="viewRoleUsers('学生')">
                        <i class="fa fa-users"></i>
                      </button>
                    </div>
                  </div>
                  <div class="mb-3">
                    <div class="flex justify-between text-sm mb-1">
                      <span class="text-dark-2">用户数量</span>
                      <span class="font-medium">1,089 人</span>
                    </div>
                    <div class="w-full bg-light-1 rounded-full h-2">
                      <div class="bg-blue-500 h-2 rounded-full" style="width: 85%"></div>
                    </div>
                  </div>
                  <div class="flex flex-wrap gap-1">
                    <span class="px-2 py-1 bg-green-100 text-green-800 rounded text-xs">提交代码</span>
                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs">查看题目</span>
                    <span class="px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs">参加比赛</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- 自定义角色 -->
            <div class="bg-light-2 rounded-lg p-4">
              <h3 class="text-lg font-semibold text-dark mb-4">自定义角色</h3>
              <div class="space-y-4">
                <!-- 助教角色 -->
                <div class="bg-white rounded-lg p-4 border border-light-1">
                  <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center">
                      <div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center mr-3">
                        <i class="fa fa-user-plus text-orange-600"></i>
                      </div>
                      <div>
                        <h4 class="font-semibold text-dark">助教</h4>
                        <p class="text-sm text-dark-3">辅助教学权限角色</p>
                      </div>
                    </div>
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editRole('助教')">
                        <i class="fa fa-edit"></i>
                      </button>
                      <button class="text-warning hover:text-warning/80" onclick="viewRoleUsers('助教')">
                        <i class="fa fa-users"></i>
                      </button>
                      <button class="text-danger hover:text-danger/80" onclick="deleteRole('助教')">
                        <i class="fa fa-trash"></i>
                      </button>
                    </div>
                  </div>
                  <div class="mb-3">
                    <div class="flex justify-between text-sm mb-1">
                      <span class="text-dark-2">用户数量</span>
                      <span class="font-medium">12 人</span>
                    </div>
                    <div class="w-full bg-light-1 rounded-full h-2">
                      <div class="bg-orange-500 h-2 rounded-full" style="width: 25%"></div>
                    </div>
                  </div>
                  <div class="flex flex-wrap gap-1">
                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs">批改作业</span>
                    <span class="px-2 py-1 bg-green-100 text-green-800 rounded text-xs">查看提交</span>
                    <span class="px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs">答疑解惑</span>
                  </div>
                </div>

                <!-- 访客角色 -->
                <div class="bg-white rounded-lg p-4 border border-light-1">
                  <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center">
                      <div class="w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center mr-3">
                        <i class="fa fa-eye text-gray-600"></i>
                      </div>
                      <div>
                        <h4 class="font-semibold text-dark">访客</h4>
                        <p class="text-sm text-dark-3">只读权限角色</p>
                      </div>
                    </div>
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editRole('访客')">
                        <i class="fa fa-edit"></i>
                      </button>
                      <button class="text-warning hover:text-warning/80" onclick="viewRoleUsers('访客')">
                        <i class="fa fa-users"></i>
                      </button>
                      <button class="text-danger hover:text-danger/80" onclick="deleteRole('访客')">
                        <i class="fa fa-trash"></i>
                      </button>
                    </div>
                  </div>
                  <div class="mb-3">
                    <div class="flex justify-between text-sm mb-1">
                      <span class="text-dark-2">用户数量</span>
                      <span class="font-medium">5 人</span>
                    </div>
                    <div class="w-full bg-light-1 rounded-full h-2">
                      <div class="bg-gray-500 h-2 rounded-full" style="width: 10%"></div>
                    </div>
                  </div>
                  <div class="flex flex-wrap gap-1">
                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs">查看题目</span>
                    <span class="px-2 py-1 bg-green-100 text-green-800 rounded text-xs">浏览排行</span>
                  </div>
                </div>

                <!-- 添加新角色卡片 -->
                <div class="bg-white rounded-lg p-4 border-2 border-dashed border-light-1 text-center">
                  <div class="py-8">
                    <i class="fa fa-plus text-3xl text-dark-3 mb-3"></i>
                    <p class="text-dark-3 mb-3">添加新的自定义角色</p>
                    <button class="btn-primary" onclick="showAddRoleModal()">
                      <i class="fa fa-plus mr-1"></i> 创建角色
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 权限设置页面 -->
        <div id="permissionSettingsPage" class="bg-white rounded-xl shadow-card p-6 mb-6" style="display: none;">
          <div class="flex flex-wrap items-center justify-between mb-6">
            <h2 class="text-2xl font-bold text-dark">权限设置</h2>
            <div class="flex space-x-2 mt-4 sm:mt-0">
              <button class="btn-secondary" onclick="showUserManagement()">
                <i class="fa fa-arrow-left mr-1"></i> 返回用户管理
              </button>
              <button class="btn-primary" onclick="savePermissionSettings()">
                <i class="fa fa-save mr-1"></i> 保存设置
              </button>
            </div>
          </div>

          <!-- 权限分类标签 -->
          <div class="mb-6">
            <div class="flex flex-wrap gap-2">
              <button id="systemPermTab" class="px-4 py-2 bg-primary text-white rounded-lg font-medium" onclick="showPermissionTab('system')">
                系统权限
              </button>
              <button id="problemPermTab" class="px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2" onclick="showPermissionTab('problem')">
                题目权限
              </button>
              <button id="contestPermTab" class="px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2" onclick="showPermissionTab('contest')">
                比赛权限
              </button>
              <button id="userPermTab" class="px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2" onclick="showPermissionTab('user')">
                用户权限
              </button>
            </div>
          </div>

          <!-- 系统权限设置 -->
          <div id="systemPermissions" class="permission-tab">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
              <!-- 管理员权限 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-shield text-red-600 mr-2"></i>
                  管理员权限
                </h3>
                <div class="space-y-3">
                  <label class="flex items-center justify-between p-3 bg-white rounded-lg border border-light-1">
                    <div class="flex items-center">
                      <input type="checkbox" class="form-checkbox text-red-600" checked disabled>
                      <div class="ml-3">
                        <span class="font-medium text-dark">系统管理</span>
                        <p class="text-sm text-dark-3">管理系统设置和配置</p>
                      </div>
                    </div>
                    <span class="px-2 py-1 bg-red-100 text-red-800 rounded text-xs">核心权限</span>
                  </label>
                  <label class="flex items-center justify-between p-3 bg-white rounded-lg border border-light-1">
                    <div class="flex items-center">
                      <input type="checkbox" class="form-checkbox text-red-600" checked disabled>
                      <div class="ml-3">
                        <span class="font-medium text-dark">用户管理</span>
                        <p class="text-sm text-dark-3">管理所有用户账户</p>
                      </div>
                    </div>
                    <span class="px-2 py-1 bg-red-100 text-red-800 rounded text-xs">核心权限</span>
                  </label>
                  <label class="flex items-center justify-between p-3 bg-white rounded-lg border border-light-1">
                    <div class="flex items-center">
                      <input type="checkbox" class="form-checkbox text-red-600" checked>
                      <div class="ml-3">
                        <span class="font-medium text-dark">数据备份</span>
                        <p class="text-sm text-dark-3">执行系统数据备份</p>
                      </div>
                    </div>
                    <span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs">可配置</span>
                  </label>
                  <label class="flex items-center justify-between p-3 bg-white rounded-lg border border-light-1">
                    <div class="flex items-center">
                      <input type="checkbox" class="form-checkbox text-red-600" checked>
                      <div class="ml-3">
                        <span class="font-medium text-dark">日志查看</span>
                        <p class="text-sm text-dark-3">查看系统操作日志</p>
                      </div>
                    </div>
                    <span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs">可配置</span>
                  </label>
                </div>
              </div>

              <!-- 教师权限 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-graduation-cap text-green-600 mr-2"></i>
                  教师权限
                </h3>
                <div class="space-y-3">
                  <label class="flex items-center justify-between p-3 bg-white rounded-lg border border-light-1">
                    <div class="flex items-center">
                      <input type="checkbox" class="form-checkbox text-green-600" checked>
                      <div class="ml-3">
                        <span class="font-medium text-dark">班级管理</span>
                        <p class="text-sm text-dark-3">管理班级和学生</p>
                      </div>
                    </div>
                    <span class="px-2 py-1 bg-green-100 text-green-800 rounded text-xs">默认开启</span>
                  </label>
                  <label class="flex items-center justify-between p-3 bg-white rounded-lg border border-light-1">
                    <div class="flex items-center">
                      <input type="checkbox" class="form-checkbox text-green-600" checked>
                      <div class="ml-3">
                        <span class="font-medium text-dark">成绩查看</span>
                        <p class="text-sm text-dark-3">查看学生成绩和提交</p>
                      </div>
                    </div>
                    <span class="px-2 py-1 bg-green-100 text-green-800 rounded text-xs">默认开启</span>
                  </label>
                  <label class="flex items-center justify-between p-3 bg-white rounded-lg border border-light-1">
                    <div class="flex items-center">
                      <input type="checkbox" class="form-checkbox text-green-600">
                      <div class="ml-3">
                        <span class="font-medium text-dark">题目审核</span>
                        <p class="text-sm text-dark-3">审核学生提交的题目</p>
                      </div>
                    </div>
                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs">可选权限</span>
                  </label>
                  <label class="flex items-center justify-between p-3 bg-white rounded-lg border border-light-1">
                    <div class="flex items-center">
                      <input type="checkbox" class="form-checkbox text-green-600" checked>
                      <div class="ml-3">
                        <span class="font-medium text-dark">批量操作</span>
                        <p class="text-sm text-dark-3">批量处理学生数据</p>
                      </div>
                    </div>
                    <span class="px-2 py-1 bg-green-100 text-green-800 rounded text-xs">默认开启</span>
                  </label>
                </div>
              </div>

              <!-- 学生权限 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-user text-blue-600 mr-2"></i>
                  学生权限
                </h3>
                <div class="space-y-3">
                  <label class="flex items-center justify-between p-3 bg-white rounded-lg border border-light-1">
                    <div class="flex items-center">
                      <input type="checkbox" class="form-checkbox text-blue-600" checked disabled>
                      <div class="ml-3">
                        <span class="font-medium text-dark">题目浏览</span>
                        <p class="text-sm text-dark-3">浏览和查看题目</p>
                      </div>
                    </div>
                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs">基础权限</span>
                  </label>
                  <label class="flex items-center justify-between p-3 bg-white rounded-lg border border-light-1">
                    <div class="flex items-center">
                      <input type="checkbox" class="form-checkbox text-blue-600" checked disabled>
                      <div class="ml-3">
                        <span class="font-medium text-dark">代码提交</span>
                        <p class="text-sm text-dark-3">提交代码解答</p>
                      </div>
                    </div>
                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs">基础权限</span>
                  </label>
                  <label class="flex items-center justify-between p-3 bg-white rounded-lg border border-light-1">
                    <div class="flex items-center">
                      <input type="checkbox" class="form-checkbox text-blue-600" checked>
                      <div class="ml-3">
                        <span class="font-medium text-dark">排行榜查看</span>
                        <p class="text-sm text-dark-3">查看排行榜和统计</p>
                      </div>
                    </div>
                    <span class="px-2 py-1 bg-green-100 text-green-800 rounded text-xs">默认开启</span>
                  </label>
                  <label class="flex items-center justify-between p-3 bg-white rounded-lg border border-light-1">
                    <div class="flex items-center">
                      <input type="checkbox" class="form-checkbox text-blue-600">
                      <div class="ml-3">
                        <span class="font-medium text-dark">讨论发言</span>
                        <p class="text-sm text-dark-3">在讨论区发表言论</p>
                      </div>
                    </div>
                    <span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs">可配置</span>
                  </label>
                </div>
              </div>

              <!-- 访客权限 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-eye text-gray-600 mr-2"></i>
                  访客权限
                </h3>
                <div class="space-y-3">
                  <label class="flex items-center justify-between p-3 bg-white rounded-lg border border-light-1">
                    <div class="flex items-center">
                      <input type="checkbox" class="form-checkbox text-gray-600" checked>
                      <div class="ml-3">
                        <span class="font-medium text-dark">题目浏览</span>
                        <p class="text-sm text-dark-3">只读浏览题目</p>
                      </div>
                    </div>
                    <span class="px-2 py-1 bg-gray-100 text-gray-800 rounded text-xs">只读权限</span>
                  </label>
                  <label class="flex items-center justify-between p-3 bg-white rounded-lg border border-light-1">
                    <div class="flex items-center">
                      <input type="checkbox" class="form-checkbox text-gray-600">
                      <div class="ml-3">
                        <span class="font-medium text-dark">排行榜查看</span>
                        <p class="text-sm text-dark-3">查看公开排行榜</p>
                      </div>
                    </div>
                    <span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs">可配置</span>
                  </label>
                  <label class="flex items-center justify-between p-3 bg-white rounded-lg border border-light-1">
                    <div class="flex items-center">
                      <input type="checkbox" class="form-checkbox text-gray-600">
                      <div class="ml-3">
                        <span class="font-medium text-dark">注册申请</span>
                        <p class="text-sm text-dark-3">申请注册账户</p>
                      </div>
                    </div>
                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs">可选权限</span>
                  </label>
                </div>
              </div>
            </div>
          </div>

          <!-- 题目权限设置 -->
          <div id="problemPermissions" class="permission-tab" style="display: none;">
            <div class="bg-light-2 rounded-lg p-6">
              <h3 class="text-lg font-semibold text-dark mb-6">题目相关权限设置</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="space-y-4">
                  <h4 class="font-medium text-dark">创建和编辑</h4>
                  <label class="flex items-center p-3 bg-white rounded-lg border border-light-1">
                    <input type="checkbox" class="form-checkbox" checked>
                    <span class="ml-3">创建新题目</span>
                  </label>
                  <label class="flex items-center p-3 bg-white rounded-lg border border-light-1">
                    <input type="checkbox" class="form-checkbox" checked>
                    <span class="ml-3">编辑题目内容</span>
                  </label>
                  <label class="flex items-center p-3 bg-white rounded-lg border border-light-1">
                    <input type="checkbox" class="form-checkbox">
                    <span class="ml-3">删除题目</span>
                  </label>
                </div>
                <div class="space-y-4">
                  <h4 class="font-medium text-dark">审核和发布</h4>
                  <label class="flex items-center p-3 bg-white rounded-lg border border-light-1">
                    <input type="checkbox" class="form-checkbox" checked>
                    <span class="ml-3">审核题目</span>
                  </label>
                  <label class="flex items-center p-3 bg-white rounded-lg border border-light-1">
                    <input type="checkbox" class="form-checkbox" checked>
                    <span class="ml-3">发布题目</span>
                  </label>
                  <label class="flex items-center p-3 bg-white rounded-lg border border-light-1">
                    <input type="checkbox" class="form-checkbox">
                    <span class="ml-3">设置题目可见性</span>
                  </label>
                </div>
              </div>
            </div>
          </div>

          <!-- 比赛权限设置 -->
          <div id="contestPermissions" class="permission-tab" style="display: none;">
            <div class="bg-light-2 rounded-lg p-6">
              <h3 class="text-lg font-semibold text-dark mb-6">比赛相关权限设置</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="space-y-4">
                  <h4 class="font-medium text-dark">比赛管理</h4>
                  <label class="flex items-center p-3 bg-white rounded-lg border border-light-1">
                    <input type="checkbox" class="form-checkbox" checked>
                    <span class="ml-3">创建比赛</span>
                  </label>
                  <label class="flex items-center p-3 bg-white rounded-lg border border-light-1">
                    <input type="checkbox" class="form-checkbox" checked>
                    <span class="ml-3">编辑比赛设置</span>
                  </label>
                  <label class="flex items-center p-3 bg-white rounded-lg border border-light-1">
                    <input type="checkbox" class="form-checkbox">
                    <span class="ml-3">删除比赛</span>
                  </label>
                </div>
                <div class="space-y-4">
                  <h4 class="font-medium text-dark">参赛权限</h4>
                  <label class="flex items-center p-3 bg-white rounded-lg border border-light-1">
                    <input type="checkbox" class="form-checkbox" checked>
                    <span class="ml-3">参加比赛</span>
                  </label>
                  <label class="flex items-center p-3 bg-white rounded-lg border border-light-1">
                    <input type="checkbox" class="form-checkbox" checked>
                    <span class="ml-3">查看比赛排名</span>
                  </label>
                  <label class="flex items-center p-3 bg-white rounded-lg border border-light-1">
                    <input type="checkbox" class="form-checkbox">
                    <span class="ml-3">创建团队</span>
                  </label>
                </div>
              </div>
            </div>
          </div>

          <!-- 用户权限设置 -->
          <div id="userPermissions" class="permission-tab" style="display: none;">
            <div class="bg-light-2 rounded-lg p-6">
              <h3 class="text-lg font-semibold text-dark mb-6">用户相关权限设置</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="space-y-4">
                  <h4 class="font-medium text-dark">个人信息</h4>
                  <label class="flex items-center p-3 bg-white rounded-lg border border-light-1">
                    <input type="checkbox" class="form-checkbox" checked>
                    <span class="ml-3">修改个人信息</span>
                  </label>
                  <label class="flex items-center p-3 bg-white rounded-lg border border-light-1">
                    <input type="checkbox" class="form-checkbox" checked>
                    <span class="ml-3">上传头像</span>
                  </label>
                  <label class="flex items-center p-3 bg-white rounded-lg border border-light-1">
                    <input type="checkbox" class="form-checkbox">
                    <span class="ml-3">修改用户名</span>
                  </label>
                </div>
                <div class="space-y-4">
                  <h4 class="font-medium text-dark">社交功能</h4>
                  <label class="flex items-center p-3 bg-white rounded-lg border border-light-1">
                    <input type="checkbox" class="form-checkbox" checked>
                    <span class="ml-3">发送私信</span>
                  </label>
                  <label class="flex items-center p-3 bg-white rounded-lg border border-light-1">
                    <input type="checkbox" class="form-checkbox" checked>
                    <span class="ml-3">加入讨论</span>
                  </label>
                  <label class="flex items-center p-3 bg-white rounded-lg border border-light-1">
                    <input type="checkbox" class="form-checkbox">
                    <span class="ml-3">创建讨论话题</span>
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 比赛管理页面 -->
        <div id="contestManagementPage" class="bg-white rounded-xl shadow-card p-6 mb-6" style="display: none;">
          <div class="flex flex-wrap items-center justify-between mb-6">
            <h2 class="text-2xl font-bold text-dark">比赛管理</h2>
            <div class="flex space-x-2 mt-4 sm:mt-0">
              <button class="btn-secondary">
                <i class="fa fa-download mr-1"></i> 导出数据
              </button>
              <button class="btn-primary" onclick="showCreateContestModal()">
                <i class="fa fa-plus mr-1"></i> 创建比赛
              </button>
            </div>
          </div>

          <!-- 比赛统计卡片 -->
          <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
            <div class="bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-4 text-white">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-blue-100 text-sm">总比赛数</p>
                  <p class="text-2xl font-bold">48</p>
                </div>
                <i class="fa fa-trophy text-3xl text-blue-200"></i>
              </div>
            </div>
            <div class="bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-4 text-white">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-green-100 text-sm">进行中</p>
                  <p class="text-2xl font-bold">3</p>
                </div>
                <i class="fa fa-play-circle text-3xl text-green-200"></i>
              </div>
            </div>
            <div class="bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-lg p-4 text-white">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-yellow-100 text-sm">即将开始</p>
                  <p class="text-2xl font-bold">5</p>
                </div>
                <i class="fa fa-clock-o text-3xl text-yellow-200"></i>
              </div>
            </div>
            <div class="bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-4 text-white">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-purple-100 text-sm">参赛人数</p>
                  <p class="text-2xl font-bold">1,256</p>
                </div>
                <i class="fa fa-users text-3xl text-purple-200"></i>
              </div>
            </div>
          </div>

          <!-- 搜索和筛选 -->
          <div class="mb-6 flex flex-wrap gap-4">
            <div class="flex-grow">
              <input type="text" placeholder="搜索比赛..." class="form-input">
            </div>
            <select class="form-input w-auto">
              <option>所有状态</option>
              <option>未开始</option>
              <option>进行中</option>
              <option>已结束</option>
              <option>已取消</option>
            </select>
            <select class="form-input w-auto">
              <option>所有类型</option>
              <option>个人赛</option>
              <option>团队赛</option>
              <option>练习赛</option>
              <option>正式比赛</option>
            </select>
            <select class="form-input w-auto">
              <option>最近创建</option>
              <option>即将开始</option>
              <option>参赛人数</option>
              <option>比赛时长</option>
            </select>
          </div>

          <!-- 比赛列表 -->
          <div class="overflow-x-auto">
            <table class="w-full">
              <thead>
                <tr class="border-b border-light-1">
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">比赛ID</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">比赛信息</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">类型</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">时间安排</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">参赛情况</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">状态</th>
                  <th class="text-left py-3 px-4 font-semibold text-dark-2">操作</th>
                </tr>
              </thead>
              <tbody>
                <tr class="border-b border-light-1 hover:bg-light-2">
                  <td class="py-3 px-4 text-dark-2">C001</td>
                  <td class="py-3 px-4">
                    <div>
                      <div class="font-medium text-dark">2024年春季编程大赛</div>
                      <div class="text-sm text-dark-3">面向全校学生的综合性编程竞赛</div>
                    </div>
                  </td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm">个人赛</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="text-sm">
                      <div class="text-dark">2024-03-15 14:00</div>
                      <div class="text-dark-3">时长: 3小时</div>
                    </div>
                  </td>
                  <td class="py-3 px-4">
                    <div class="text-sm">
                      <div class="text-dark">已报名: 156人</div>
                      <div class="text-dark-3">限制: 200人</div>
                    </div>
                  </td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-green-100 text-green-800 rounded text-sm">进行中</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editContest('2024年春季编程大赛')">编辑</button>
                      <button class="text-warning hover:text-warning/80" onclick="viewContestDetails('C001')">详情</button>
                      <button class="text-success hover:text-success/80" onclick="viewContestRanking('C001')">排名</button>
                    </div>
                  </td>
                </tr>
                <tr class="border-b border-light-1 hover:bg-light-2">
                  <td class="py-3 px-4 text-dark-2">C002</td>
                  <td class="py-3 px-4">
                    <div>
                      <div class="font-medium text-dark">算法基础练习赛</div>
                      <div class="text-sm text-dark-3">针对初学者的算法练习比赛</div>
                    </div>
                  </td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-green-100 text-green-800 rounded text-sm">练习赛</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="text-sm">
                      <div class="text-dark">2024-03-20 19:00</div>
                      <div class="text-dark-3">时长: 2小时</div>
                    </div>
                  </td>
                  <td class="py-3 px-4">
                    <div class="text-sm">
                      <div class="text-dark">已报名: 89人</div>
                      <div class="text-dark-3">无限制</div>
                    </div>
                  </td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm">即将开始</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editContest('算法基础练习赛')">编辑</button>
                      <button class="text-warning hover:text-warning/80" onclick="viewContestDetails('C002')">详情</button>
                      <button class="text-danger hover:text-danger/80" onclick="cancelContest('C002')">取消</button>
                    </div>
                  </td>
                </tr>
                <tr class="border-b border-light-1 hover:bg-light-2">
                  <td class="py-3 px-4 text-dark-2">C003</td>
                  <td class="py-3 px-4">
                    <div>
                      <div class="font-medium text-dark">ACM校内选拔赛</div>
                      <div class="text-sm text-dark-3">选拔优秀选手参加ACM区域赛</div>
                    </div>
                  </td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-purple-100 text-purple-800 rounded text-sm">团队赛</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="text-sm">
                      <div class="text-dark">2024-04-10 13:00</div>
                      <div class="text-dark-3">时长: 5小时</div>
                    </div>
                  </td>
                  <td class="py-3 px-4">
                    <div class="text-sm">
                      <div class="text-dark">已报名: 24队</div>
                      <div class="text-dark-3">限制: 30队</div>
                    </div>
                  </td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm">未开始</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editContest('ACM校内选拔赛')">编辑</button>
                      <button class="text-warning hover:text-warning/80" onclick="viewContestDetails('C003')">详情</button>
                      <button class="text-success hover:text-success/80" onclick="startContest('C003')">开始</button>
                    </div>
                  </td>
                </tr>
                <tr class="border-b border-light-1 hover:bg-light-2">
                  <td class="py-3 px-4 text-dark-2">C004</td>
                  <td class="py-3 px-4">
                    <div>
                      <div class="font-medium text-dark">数据结构专题赛</div>
                      <div class="text-sm text-dark-3">专注于数据结构的专题比赛</div>
                    </div>
                  </td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm">个人赛</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="text-sm">
                      <div class="text-dark">2024-02-28 14:00</div>
                      <div class="text-dark-3">时长: 2.5小时</div>
                    </div>
                  </td>
                  <td class="py-3 px-4">
                    <div class="text-sm">
                      <div class="text-dark">参赛: 134人</div>
                      <div class="text-dark-3">已完成</div>
                    </div>
                  </td>
                  <td class="py-3 px-4">
                    <span class="px-2 py-1 bg-gray-100 text-gray-800 rounded text-sm">已结束</span>
                  </td>
                  <td class="py-3 px-4">
                    <div class="flex space-x-2">
                      <button class="text-warning hover:text-warning/80" onclick="viewContestDetails('C004')">详情</button>
                      <button class="text-success hover:text-success/80" onclick="viewContestRanking('C004')">排名</button>
                      <button class="text-primary hover:text-primary/80" onclick="exportContestData('C004')">导出</button>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- 分页 -->
          <div class="mt-6 flex justify-between items-center">
            <div class="text-dark-3 text-sm">
              显示 1-4 条，共 48 条记录
            </div>
            <div class="flex space-x-1">
              <button class="px-3 py-1 border border-light-1 rounded text-dark-3 hover:bg-light-1">上一页</button>
              <button class="px-3 py-1 bg-primary text-white rounded">1</button>
              <button class="px-3 py-1 border border-light-1 rounded text-dark-3 hover:bg-light-1">2</button>
              <button class="px-3 py-1 border border-light-1 rounded text-dark-3 hover:bg-light-1">3</button>
              <button class="px-3 py-1 border border-light-1 rounded text-dark-3 hover:bg-light-1">下一页</button>
            </div>
          </div>
        </div>

        <!-- 创建比赛页面 -->
        <div id="createContestPage" class="bg-white rounded-xl shadow-card p-6 mb-6" style="display: none;">
          <div class="flex flex-wrap items-center justify-between mb-6">
            <h2 class="text-2xl font-bold text-dark">创建新比赛</h2>
            <div class="flex space-x-2 mt-4 sm:mt-0">
              <button class="btn-secondary" onclick="showContestManagement()">
                <i class="fa fa-arrow-left mr-1"></i> 返回比赛列表
              </button>
              <button class="btn-primary" onclick="saveContest()">
                <i class="fa fa-save mr-1"></i> 创建比赛
              </button>
            </div>
          </div>

          <form id="createContestForm" class="space-y-6">
            <!-- 基本信息 -->
            <div class="bg-light-2 rounded-lg p-4">
              <h3 class="text-lg font-semibold text-dark mb-4">基本信息</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="md:col-span-2">
                  <label for="contestTitle" class="block text-sm font-medium text-dark-2 mb-2">比赛标题 *</label>
                  <input type="text" id="contestTitle" name="contestTitle" class="form-input" placeholder="请输入比赛标题" required>
                  <div id="contestTitleError" class="text-danger text-sm mt-1 hidden">请输入比赛标题</div>
                </div>
                <div class="md:col-span-2">
                  <label for="contestDescription" class="block text-sm font-medium text-dark-2 mb-2">比赛描述</label>
                  <textarea id="contestDescription" name="contestDescription" rows="3" class="form-input" placeholder="请输入比赛描述和规则"></textarea>
                </div>
                <div>
                  <label for="contestType" class="block text-sm font-medium text-dark-2 mb-2">比赛类型 *</label>
                  <select id="contestType" name="contestType" class="form-input" required>
                    <option value="">请选择比赛类型</option>
                    <option value="individual">个人赛</option>
                    <option value="team">团队赛</option>
                    <option value="practice">练习赛</option>
                    <option value="official">正式比赛</option>
                  </select>
                  <div id="contestTypeError" class="text-danger text-sm mt-1 hidden">请选择比赛类型</div>
                </div>
                <div>
                  <label for="contestCategory" class="block text-sm font-medium text-dark-2 mb-2">比赛分类</label>
                  <select id="contestCategory" name="contestCategory" class="form-input">
                    <option value="">请选择比赛分类</option>
                    <option value="algorithm">算法竞赛</option>
                    <option value="programming">编程竞赛</option>
                    <option value="acm">ACM竞赛</option>
                    <option value="oi">信息学竞赛</option>
                    <option value="special">专题竞赛</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- 时间设置 -->
            <div class="bg-light-2 rounded-lg p-4">
              <h3 class="text-lg font-semibold text-dark mb-4">时间设置</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <label for="startDate" class="block text-sm font-medium text-dark-2 mb-2">开始日期 *</label>
                  <input type="date" id="startDate" name="startDate" class="form-input" required>
                  <div id="startDateError" class="text-danger text-sm mt-1 hidden">请选择开始日期</div>
                </div>
                <div>
                  <label for="startTime" class="block text-sm font-medium text-dark-2 mb-2">开始时间 *</label>
                  <input type="time" id="startTime" name="startTime" class="form-input" required>
                  <div id="startTimeError" class="text-danger text-sm mt-1 hidden">请选择开始时间</div>
                </div>
                <div>
                  <label for="duration" class="block text-sm font-medium text-dark-2 mb-2">比赛时长 *</label>
                  <select id="duration" name="duration" class="form-input" required>
                    <option value="">请选择比赛时长</option>
                    <option value="1">1小时</option>
                    <option value="1.5">1.5小时</option>
                    <option value="2">2小时</option>
                    <option value="2.5">2.5小时</option>
                    <option value="3">3小时</option>
                    <option value="4">4小时</option>
                    <option value="5">5小时</option>
                    <option value="custom">自定义</option>
                  </select>
                  <div id="durationError" class="text-danger text-sm mt-1 hidden">请选择比赛时长</div>
                </div>
                <div id="customDurationDiv" style="display: none;">
                  <label for="customDuration" class="block text-sm font-medium text-dark-2 mb-2">自定义时长（小时）</label>
                  <input type="number" id="customDuration" name="customDuration" class="form-input" min="0.5" step="0.5" placeholder="请输入时长">
                </div>
              </div>
            </div>

            <!-- 参赛设置 -->
            <div class="bg-light-2 rounded-lg p-4">
              <h3 class="text-lg font-semibold text-dark mb-4">参赛设置</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <label for="maxParticipants" class="block text-sm font-medium text-dark-2 mb-2">参赛人数限制</label>
                  <input type="number" id="maxParticipants" name="maxParticipants" class="form-input" min="1" placeholder="不填写表示无限制">
                  <div class="text-dark-3 text-sm mt-1">留空表示不限制参赛人数</div>
                </div>
                <div>
                  <label for="registrationDeadline" class="block text-sm font-medium text-dark-2 mb-2">报名截止时间</label>
                  <input type="datetime-local" id="registrationDeadline" name="registrationDeadline" class="form-input">
                  <div class="text-dark-3 text-sm mt-1">留空表示比赛开始前都可报名</div>
                </div>
                <div class="md:col-span-2">
                  <label class="block text-sm font-medium text-dark-2 mb-2">参赛权限</label>
                  <div class="space-y-2">
                    <label class="flex items-center">
                      <input type="checkbox" name="allowedRoles" value="student" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">学生</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" name="allowedRoles" value="teacher" class="form-checkbox">
                      <span class="ml-2 text-dark-2">教师</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" name="allowedRoles" value="guest" class="form-checkbox">
                      <span class="ml-2 text-dark-2">访客</span>
                    </label>
                  </div>
                </div>
              </div>
            </div>

            <!-- 题目设置 -->
            <div class="bg-light-2 rounded-lg p-4">
              <h3 class="text-lg font-semibold text-dark mb-4">题目设置</h3>
              <div class="mb-4">
                <label class="block text-sm font-medium text-dark-2 mb-2">选择题目方式</label>
                <div class="flex space-x-4">
                  <label class="flex items-center">
                    <input type="radio" name="problemSelection" value="manual" class="form-radio" checked onchange="toggleProblemSelection()">
                    <span class="ml-2 text-dark-2">手动选择</span>
                  </label>
                  <label class="flex items-center">
                    <input type="radio" name="problemSelection" value="auto" class="form-radio" onchange="toggleProblemSelection()">
                    <span class="ml-2 text-dark-2">自动生成</span>
                  </label>
                </div>
              </div>

              <!-- 手动选择题目 -->
              <div id="manualSelection">
                <div class="mb-4">
                  <button type="button" class="btn-secondary" onclick="showProblemSelector()">
                    <i class="fa fa-plus mr-1"></i> 添加题目
                  </button>
                </div>
                <div id="selectedProblems" class="space-y-2">
                  <div class="text-dark-3 text-sm">暂未选择题目，点击"添加题目"开始选择</div>
                </div>
              </div>

              <!-- 自动生成题目 -->
              <div id="autoSelection" style="display: none;">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label for="problemCount" class="block text-sm font-medium text-dark-2 mb-2">题目数量</label>
                    <select id="problemCount" name="problemCount" class="form-input">
                      <option value="3">3题</option>
                      <option value="4">4题</option>
                      <option value="5" selected>5题</option>
                      <option value="6">6题</option>
                      <option value="8">8题</option>
                      <option value="10">10题</option>
                    </select>
                  </div>
                  <div>
                    <label for="difficulty" class="block text-sm font-medium text-dark-2 mb-2">难度分布</label>
                    <select id="difficulty" name="difficulty" class="form-input">
                      <option value="easy">简单为主</option>
                      <option value="medium" selected>中等难度</option>
                      <option value="hard">困难为主</option>
                      <option value="mixed">混合难度</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>

            <!-- 评分规则 -->
            <div class="bg-light-2 rounded-lg p-4">
              <h3 class="text-lg font-semibold text-dark mb-4">评分规则</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <label for="scoringRule" class="block text-sm font-medium text-dark-2 mb-2">评分方式</label>
                  <select id="scoringRule" name="scoringRule" class="form-input">
                    <option value="acm">ACM规则（通过题数+罚时）</option>
                    <option value="oi" selected>OI规则（总分制）</option>
                    <option value="ioi">IOI规则（部分分）</option>
                  </select>
                </div>
                <div>
                  <label for="penaltyTime" class="block text-sm font-medium text-dark-2 mb-2">错误提交罚时（分钟）</label>
                  <input type="number" id="penaltyTime" name="penaltyTime" class="form-input" value="20" min="0">
                  <div class="text-dark-3 text-sm mt-1">仅ACM规则有效</div>
                </div>
                <div class="md:col-span-2">
                  <label class="flex items-center">
                    <input type="checkbox" name="showRealTimeRanking" class="form-checkbox" checked>
                    <span class="ml-2 text-dark-2">显示实时排名</span>
                  </label>
                </div>
              </div>
            </div>

            <!-- 高级设置 -->
            <div class="bg-light-2 rounded-lg p-4">
              <h3 class="text-lg font-semibold text-dark mb-4">高级设置</h3>
              <div class="space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" name="allowPrintout" class="form-checkbox">
                      <span class="ml-2 text-dark-2">允许打印代码</span>
                    </label>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" name="freezeRanking" class="form-checkbox">
                      <span class="ml-2 text-dark-2">封榜（最后1小时）</span>
                    </label>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" name="allowClarification" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">允许提问澄清</span>
                    </label>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" name="publicContest" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">公开比赛</span>
                    </label>
                  </div>
                </div>
                <div>
                  <label for="contestPassword" class="block text-sm font-medium text-dark-2 mb-2">比赛密码</label>
                  <input type="password" id="contestPassword" name="contestPassword" class="form-input" placeholder="留空表示无需密码">
                  <div class="text-dark-3 text-sm mt-1">设置密码后，参赛者需要输入密码才能参加比赛</div>
                </div>
              </div>
            </div>

            <!-- 奖励设置 -->
            <div class="bg-light-2 rounded-lg p-4">
              <h3 class="text-lg font-semibold text-dark mb-4">奖励设置</h3>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div>
                  <label for="firstPrize" class="block text-sm font-medium text-dark-2 mb-2">一等奖名额</label>
                  <input type="number" id="firstPrize" name="firstPrize" class="form-input" min="0" value="1">
                </div>
                <div>
                  <label for="secondPrize" class="block text-sm font-medium text-dark-2 mb-2">二等奖名额</label>
                  <input type="number" id="secondPrize" name="secondPrize" class="form-input" min="0" value="2">
                </div>
                <div>
                  <label for="thirdPrize" class="block text-sm font-medium text-dark-2 mb-2">三等奖名额</label>
                  <input type="number" id="thirdPrize" name="thirdPrize" class="form-input" min="0" value="3">
                </div>
                <div class="md:col-span-3">
                  <label for="prizeDescription" class="block text-sm font-medium text-dark-2 mb-2">奖励说明</label>
                  <textarea id="prizeDescription" name="prizeDescription" rows="2" class="form-input" placeholder="请输入奖励详情，如奖金、证书、奖品等"></textarea>
                </div>
              </div>
            </div>
          </form>
        </div>

        <!-- 比赛分类页面 -->
        <div id="contestCategoryPage" class="bg-white rounded-xl shadow-card p-6 mb-6" style="display: none;">
          <div class="flex flex-wrap items-center justify-between mb-6">
            <h2 class="text-2xl font-bold text-dark">比赛分类管理</h2>
            <div class="flex space-x-2 mt-4 sm:mt-0">
              <button class="btn-secondary" onclick="showContestManagement()">
                <i class="fa fa-arrow-left mr-1"></i> 返回比赛管理
              </button>
              <button class="btn-primary" onclick="showAddCategoryModal()">
                <i class="fa fa-plus mr-1"></i> 添加分类
              </button>
            </div>
          </div>

          <!-- 分类统计卡片 -->
          <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
            <div class="bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-4 text-white">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-blue-100 text-sm">总分类数</p>
                  <p class="text-2xl font-bold">8</p>
                </div>
                <i class="fa fa-tags text-3xl text-blue-200"></i>
              </div>
            </div>
            <div class="bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-4 text-white">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-green-100 text-sm">活跃分类</p>
                  <p class="text-2xl font-bold">6</p>
                </div>
                <i class="fa fa-check-circle text-3xl text-green-200"></i>
              </div>
            </div>
            <div class="bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-lg p-4 text-white">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-yellow-100 text-sm">本月新增</p>
                  <p class="text-2xl font-bold">2</p>
                </div>
                <i class="fa fa-plus-circle text-3xl text-yellow-200"></i>
              </div>
            </div>
            <div class="bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-4 text-white">
              <div class="flex items-center justify-between">
                <div>
                  <p class="text-purple-100 text-sm">关联比赛</p>
                  <p class="text-2xl font-bold">48</p>
                </div>
                <i class="fa fa-trophy text-3xl text-purple-200"></i>
              </div>
            </div>
          </div>

          <!-- 分类管理 -->
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <!-- 系统分类 -->
            <div class="bg-light-2 rounded-lg p-4">
              <h3 class="text-lg font-semibold text-dark mb-4">系统分类</h3>
              <div class="space-y-4">
                <!-- 算法竞赛 -->
                <div class="bg-white rounded-lg p-4 border border-light-1">
                  <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center">
                      <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3">
                        <i class="fa fa-code text-blue-600"></i>
                      </div>
                      <div>
                        <h4 class="font-semibold text-dark">算法竞赛</h4>
                        <p class="text-sm text-dark-3">专注于算法设计和优化</p>
                      </div>
                    </div>
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editCategory('算法竞赛')">
                        <i class="fa fa-edit"></i>
                      </button>
                      <button class="text-warning hover:text-warning/80" onclick="viewCategoryContests('算法竞赛')">
                        <i class="fa fa-eye"></i>
                      </button>
                    </div>
                  </div>
                  <div class="mb-3">
                    <div class="flex justify-between text-sm mb-1">
                      <span class="text-dark-2">关联比赛</span>
                      <span class="font-medium">15 场</span>
                    </div>
                    <div class="w-full bg-light-1 rounded-full h-2">
                      <div class="bg-blue-500 h-2 rounded-full" style="width: 65%"></div>
                    </div>
                  </div>
                  <div class="flex flex-wrap gap-1">
                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs">系统分类</span>
                    <span class="px-2 py-1 bg-green-100 text-green-800 rounded text-xs">活跃</span>
                    <span class="px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs">热门</span>
                  </div>
                </div>

                <!-- 编程竞赛 -->
                <div class="bg-white rounded-lg p-4 border border-light-1">
                  <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center">
                      <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-3">
                        <i class="fa fa-laptop text-green-600"></i>
                      </div>
                      <div>
                        <h4 class="font-semibold text-dark">编程竞赛</h4>
                        <p class="text-sm text-dark-3">综合性编程能力测试</p>
                      </div>
                    </div>
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editCategory('编程竞赛')">
                        <i class="fa fa-edit"></i>
                      </button>
                      <button class="text-warning hover:text-warning/80" onclick="viewCategoryContests('编程竞赛')">
                        <i class="fa fa-eye"></i>
                      </button>
                    </div>
                  </div>
                  <div class="mb-3">
                    <div class="flex justify-between text-sm mb-1">
                      <span class="text-dark-2">关联比赛</span>
                      <span class="font-medium">12 场</span>
                    </div>
                    <div class="w-full bg-light-1 rounded-full h-2">
                      <div class="bg-green-500 h-2 rounded-full" style="width: 55%"></div>
                    </div>
                  </div>
                  <div class="flex flex-wrap gap-1">
                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs">系统分类</span>
                    <span class="px-2 py-1 bg-green-100 text-green-800 rounded text-xs">活跃</span>
                  </div>
                </div>

                <!-- ACM竞赛 -->
                <div class="bg-white rounded-lg p-4 border border-light-1">
                  <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center">
                      <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center mr-3">
                        <i class="fa fa-trophy text-red-600"></i>
                      </div>
                      <div>
                        <h4 class="font-semibold text-dark">ACM竞赛</h4>
                        <p class="text-sm text-dark-3">国际大学生程序设计竞赛</p>
                      </div>
                    </div>
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editCategory('ACM竞赛')">
                        <i class="fa fa-edit"></i>
                      </button>
                      <button class="text-warning hover:text-warning/80" onclick="viewCategoryContests('ACM竞赛')">
                        <i class="fa fa-eye"></i>
                      </button>
                    </div>
                  </div>
                  <div class="mb-3">
                    <div class="flex justify-between text-sm mb-1">
                      <span class="text-dark-2">关联比赛</span>
                      <span class="font-medium">8 场</span>
                    </div>
                    <div class="w-full bg-light-1 rounded-full h-2">
                      <div class="bg-red-500 h-2 rounded-full" style="width: 35%"></div>
                    </div>
                  </div>
                  <div class="flex flex-wrap gap-1">
                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs">系统分类</span>
                    <span class="px-2 py-1 bg-green-100 text-green-800 rounded text-xs">活跃</span>
                    <span class="px-2 py-1 bg-red-100 text-red-800 rounded text-xs">专业</span>
                  </div>
                </div>

                <!-- 信息学竞赛 -->
                <div class="bg-white rounded-lg p-4 border border-light-1">
                  <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center">
                      <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-3">
                        <i class="fa fa-graduation-cap text-purple-600"></i>
                      </div>
                      <div>
                        <h4 class="font-semibold text-dark">信息学竞赛</h4>
                        <p class="text-sm text-dark-3">中小学信息学奥林匹克</p>
                      </div>
                    </div>
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editCategory('信息学竞赛')">
                        <i class="fa fa-edit"></i>
                      </button>
                      <button class="text-warning hover:text-warning/80" onclick="viewCategoryContests('信息学竞赛')">
                        <i class="fa fa-eye"></i>
                      </button>
                    </div>
                  </div>
                  <div class="mb-3">
                    <div class="flex justify-between text-sm mb-1">
                      <span class="text-dark-2">关联比赛</span>
                      <span class="font-medium">6 场</span>
                    </div>
                    <div class="w-full bg-light-1 rounded-full h-2">
                      <div class="bg-purple-500 h-2 rounded-full" style="width: 25%"></div>
                    </div>
                  </div>
                  <div class="flex flex-wrap gap-1">
                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs">系统分类</span>
                    <span class="px-2 py-1 bg-green-100 text-green-800 rounded text-xs">活跃</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- 自定义分类 -->
            <div class="bg-light-2 rounded-lg p-4">
              <h3 class="text-lg font-semibold text-dark mb-4">自定义分类</h3>
              <div class="space-y-4">
                <!-- 专题竞赛 -->
                <div class="bg-white rounded-lg p-4 border border-light-1">
                  <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center">
                      <div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center mr-3">
                        <i class="fa fa-bookmark text-orange-600"></i>
                      </div>
                      <div>
                        <h4 class="font-semibold text-dark">专题竞赛</h4>
                        <p class="text-sm text-dark-3">特定主题的专项比赛</p>
                      </div>
                    </div>
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editCategory('专题竞赛')">
                        <i class="fa fa-edit"></i>
                      </button>
                      <button class="text-warning hover:text-warning/80" onclick="viewCategoryContests('专题竞赛')">
                        <i class="fa fa-eye"></i>
                      </button>
                      <button class="text-danger hover:text-danger/80" onclick="deleteCategory('专题竞赛')">
                        <i class="fa fa-trash"></i>
                      </button>
                    </div>
                  </div>
                  <div class="mb-3">
                    <div class="flex justify-between text-sm mb-1">
                      <span class="text-dark-2">关联比赛</span>
                      <span class="font-medium">5 场</span>
                    </div>
                    <div class="w-full bg-light-1 rounded-full h-2">
                      <div class="bg-orange-500 h-2 rounded-full" style="width: 20%"></div>
                    </div>
                  </div>
                  <div class="flex flex-wrap gap-1">
                    <span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs">自定义</span>
                    <span class="px-2 py-1 bg-green-100 text-green-800 rounded text-xs">活跃</span>
                  </div>
                </div>

                <!-- 新手训练 -->
                <div class="bg-white rounded-lg p-4 border border-light-1">
                  <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center">
                      <div class="w-10 h-10 bg-cyan-100 rounded-lg flex items-center justify-center mr-3">
                        <i class="fa fa-star text-cyan-600"></i>
                      </div>
                      <div>
                        <h4 class="font-semibold text-dark">新手训练</h4>
                        <p class="text-sm text-dark-3">面向初学者的入门比赛</p>
                      </div>
                    </div>
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editCategory('新手训练')">
                        <i class="fa fa-edit"></i>
                      </button>
                      <button class="text-warning hover:text-warning/80" onclick="viewCategoryContests('新手训练')">
                        <i class="fa fa-eye"></i>
                      </button>
                      <button class="text-danger hover:text-danger/80" onclick="deleteCategory('新手训练')">
                        <i class="fa fa-trash"></i>
                      </button>
                    </div>
                  </div>
                  <div class="mb-3">
                    <div class="flex justify-between text-sm mb-1">
                      <span class="text-dark-2">关联比赛</span>
                      <span class="font-medium">2 场</span>
                    </div>
                    <div class="w-full bg-light-1 rounded-full h-2">
                      <div class="bg-cyan-500 h-2 rounded-full" style="width: 10%"></div>
                    </div>
                  </div>
                  <div class="flex flex-wrap gap-1">
                    <span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs">自定义</span>
                    <span class="px-2 py-1 bg-gray-100 text-gray-800 rounded text-xs">较少使用</span>
                  </div>
                </div>

                <!-- 月度挑战 -->
                <div class="bg-white rounded-lg p-4 border border-light-1">
                  <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center">
                      <div class="w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center mr-3">
                        <i class="fa fa-calendar text-pink-600"></i>
                      </div>
                      <div>
                        <h4 class="font-semibold text-dark">月度挑战</h4>
                        <p class="text-sm text-dark-3">每月定期举办的挑战赛</p>
                      </div>
                    </div>
                    <div class="flex space-x-2">
                      <button class="text-primary hover:text-primary/80" onclick="editCategory('月度挑战')">
                        <i class="fa fa-edit"></i>
                      </button>
                      <button class="text-warning hover:text-warning/80" onclick="viewCategoryContests('月度挑战')">
                        <i class="fa fa-eye"></i>
                      </button>
                      <button class="text-danger hover:text-danger/80" onclick="deleteCategory('月度挑战')">
                        <i class="fa fa-trash"></i>
                      </button>
                    </div>
                  </div>
                  <div class="mb-3">
                    <div class="flex justify-between text-sm mb-1">
                      <span class="text-dark-2">关联比赛</span>
                      <span class="font-medium">0 场</span>
                    </div>
                    <div class="w-full bg-light-1 rounded-full h-2">
                      <div class="bg-pink-500 h-2 rounded-full" style="width: 0%"></div>
                    </div>
                  </div>
                  <div class="flex flex-wrap gap-1">
                    <span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs">自定义</span>
                    <span class="px-2 py-1 bg-red-100 text-red-800 rounded text-xs">未使用</span>
                  </div>
                </div>

                <!-- 添加新分类卡片 -->
                <div class="bg-white rounded-lg p-4 border-2 border-dashed border-light-1 text-center">
                  <div class="py-8">
                    <i class="fa fa-plus text-3xl text-dark-3 mb-3"></i>
                    <p class="text-dark-3 mb-3">添加新的比赛分类</p>
                    <button class="btn-primary" onclick="showAddCategoryModal()">
                      <i class="fa fa-plus mr-1"></i> 创建分类
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 比赛设置页面 -->
        <div id="contestSettingsPage" class="bg-white rounded-xl shadow-card p-6 mb-6" style="display: none;">
          <div class="flex flex-wrap items-center justify-between mb-6">
            <h2 class="text-2xl font-bold text-dark">比赛设置</h2>
            <div class="flex space-x-2 mt-4 sm:mt-0">
              <button class="btn-secondary" onclick="showContestManagement()">
                <i class="fa fa-arrow-left mr-1"></i> 返回比赛管理
              </button>
              <button class="btn-primary" onclick="saveContestSettings()">
                <i class="fa fa-save mr-1"></i> 保存设置
              </button>
            </div>
          </div>

          <!-- 设置分类标签 -->
          <div class="mb-6">
            <div class="flex flex-wrap gap-2">
              <button id="generalSettingsTab" class="px-4 py-2 bg-primary text-white rounded-lg font-medium" onclick="showSettingsTab('general')">
                常规设置
              </button>
              <button id="scoringSettingsTab" class="px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2" onclick="showSettingsTab('scoring')">
                评分设置
              </button>
              <button id="securitySettingsTab" class="px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2" onclick="showSettingsTab('security')">
                安全设置
              </button>
              <button id="notificationSettingsTab" class="px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2" onclick="showSettingsTab('notification')">
                通知设置
              </button>
              <button id="advancedSettingsTab" class="px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2" onclick="showSettingsTab('advanced')">
                高级设置
              </button>
            </div>
          </div>

          <!-- 常规设置 -->
          <div id="generalSettings" class="settings-tab">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
              <!-- 默认比赛配置 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-cog text-blue-600 mr-2"></i>
                  默认比赛配置
                </h3>
                <div class="space-y-4">
                  <div>
                    <label class="form-label">默认比赛时长</label>
                    <select class="form-input">
                      <option value="2">2小时</option>
                      <option value="3" selected>3小时</option>
                      <option value="4">4小时</option>
                      <option value="5">5小时</option>
                    </select>
                  </div>
                  <div>
                    <label class="form-label">默认题目数量</label>
                    <select class="form-input">
                      <option value="3">3题</option>
                      <option value="4">4题</option>
                      <option value="5" selected>5题</option>
                      <option value="6">6题</option>
                    </select>
                  </div>
                  <div>
                    <label class="form-label">默认参赛人数限制</label>
                    <input type="number" class="form-input" value="200" min="1">
                    <div class="text-dark-3 text-sm mt-1">0表示无限制</div>
                  </div>
                  <div>
                    <label class="form-label">默认报名提前时间（小时）</label>
                    <input type="number" class="form-input" value="24" min="1">
                  </div>
                </div>
              </div>

              <!-- 比赛权限设置 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-users text-green-600 mr-2"></i>
                  比赛权限设置
                </h3>
                <div class="space-y-4">
                  <div>
                    <label class="form-label">默认参赛权限</label>
                    <div class="space-y-2">
                      <label class="flex items-center">
                        <input type="checkbox" class="form-checkbox" checked>
                        <span class="ml-2 text-dark-2">学生可参赛</span>
                      </label>
                      <label class="flex items-center">
                        <input type="checkbox" class="form-checkbox">
                        <span class="ml-2 text-dark-2">教师可参赛</span>
                      </label>
                      <label class="flex items-center">
                        <input type="checkbox" class="form-checkbox">
                        <span class="ml-2 text-dark-2">访客可参赛</span>
                      </label>
                    </div>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">允许创建私有比赛</span>
                    </label>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">允许设置比赛密码</span>
                    </label>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">允许团队参赛</span>
                    </label>
                  </div>
                </div>
              </div>

              <!-- 时间设置 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-clock-o text-orange-600 mr-2"></i>
                  时间设置
                </h3>
                <div class="space-y-4">
                  <div>
                    <label class="form-label">比赛开始前准备时间（分钟）</label>
                    <input type="number" class="form-input" value="15" min="0">
                    <div class="text-dark-3 text-sm mt-1">比赛开始前的系统准备时间</div>
                  </div>
                  <div>
                    <label class="form-label">比赛结束后缓冲时间（分钟）</label>
                    <input type="number" class="form-input" value="10" min="0">
                    <div class="text-dark-3 text-sm mt-1">比赛结束后的提交缓冲时间</div>
                  </div>
                  <div>
                    <label class="form-label">默认时区</label>
                    <select class="form-input">
                      <option value="UTC+8" selected>UTC+8 (北京时间)</option>
                      <option value="UTC+0">UTC+0 (格林威治时间)</option>
                      <option value="UTC-5">UTC-5 (东部时间)</option>
                      <option value="UTC-8">UTC-8 (太平洋时间)</option>
                    </select>
                  </div>
                </div>
              </div>

              <!-- 显示设置 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-eye text-purple-600 mr-2"></i>
                  显示设置
                </h3>
                <div class="space-y-4">
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">默认显示实时排名</span>
                    </label>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">显示参赛者提交统计</span>
                    </label>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox">
                      <span class="ml-2 text-dark-2">显示题目通过率</span>
                    </label>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">显示比赛倒计时</span>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 评分设置 -->
          <div id="scoringSettings" class="settings-tab" style="display: none;">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
              <!-- ACM规则设置 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-trophy text-red-600 mr-2"></i>
                  ACM规则设置
                </h3>
                <div class="space-y-4">
                  <div>
                    <label class="form-label">错误提交罚时（分钟）</label>
                    <input type="number" class="form-input" value="20" min="0">
                  </div>
                  <div>
                    <label class="form-label">首次通过奖励时间（分钟）</label>
                    <input type="number" class="form-input" value="0" min="0">
                    <div class="text-dark-3 text-sm mt-1">0表示无奖励</div>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">启用封榜功能</span>
                    </label>
                  </div>
                  <div>
                    <label class="form-label">封榜时间（分钟）</label>
                    <input type="number" class="form-input" value="60" min="0">
                    <div class="text-dark-3 text-sm mt-1">比赛结束前多少分钟开始封榜</div>
                  </div>
                </div>
              </div>

              <!-- OI规则设置 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-star text-blue-600 mr-2"></i>
                  OI规则设置
                </h3>
                <div class="space-y-4">
                  <div>
                    <label class="form-label">每题满分</label>
                    <input type="number" class="form-input" value="100" min="1">
                  </div>
                  <div>
                    <label class="form-label">部分分计算方式</label>
                    <select class="form-input">
                      <option value="max" selected>取最高分</option>
                      <option value="last">取最后提交</option>
                      <option value="avg">取平均分</option>
                    </select>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">允许查看部分测试点结果</span>
                    </label>
                  </div>
                  <div>
                    <label class="form-label">提交次数限制</label>
                    <input type="number" class="form-input" value="0" min="0">
                    <div class="text-dark-3 text-sm mt-1">0表示无限制</div>
                  </div>
                </div>
              </div>

              <!-- 排名计算 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-sort-numeric-desc text-green-600 mr-2"></i>
                  排名计算
                </h3>
                <div class="space-y-4">
                  <div>
                    <label class="form-label">排名更新频率</label>
                    <select class="form-input">
                      <option value="realtime" selected>实时更新</option>
                      <option value="1min">每分钟更新</option>
                      <option value="5min">每5分钟更新</option>
                      <option value="manual">手动更新</option>
                    </select>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">显示排名变化趋势</span>
                    </label>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox">
                      <span class="ml-2 text-dark-2">隐藏0分参赛者</span>
                    </label>
                  </div>
                </div>
              </div>

              <!-- 判题设置 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-gavel text-purple-600 mr-2"></i>
                  判题设置
                </h3>
                <div class="space-y-4">
                  <div>
                    <label class="form-label">判题队列优先级</label>
                    <select class="form-input">
                      <option value="normal" selected>普通</option>
                      <option value="high">高优先级</option>
                      <option value="urgent">紧急</option>
                    </select>
                  </div>
                  <div>
                    <label class="form-label">最大判题时间（秒）</label>
                    <input type="number" class="form-input" value="30" min="1">
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">启用编译优化</span>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 安全设置 -->
          <div id="securitySettings" class="settings-tab" style="display: none;">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
              <!-- 防作弊设置 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-shield text-red-600 mr-2"></i>
                  防作弊设置
                </h3>
                <div class="space-y-4">
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">启用代码相似度检测</span>
                    </label>
                  </div>
                  <div>
                    <label class="form-label">相似度阈值（%）</label>
                    <input type="number" class="form-input" value="80" min="50" max="100">
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">限制IP地址</span>
                    </label>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox">
                      <span class="ml-2 text-dark-2">启用浏览器锁定模式</span>
                    </label>
                  </div>
                </div>
              </div>

              <!-- 访问控制 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-lock text-blue-600 mr-2"></i>
                  访问控制
                </h3>
                <div class="space-y-4">
                  <div>
                    <label class="form-label">最大同时在线人数</label>
                    <input type="number" class="form-input" value="500" min="1">
                  </div>
                  <div>
                    <label class="form-label">单IP最大连接数</label>
                    <input type="number" class="form-input" value="5" min="1">
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">启用验证码验证</span>
                    </label>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox">
                      <span class="ml-2 text-dark-2">启用双因素认证</span>
                    </label>
                  </div>
                </div>
              </div>

              <!-- 数据保护 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-database text-green-600 mr-2"></i>
                  数据保护
                </h3>
                <div class="space-y-4">
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">自动备份比赛数据</span>
                    </label>
                  </div>
                  <div>
                    <label class="form-label">备份频率</label>
                    <select class="form-input">
                      <option value="5min">每5分钟</option>
                      <option value="15min" selected>每15分钟</option>
                      <option value="30min">每30分钟</option>
                      <option value="1hour">每小时</option>
                    </select>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">加密敏感数据</span>
                    </label>
                  </div>
                </div>
              </div>

              <!-- 日志记录 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-file-text text-orange-600 mr-2"></i>
                  日志记录
                </h3>
                <div class="space-y-4">
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">记录用户操作日志</span>
                    </label>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">记录系统错误日志</span>
                    </label>
                  </div>
                  <div>
                    <label class="form-label">日志保留时间（天）</label>
                    <input type="number" class="form-input" value="30" min="1">
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 通知设置 -->
          <div id="notificationSettings" class="settings-tab" style="display: none;">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
              <!-- 邮件通知 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-envelope text-blue-600 mr-2"></i>
                  邮件通知
                </h3>
                <div class="space-y-4">
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">比赛开始提醒</span>
                    </label>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">比赛结束通知</span>
                    </label>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox">
                      <span class="ml-2 text-dark-2">排名变化通知</span>
                    </label>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">系统公告通知</span>
                    </label>
                  </div>
                </div>
              </div>

              <!-- 站内消息 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-bell text-green-600 mr-2"></i>
                  站内消息
                </h3>
                <div class="space-y-4">
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">实时消息推送</span>
                    </label>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">澄清问题通知</span>
                    </label>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox">
                      <span class="ml-2 text-dark-2">判题结果通知</span>
                    </label>
                  </div>
                  <div>
                    <label class="form-label">消息保留时间（天）</label>
                    <input type="number" class="form-input" value="7" min="1">
                  </div>
                </div>
              </div>

              <!-- 短信通知 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-mobile text-orange-600 mr-2"></i>
                  短信通知
                </h3>
                <div class="space-y-4">
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox">
                      <span class="ml-2 text-dark-2">启用短信通知</span>
                    </label>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox">
                      <span class="ml-2 text-dark-2">紧急情况通知</span>
                    </label>
                  </div>
                  <div>
                    <label class="form-label">短信服务商</label>
                    <select class="form-input">
                      <option value="aliyun">阿里云短信</option>
                      <option value="tencent">腾讯云短信</option>
                      <option value="custom">自定义</option>
                    </select>
                  </div>
                </div>
              </div>

              <!-- 推送设置 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-paper-plane text-purple-600 mr-2"></i>
                  推送设置
                </h3>
                <div class="space-y-4">
                  <div>
                    <label class="form-label">推送频率限制</label>
                    <select class="form-input">
                      <option value="none">无限制</option>
                      <option value="1min" selected>每分钟最多1次</option>
                      <option value="5min">每5分钟最多1次</option>
                      <option value="15min">每15分钟最多1次</option>
                    </select>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">批量推送优化</span>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 高级设置 -->
          <div id="advancedSettings" class="settings-tab" style="display: none;">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
              <!-- 系统性能 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-tachometer text-red-600 mr-2"></i>
                  系统性能
                </h3>
                <div class="space-y-4">
                  <div>
                    <label class="form-label">最大并发判题数</label>
                    <input type="number" class="form-input" value="10" min="1">
                  </div>
                  <div>
                    <label class="form-label">数据库连接池大小</label>
                    <input type="number" class="form-input" value="20" min="5">
                  </div>
                  <div>
                    <label class="form-label">缓存过期时间（分钟）</label>
                    <input type="number" class="form-input" value="30" min="1">
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">启用Redis缓存</span>
                    </label>
                  </div>
                </div>
              </div>

              <!-- API设置 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-code text-blue-600 mr-2"></i>
                  API设置
                </h3>
                <div class="space-y-4">
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox" checked>
                      <span class="ml-2 text-dark-2">启用API访问</span>
                    </label>
                  </div>
                  <div>
                    <label class="form-label">API请求频率限制（次/分钟）</label>
                    <input type="number" class="form-input" value="60" min="1">
                  </div>
                  <div>
                    <label class="form-label">API版本</label>
                    <select class="form-input">
                      <option value="v1">v1.0</option>
                      <option value="v2" selected>v2.0</option>
                      <option value="v3">v3.0 (Beta)</option>
                    </select>
                  </div>
                </div>
              </div>

              <!-- 调试模式 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-bug text-green-600 mr-2"></i>
                  调试模式
                </h3>
                <div class="space-y-4">
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox">
                      <span class="ml-2 text-dark-2">启用调试模式</span>
                    </label>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox">
                      <span class="ml-2 text-dark-2">显示详细错误信息</span>
                    </label>
                  </div>
                  <div>
                    <label class="form-label">日志级别</label>
                    <select class="form-input">
                      <option value="error">ERROR</option>
                      <option value="warn">WARN</option>
                      <option value="info" selected>INFO</option>
                      <option value="debug">DEBUG</option>
                    </select>
                  </div>
                </div>
              </div>

              <!-- 实验性功能 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4 flex items-center">
                  <i class="fa fa-flask text-purple-600 mr-2"></i>
                  实验性功能
                </h3>
                <div class="space-y-4">
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox">
                      <span class="ml-2 text-dark-2">AI辅助判题</span>
                    </label>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox">
                      <span class="ml-2 text-dark-2">智能题目推荐</span>
                    </label>
                  </div>
                  <div>
                    <label class="flex items-center">
                      <input type="checkbox" class="form-checkbox">
                      <span class="ml-2 text-dark-2">实时代码分析</span>
                    </label>
                  </div>
                  <div class="text-warning text-sm">
                    <i class="fa fa-warning mr-1"></i>
                    实验性功能可能不稳定，请谨慎使用
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 统计分析页面 -->
        <div id="statisticsPage" class="bg-white rounded-xl shadow-card p-6 mb-6" style="display: none;">
          <div class="flex flex-wrap items-center justify-between mb-6">
            <h2 class="text-2xl font-bold text-dark">统计分析</h2>
            <div class="flex space-x-2 mt-4 sm:mt-0">
              <button class="btn-secondary">
                <i class="fa fa-download mr-1"></i> 导出报告
              </button>
              <button class="btn-primary" onclick="refreshStatistics()">
                <i class="fa fa-refresh mr-1"></i> 刷新数据
              </button>
            </div>
          </div>

          <!-- 统计分类标签 -->
          <div class="mb-6">
            <div class="flex flex-wrap gap-2">
              <button id="overviewStatsTab" class="px-4 py-2 bg-primary text-white rounded-lg font-medium" onclick="showStatsTab('overview')">
                总览统计
              </button>
              <button id="userStatsTab" class="px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2" onclick="showStatsTab('user')">
                用户统计
              </button>
              <button id="problemStatsTab" class="px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2" onclick="showStatsTab('problem')">
                题目统计
              </button>
              <button id="contestStatsTab" class="px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2" onclick="showStatsTab('contest')">
                比赛统计
              </button>
              <button id="systemStatsTab" class="px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2" onclick="showStatsTab('system')">
                系统统计
              </button>
            </div>
          </div>

          <!-- 总览统计 -->
          <div id="overviewStats" class="stats-tab">
            <!-- 核心指标卡片 -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
              <div class="bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-4 text-white">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-blue-100 text-sm">总用户数</p>
                    <p class="text-2xl font-bold">1,248</p>
                    <p class="text-blue-200 text-xs">↑ 12% 本月</p>
                  </div>
                  <i class="fa fa-users text-3xl text-blue-200"></i>
                </div>
              </div>
              <div class="bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-4 text-white">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-green-100 text-sm">总题目数</p>
                    <p class="text-2xl font-bold">856</p>
                    <p class="text-green-200 text-xs">↑ 8% 本月</p>
                  </div>
                  <i class="fa fa-tasks text-3xl text-green-200"></i>
                </div>
              </div>
              <div class="bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-4 text-white">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-purple-100 text-sm">总比赛数</p>
                    <p class="text-2xl font-bold">48</p>
                    <p class="text-purple-200 text-xs">↑ 15% 本月</p>
                  </div>
                  <i class="fa fa-trophy text-3xl text-purple-200"></i>
                </div>
              </div>
              <div class="bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg p-4 text-white">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-orange-100 text-sm">总提交数</p>
                    <p class="text-2xl font-bold">25,634</p>
                    <p class="text-orange-200 text-xs">↑ 23% 本月</p>
                  </div>
                  <i class="fa fa-code text-3xl text-orange-200"></i>
                </div>
              </div>
            </div>

            <!-- 图表区域 -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
              <!-- 用户增长趋势 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4">用户增长趋势</h3>
                <div class="h-64 bg-white rounded-lg p-4 flex items-center justify-center border border-light-1">
                  <div class="text-center">
                    <i class="fa fa-line-chart text-4xl text-primary mb-2"></i>
                    <p class="text-dark-2">用户增长趋势图</p>
                    <p class="text-dark-3 text-sm">显示最近6个月的用户注册趋势</p>
                  </div>
                </div>
              </div>

              <!-- 提交统计 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4">提交统计</h3>
                <div class="h-64 bg-white rounded-lg p-4 flex items-center justify-center border border-light-1">
                  <div class="text-center">
                    <i class="fa fa-pie-chart text-4xl text-success mb-2"></i>
                    <p class="text-dark-2">提交结果分布</p>
                    <p class="text-dark-3 text-sm">AC、WA、TLE等结果占比</p>
                  </div>
                </div>
              </div>

              <!-- 活跃度分析 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4">活跃度分析</h3>
                <div class="h-64 bg-white rounded-lg p-4 flex items-center justify-center border border-light-1">
                  <div class="text-center">
                    <i class="fa fa-area-chart text-4xl text-warning mb-2"></i>
                    <p class="text-dark-2">用户活跃度热力图</p>
                    <p class="text-dark-3 text-sm">按时间段显示用户活跃情况</p>
                  </div>
                </div>
              </div>

              <!-- 比赛参与度 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4">比赛参与度</h3>
                <div class="h-64 bg-white rounded-lg p-4 flex items-center justify-center border border-light-1">
                  <div class="text-center">
                    <i class="fa fa-bar-chart text-4xl text-danger mb-2"></i>
                    <p class="text-dark-2">比赛参与统计</p>
                    <p class="text-dark-3 text-sm">各类比赛的参与人数分析</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- 快速统计 -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div class="bg-light-2 rounded-lg p-4">
                <h4 class="font-semibold text-dark mb-3">今日数据</h4>
                <div class="space-y-2">
                  <div class="flex justify-between">
                    <span class="text-dark-2">新注册用户</span>
                    <span class="font-medium text-primary">23</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-dark-2">新增题目</span>
                    <span class="font-medium text-success">5</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-dark-2">代码提交</span>
                    <span class="font-medium text-warning">342</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-dark-2">活跃用户</span>
                    <span class="font-medium text-danger">156</span>
                  </div>
                </div>
              </div>

              <div class="bg-light-2 rounded-lg p-4">
                <h4 class="font-semibold text-dark mb-3">本周数据</h4>
                <div class="space-y-2">
                  <div class="flex justify-between">
                    <span class="text-dark-2">新注册用户</span>
                    <span class="font-medium text-primary">89</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-dark-2">新增题目</span>
                    <span class="font-medium text-success">28</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-dark-2">代码提交</span>
                    <span class="font-medium text-warning">2,156</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-dark-2">举办比赛</span>
                    <span class="font-medium text-danger">3</span>
                  </div>
                </div>
              </div>

              <div class="bg-light-2 rounded-lg p-4">
                <h4 class="font-semibold text-dark mb-3">本月数据</h4>
                <div class="space-y-2">
                  <div class="flex justify-between">
                    <span class="text-dark-2">新注册用户</span>
                    <span class="font-medium text-primary">342</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-dark-2">新增题目</span>
                    <span class="font-medium text-success">125</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-dark-2">代码提交</span>
                    <span class="font-medium text-warning">8,945</span>
                  </div>
                  <div class="flex justify-between">
                    <span class="text-dark-2">举办比赛</span>
                    <span class="font-medium text-danger">12</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 用户统计 -->
          <div id="userStats" class="stats-tab" style="display: none;">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
              <!-- 用户分布 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4">用户角色分布</h3>
                <div class="space-y-4">
                  <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                    <div class="flex items-center">
                      <div class="w-4 h-4 bg-blue-500 rounded mr-3"></div>
                      <span class="text-dark-2">学生</span>
                    </div>
                    <div class="text-right">
                      <span class="font-medium">1,089</span>
                      <span class="text-dark-3 text-sm ml-2">87.3%</span>
                    </div>
                  </div>
                  <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                    <div class="flex items-center">
                      <div class="w-4 h-4 bg-green-500 rounded mr-3"></div>
                      <span class="text-dark-2">教师</span>
                    </div>
                    <div class="text-right">
                      <span class="font-medium">134</span>
                      <span class="text-dark-3 text-sm ml-2">10.7%</span>
                    </div>
                  </div>
                  <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                    <div class="flex items-center">
                      <div class="w-4 h-4 bg-orange-500 rounded mr-3"></div>
                      <span class="text-dark-2">管理员</span>
                    </div>
                    <div class="text-right">
                      <span class="font-medium">25</span>
                      <span class="text-dark-3 text-sm ml-2">2.0%</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 活跃用户排行 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4">活跃用户排行</h3>
                <div class="space-y-3">
                  <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                    <div class="flex items-center">
                      <span class="w-6 h-6 bg-yellow-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3">1</span>
                      <div>
                        <div class="font-medium">张三</div>
                        <div class="text-sm text-dark-3">计算机学院</div>
                      </div>
                    </div>
                    <div class="text-right">
                      <div class="font-medium">1,256</div>
                      <div class="text-sm text-dark-3">提交数</div>
                    </div>
                  </div>
                  <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                    <div class="flex items-center">
                      <span class="w-6 h-6 bg-gray-400 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3">2</span>
                      <div>
                        <div class="font-medium">李四</div>
                        <div class="text-sm text-dark-3">软件学院</div>
                      </div>
                    </div>
                    <div class="text-right">
                      <div class="font-medium">1,089</div>
                      <div class="text-sm text-dark-3">提交数</div>
                    </div>
                  </div>
                  <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                    <div class="flex items-center">
                      <span class="w-6 h-6 bg-orange-400 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3">3</span>
                      <div>
                        <div class="font-medium">王五</div>
                        <div class="text-sm text-dark-3">信息学院</div>
                      </div>
                    </div>
                    <div class="text-right">
                      <div class="font-medium">967</div>
                      <div class="text-sm text-dark-3">提交数</div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 用户注册趋势 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4">注册趋势分析</h3>
                <div class="h-48 bg-white rounded-lg p-4 flex items-center justify-center border border-light-1">
                  <div class="text-center">
                    <i class="fa fa-line-chart text-3xl text-primary mb-2"></i>
                    <p class="text-dark-2">用户注册趋势图</p>
                  </div>
                </div>
              </div>

              <!-- 用户活跃度 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4">用户活跃度</h3>
                <div class="space-y-3">
                  <div class="flex justify-between items-center">
                    <span class="text-dark-2">日活跃用户</span>
                    <span class="font-medium text-success">156</span>
                  </div>
                  <div class="w-full bg-light-1 rounded-full h-2">
                    <div class="bg-success h-2 rounded-full" style="width: 12.5%"></div>
                  </div>
                  <div class="flex justify-between items-center">
                    <span class="text-dark-2">周活跃用户</span>
                    <span class="font-medium text-primary">423</span>
                  </div>
                  <div class="w-full bg-light-1 rounded-full h-2">
                    <div class="bg-primary h-2 rounded-full" style="width: 33.9%"></div>
                  </div>
                  <div class="flex justify-between items-center">
                    <span class="text-dark-2">月活跃用户</span>
                    <span class="font-medium text-warning">892</span>
                  </div>
                  <div class="w-full bg-light-1 rounded-full h-2">
                    <div class="bg-warning h-2 rounded-full" style="width: 71.5%"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 题目统计 -->
          <div id="problemStats" class="stats-tab" style="display: none;">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
              <!-- 题目难度分布 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4">题目难度分布</h3>
                <div class="space-y-4">
                  <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                    <div class="flex items-center">
                      <div class="w-4 h-4 bg-green-500 rounded mr-3"></div>
                      <span class="text-dark-2">简单</span>
                    </div>
                    <div class="text-right">
                      <span class="font-medium">342</span>
                      <span class="text-dark-3 text-sm ml-2">40.0%</span>
                    </div>
                  </div>
                  <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                    <div class="flex items-center">
                      <div class="w-4 h-4 bg-yellow-500 rounded mr-3"></div>
                      <span class="text-dark-2">中等</span>
                    </div>
                    <div class="text-right">
                      <span class="font-medium">385</span>
                      <span class="text-dark-3 text-sm ml-2">45.0%</span>
                    </div>
                  </div>
                  <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                    <div class="flex items-center">
                      <div class="w-4 h-4 bg-red-500 rounded mr-3"></div>
                      <span class="text-dark-2">困难</span>
                    </div>
                    <div class="text-right">
                      <span class="font-medium">129</span>
                      <span class="text-dark-3 text-sm ml-2">15.0%</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 热门题目排行 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4">热门题目排行</h3>
                <div class="space-y-3">
                  <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                    <div class="flex items-center">
                      <span class="w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3">1</span>
                      <div>
                        <div class="font-medium">两数之和</div>
                        <div class="text-sm text-dark-3">简单 • 数组</div>
                      </div>
                    </div>
                    <div class="text-right">
                      <div class="font-medium">2,156</div>
                      <div class="text-sm text-dark-3">提交数</div>
                    </div>
                  </div>
                  <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                    <div class="flex items-center">
                      <span class="w-6 h-6 bg-orange-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3">2</span>
                      <div>
                        <div class="font-medium">反转链表</div>
                        <div class="text-sm text-dark-3">简单 • 链表</div>
                      </div>
                    </div>
                    <div class="text-right">
                      <div class="font-medium">1,892</div>
                      <div class="text-sm text-dark-3">提交数</div>
                    </div>
                  </div>
                  <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                    <div class="flex items-center">
                      <span class="w-6 h-6 bg-yellow-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3">3</span>
                      <div>
                        <div class="font-medium">有效的括号</div>
                        <div class="text-sm text-dark-3">简单 • 栈</div>
                      </div>
                    </div>
                    <div class="text-right">
                      <div class="font-medium">1,634</div>
                      <div class="text-sm text-dark-3">提交数</div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 题目通过率统计 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4">通过率统计</h3>
                <div class="h-48 bg-white rounded-lg p-4 flex items-center justify-center border border-light-1">
                  <div class="text-center">
                    <i class="fa fa-pie-chart text-3xl text-success mb-2"></i>
                    <p class="text-dark-2">题目通过率分布</p>
                  </div>
                </div>
              </div>

              <!-- 题目标签统计 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4">题目标签统计</h3>
                <div class="flex flex-wrap gap-2">
                  <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">数组 (156)</span>
                  <span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm">字符串 (134)</span>
                  <span class="px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm">动态规划 (89)</span>
                  <span class="px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm">树 (76)</span>
                  <span class="px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm">图 (65)</span>
                  <span class="px-3 py-1 bg-pink-100 text-pink-800 rounded-full text-sm">链表 (58)</span>
                  <span class="px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm">栈 (45)</span>
                  <span class="px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm">队列 (32)</span>
                </div>
              </div>
            </div>
          </div>

          <!-- 比赛统计 -->
          <div id="contestStats" class="stats-tab" style="display: none;">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
              <!-- 比赛类型分布 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4">比赛类型分布</h3>
                <div class="space-y-4">
                  <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                    <div class="flex items-center">
                      <div class="w-4 h-4 bg-blue-500 rounded mr-3"></div>
                      <span class="text-dark-2">个人赛</span>
                    </div>
                    <div class="text-right">
                      <span class="font-medium">28</span>
                      <span class="text-dark-3 text-sm ml-2">58.3%</span>
                    </div>
                  </div>
                  <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                    <div class="flex items-center">
                      <div class="w-4 h-4 bg-green-500 rounded mr-3"></div>
                      <span class="text-dark-2">团队赛</span>
                    </div>
                    <div class="text-right">
                      <span class="font-medium">12</span>
                      <span class="text-dark-3 text-sm ml-2">25.0%</span>
                    </div>
                  </div>
                  <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                    <div class="flex items-center">
                      <div class="w-4 h-4 bg-orange-500 rounded mr-3"></div>
                      <span class="text-dark-2">练习赛</span>
                    </div>
                    <div class="text-right">
                      <span class="font-medium">8</span>
                      <span class="text-dark-3 text-sm ml-2">16.7%</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 比赛参与统计 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4">参与度统计</h3>
                <div class="space-y-3">
                  <div class="flex justify-between items-center">
                    <span class="text-dark-2">平均参赛人数</span>
                    <span class="font-medium text-primary">156</span>
                  </div>
                  <div class="flex justify-between items-center">
                    <span class="text-dark-2">最高参赛人数</span>
                    <span class="font-medium text-success">342</span>
                  </div>
                  <div class="flex justify-between items-center">
                    <span class="text-dark-2">总参赛人次</span>
                    <span class="font-medium text-warning">7,488</span>
                  </div>
                  <div class="flex justify-between items-center">
                    <span class="text-dark-2">参赛率</span>
                    <span class="font-medium text-danger">71.5%</span>
                  </div>
                </div>
              </div>

              <!-- 比赛时间分布 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4">比赛时间分布</h3>
                <div class="h-48 bg-white rounded-lg p-4 flex items-center justify-center border border-light-1">
                  <div class="text-center">
                    <i class="fa fa-clock-o text-3xl text-primary mb-2"></i>
                    <p class="text-dark-2">比赛时间热力图</p>
                  </div>
                </div>
              </div>

              <!-- 获奖统计 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4">获奖统计</h3>
                <div class="space-y-3">
                  <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                    <div class="flex items-center">
                      <i class="fa fa-trophy text-yellow-500 mr-3"></i>
                      <span class="text-dark-2">一等奖</span>
                    </div>
                    <span class="font-medium">48</span>
                  </div>
                  <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                    <div class="flex items-center">
                      <i class="fa fa-medal text-gray-400 mr-3"></i>
                      <span class="text-dark-2">二等奖</span>
                    </div>
                    <span class="font-medium">96</span>
                  </div>
                  <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                    <div class="flex items-center">
                      <i class="fa fa-certificate text-orange-400 mr-3"></i>
                      <span class="text-dark-2">三等奖</span>
                    </div>
                    <span class="font-medium">144</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 系统统计 -->
          <div id="systemStats" class="stats-tab" style="display: none;">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
              <!-- 系统性能 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4">系统性能</h3>
                <div class="space-y-3">
                  <div class="flex justify-between items-center">
                    <span class="text-dark-2">CPU使用率</span>
                    <span class="font-medium text-success">23.5%</span>
                  </div>
                  <div class="w-full bg-light-1 rounded-full h-2">
                    <div class="bg-success h-2 rounded-full" style="width: 23.5%"></div>
                  </div>
                  <div class="flex justify-between items-center">
                    <span class="text-dark-2">内存使用率</span>
                    <span class="font-medium text-warning">67.8%</span>
                  </div>
                  <div class="w-full bg-light-1 rounded-full h-2">
                    <div class="bg-warning h-2 rounded-full" style="width: 67.8%"></div>
                  </div>
                  <div class="flex justify-between items-center">
                    <span class="text-dark-2">磁盘使用率</span>
                    <span class="font-medium text-primary">45.2%</span>
                  </div>
                  <div class="w-full bg-light-1 rounded-full h-2">
                    <div class="bg-primary h-2 rounded-full" style="width: 45.2%"></div>
                  </div>
                </div>
              </div>

              <!-- 判题统计 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4">判题统计</h3>
                <div class="space-y-3">
                  <div class="flex justify-between items-center">
                    <span class="text-dark-2">今日判题数</span>
                    <span class="font-medium text-primary">1,256</span>
                  </div>
                  <div class="flex justify-between items-center">
                    <span class="text-dark-2">平均判题时间</span>
                    <span class="font-medium text-success">2.3s</span>
                  </div>
                  <div class="flex justify-between items-center">
                    <span class="text-dark-2">判题队列长度</span>
                    <span class="font-medium text-warning">12</span>
                  </div>
                  <div class="flex justify-between items-center">
                    <span class="text-dark-2">判题成功率</span>
                    <span class="font-medium text-success">99.2%</span>
                  </div>
                </div>
              </div>

              <!-- 错误日志统计 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4">错误日志统计</h3>
                <div class="h-48 bg-white rounded-lg p-4 flex items-center justify-center border border-light-1">
                  <div class="text-center">
                    <i class="fa fa-exclamation-triangle text-3xl text-warning mb-2"></i>
                    <p class="text-dark-2">错误日志趋势</p>
                  </div>
                </div>
              </div>

              <!-- 数据库统计 -->
              <div class="bg-light-2 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-dark mb-4">数据库统计</h3>
                <div class="space-y-3">
                  <div class="flex justify-between items-center">
                    <span class="text-dark-2">数据库大小</span>
                    <span class="font-medium text-primary">2.3 GB</span>
                  </div>
                  <div class="flex justify-between items-center">
                    <span class="text-dark-2">连接数</span>
                    <span class="font-medium text-success">15/50</span>
                  </div>
                  <div class="flex justify-between items-center">
                    <span class="text-dark-2">查询响应时间</span>
                    <span class="font-medium text-warning">45ms</span>
                  </div>
                  <div class="flex justify-between items-center">
                    <span class="text-dark-2">缓存命中率</span>
                    <span class="font-medium text-success">89.5%</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 创建题目页面 -->
        <div id="createProblemPage" class="bg-white rounded-xl shadow-card p-4 mb-3">
          <div class="flex flex-wrap items-center justify-between mb-4">
            <h2 class="text-2xl font-bold text-dark">创建新题目</h2>
            <div class="flex space-x-2 mt-4 sm:mt-0">
              <button class="btn-secondary">
                <i class="fa fa-save mr-1"></i> 保存草稿
              </button>
              <button class="btn-primary">
                <i class="fa fa-check mr-1"></i> 发布题目
              </button>
            </div>
          </div>
          
          <form id="problemForm">
            <!-- 基本信息 -->
            <div class="mb-4">
              <h3 class="text-lg font-semibold text-dark mb-3 pb-2 border-b border-light-1">基本信息</h3>
              
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label for="problemTitle" class="form-label">题目名称 <span class="text-danger">*</span></label>
                  <input type="text" id="problemTitle" name="problemTitle" class="form-input" placeholder="请输入题目名称">
                  <div id="problemTitleError" class="form-error hidden">请输入题目名称</div>
                </div>
                
                <div>
                  <label for="problemId" class="form-label">题目ID <span class="text-danger">*</span></label>
                  <input type="text" id="problemId" name="problemId" class="form-input" placeholder="自动生成或自定义">
                  <div id="problemIdError" class="form-error hidden">请输入有效的题目ID</div>
                </div>
              </div>
              
              <div class="mb-4">
                <label for="problemCategory" class="form-label">题目分类 <span class="text-danger">*</span></label>
                <select id="problemCategory" name="problemCategory" class="form-input">
                  <option value="">请选择分类</option>
                  <option value="array">数组</option>
                  <option value="string">字符串</option>
                  <option value="linkedlist">链表</option>
                  <option value="stack">栈</option>
                  <option value="queue">队列</option>
                  <option value="tree">树</option>
                  <option value="graph">图</option>
                  <option value="dp">动态规划</option>
                  <option value="math">数学</option>
                  <option value="other">其他</option>
                </select>
                <div id="problemCategoryError" class="form-error hidden">请选择题目分类</div>
              </div>
              
              <div class="mb-4">
                <label for="problemDifficulty" class="form-label">难度 <span class="text-danger">*</span></label>
                <div class="flex space-x-4">
                  <label class="inline-flex items-center">
                    <input type="radio" name="problemDifficulty" value="easy" class="text-primary focus:ring-primary h-4 w-4">
                    <span class="ml-2 text-dark-2">简单</span>
                  </label>
                  <label class="inline-flex items-center">
                    <input type="radio" name="problemDifficulty" value="medium" class="text-primary focus:ring-primary h-4 w-4" checked="">
                    <span class="ml-2 text-dark-2">中等</span>
                  </label>
                  <label class="inline-flex items-center">
                    <input type="radio" name="problemDifficulty" value="hard" class="text-primary focus:ring-primary h-4 w-4">
                    <span class="ml-2 text-dark-2">困难</span>
                  </label>
                </div>
                <div id="problemDifficultyError" class="form-error hidden">请选择题目难度</div>
              </div>
              
              <div class="mb-4">
                <label for="problemTags" class="form-label">标签（用逗号分隔）</label>
                <input type="text" id="problemTags" name="problemTags" class="form-input" placeholder="例如：数组,排序,二分查找">
              </div>
            </div>
            
            <!-- 题目描述 -->
            <div class="mb-4">
              <h3 class="text-lg font-semibold text-dark mb-3 pb-2 border-b border-light-1">题目描述</h3>
              
              <div class="mb-4">
                <div class="flex justify-between mb-2">
                  <label for="problemDescription" class="form-label">题目描述 <span class="text-danger">*</span></label>
                  <div class="flex space-x-2">
                    <button type="button" class="text-dark-3 hover:text-primary text-sm transition-colors duration-200">
                      <i class="fa fa-bold"></i>
                    </button>
                    <button type="button" class="text-dark-3 hover:text-primary text-sm transition-colors duration-200">
                      <i class="fa fa-italic"></i>
                    </button>
                    <button type="button" class="text-dark-3 hover:text-primary text-sm transition-colors duration-200">
                      <i class="fa fa-link"></i>
                    </button>
                    <button type="button" class="text-dark-3 hover:text-primary text-sm transition-colors duration-200">
                      <i class="fa fa-code"></i>
                    </button>
                    <button type="button" class="text-dark-3 hover:text-primary text-sm transition-colors duration-200">
                      <i class="fa fa-list-ul"></i>
                    </button>
                    <button type="button" class="text-dark-3 hover:text-primary text-sm transition-colors duration-200">
                      <i class="fa fa-list-ol"></i>
                    </button>
                    <button type="button" class="text-dark-3 hover:text-primary text-sm transition-colors duration-200">
                      <i class="fa fa-image"></i>
                    </button>
                  </div>
                </div>
                <textarea id="problemDescription" name="problemDescription" rows="6" class="form-input" placeholder="请详细描述题目内容..."></textarea>
                <div id="problemDescriptionError" class="form-error hidden">请输入题目描述</div>
              </div>
              
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                  <div class="flex justify-between mb-2">
                    <label for="problemInput" class="form-label">输入描述 <span class="text-danger">*</span></label>
                  </div>
                  <textarea id="problemInput" name="problemInput" rows="4" class="form-input" placeholder="描述输入格式..."></textarea>
                  <div id="problemInputError" class="form-error hidden">请输入描述</div>
                </div>
                
                <div>
                  <div class="flex justify-between mb-2">
                    <label for="problemOutput" class="form-label">输出描述 <span class="text-danger">*</span></label>
                  </div>
                  <textarea id="problemOutput" name="problemOutput" rows="4" class="form-input" placeholder="描述输出格式..."></textarea>
                  <div id="problemOutputError" class="form-error hidden">请输入描述</div>
                </div>
              </div>
            </div>
            
            <!-- 示例 -->
            <div class="mb-4">
              <h3 class="text-lg font-semibold text-dark mb-3 pb-2 border-b border-light-1">示例</h3>
              
              <div id="examplesContainer">
                <div class="example-item mb-4 p-3 border border-light-1 rounded-lg hover:border-primary/30 transition-all duration-200">
                  <div class="flex justify-between items-center mb-3">
                    <h4 class="font-medium text-dark">示例 1</h4>
                    <button type="button" class="text-danger hover:text-danger/80 transition-colors duration-200 delete-example-btn">
                      <i class="fa fa-trash-o"></i>
                    </button>
                  </div>
                  
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                      <label class="form-label">输入</label>
                      <textarea rows="4" class="form-input example-input" placeholder="输入示例..."></textarea>
                    </div>
                    
                    <div>
                      <label class="form-label">输出</label>
                      <textarea rows="4" class="form-input example-output" placeholder="输出示例..."></textarea>
                    </div>
                  </div>
                  
                  <div>
                    <label class="form-label">解释</label>
                    <textarea rows="2" class="form-input example-explanation" placeholder="对示例进行解释..."></textarea>
                  </div>
                </div>
              </div>
              
              <button type="button" id="addExampleBtn" class="mt-2 text-primary hover:text-primary/80 transition-colors duration-200 flex items-center">
                <i class="fa fa-plus-circle mr-1"></i> 添加示例
              </button>
            </div>
            
            <!-- 测试用例 -->
            <div class="mb-6">
              <h3 class="text-lg font-semibold text-dark mb-4 pb-2 border-b border-light-1">测试用例</h3>
              
              <div class="flex justify-between items-center mb-4">
                <p class="text-dark-3 text-sm">测试用例用于验证用户提交的代码是否正确。至少需要一个标准测试用例和一个隐藏测试用例。</p>
                <div class="flex space-x-2">
                  <button type="button" id="addTestCaseBtn" class="btn-primary">
                    <i class="fa fa-plus mr-1"></i> 添加测试用例
                  </button>
                  <button type="button" id="uploadTestCasesBtn" class="btn-secondary">
                    <i class="fa fa-upload mr-1"></i> 批量上传
                  </button>
                </div>
              </div>
              
              <div id="testCasesContainer">
                <div class="test-case-item mb-6 p-4 border border-light-1 rounded-lg hover:border-primary/30 transition-all duration-200">
                  <div class="flex justify-between items-center mb-3">
                    <div class="flex items-center">
                      <span class="font-medium text-dark">测试用例 1</span>
                      <span class="ml-2 px-2 py-0.5 bg-primary/10 text-primary text-xs rounded-full">标准</span>
                    </div>
                    <div class="flex space-x-2">
                      <button type="button" class="text-primary hover:text-primary/80 transition-colors duration-200 toggle-test-case-btn">
                        <i class="fa fa-chevron-down"></i>
                      </button>
                      <button type="button" class="text-danger hover:text-danger/80 transition-colors duration-200 delete-test-case-btn">
                        <i class="fa fa-trash-o"></i>
                      </button>
                    </div>
                  </div>
                  
                  <div class="test-case-content">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                      <div>
                        <label class="form-label">输入</label>
                        <textarea rows="4" class="form-input test-case-input" placeholder="测试用例输入..."></textarea>
                      </div>
                      
                      <div>
                        <label class="form-label">输出</label>
                        <textarea rows="4" class="form-input test-case-output" placeholder="测试用例输出..."></textarea>
                      </div>
                    </div>
                    
                    <div class="flex items-center space-x-4 mb-4">
                      <label class="inline-flex items-center">
                        <input type="checkbox" name="testCaseVisibility" class="text-primary focus:ring-primary h-4 w-4" checked="">
                        <span class="ml-2 text-dark-2">显示给用户</span>
                      </label>
                      <label class="inline-flex items-center">
                        <input type="checkbox" name="testCaseSample" class="text-primary focus:ring-primary h-4 w-4" checked="">
                        <span class="ml-2 text-dark-2">示例测试用例</span>
                      </label>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div>
                        <label class="form-label">时间限制 (秒)</label>
                        <input type="number" value="1" min="0.1" step="0.1" class="form-input test-case-time-limit">
                      </div>
                      
                      <div>
                        <label class="form-label">内存限制 (MB)</label>
                        <input type="number" value="256" min="1" class="form-input test-case-memory-limit">
                      </div>
                    </div>
                  </div>
                </div>
                
                <div class="test-case-item mb-6 p-4 border border-light-1 rounded-lg hover:border-primary/30 transition-all duration-200">
                  <div class="flex justify-between items-center mb-3">
                    <div class="flex items-center">
                      <span class="font-medium text-dark">测试用例 2</span>
                      <span class="ml-2 px-2 py-0.5 bg-warning/10 text-warning text-xs rounded-full">隐藏</span>
                    </div>
                    <div class="flex space-x-2">
                      <button type="button" class="text-primary hover:text-primary/80 transition-colors duration-200 toggle-test-case-btn">
                        <i class="fa fa-chevron-down"></i>
                      </button>
                      <button type="button" class="text-danger hover:text-danger/80 transition-colors duration-200 delete-test-case-btn">
                        <i class="fa fa-trash-o"></i>
                      </button>
                    </div>
                  </div>
                  
                  <div class="test-case-content">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                      <div>
                        <label class="form-label">输入</label>
                        <textarea rows="4" class="form-input test-case-input" placeholder="测试用例输入..."></textarea>
                      </div>
                      
                      <div>
                        <label class="form-label">输出</label>
                        <textarea rows="4" class="form-input test-case-output" placeholder="测试用例输出..."></textarea>
                      </div>
                    </div>
                    
                    <div class="flex items-center space-x-4 mb-4">
                      <label class="inline-flex items-center">
                        <input type="checkbox" name="testCaseVisibility" class="text-primary focus:ring-primary h-4 w-4">
                        <span class="ml-2 text-dark-2">显示给用户</span>
                      </label>
                      <label class="inline-flex items-center">
                        <input type="checkbox" name="testCaseSample" class="text-primary focus:ring-primary h-4 w-4">
                        <span class="ml-2 text-dark-2">示例测试用例</span>
                      </label>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div>
                        <label class="form-label">时间限制 (秒)</label>
                        <input type="number" value="1" min="0.1" step="0.1" class="form-input test-case-time-limit">
                      </div>
                      
                      <div>
                        <label class="form-label">内存限制 (MB)</label>
                        <input type="number" value="256" min="1" class="form-input test-case-memory-limit">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- 提示和备注 -->
            <div class="mb-6">
              <h3 class="text-lg font-semibold text-dark mb-4 pb-2 border-b border-light-1">提示和备注</h3>
              
              <div class="mb-4">
                <label for="problemHint" class="form-label">提示 (选填)</label>
                <textarea id="problemHint" name="problemHint" rows="3" class="form-input" placeholder="提供一些解题提示..."></textarea>
              </div>
              
              <div>
                <label for="problemNote" class="form-label">备注 (选填)</label>
                <textarea id="problemNote" name="problemNote" rows="3" class="form-input" placeholder="题目的额外说明或来源..."></textarea>
              </div>
            </div>
            
            <!-- 题目设置 -->
            <div class="mb-6">
              <h3 class="text-lg font-semibold text-dark mb-4 pb-2 border-b border-light-1">题目设置</h3>
              
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label for="problemPoints" class="form-label">分数 <span class="text-danger">*</span></label>
                  <input type="number" id="problemPoints" name="problemPoints" value="100" min="1" class="form-input">
                  <div id="problemPointsError" class="form-error hidden">请输入有效的分数</div>
                </div>
                
                <div>
                  <label for="problemSource" class="form-label">题目来源 (选填)</label>
                  <input type="text" id="problemSource" name="problemSource" class="form-input" placeholder="如：LeetCode, 牛客网等">
                </div>
              </div>
              
              <div class="mb-4">
                <label class="form-label">支持的编程语言</label>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
                  <label class="inline-flex items-center">
                    <input type="checkbox" name="supportedLanguages" value="c" class="text-primary focus:ring-primary h-4 w-4" checked="">
                    <span class="ml-2 text-dark-2">C</span>
                  </label>
                  <label class="inline-flex items-center">
                    <input type="checkbox" name="supportedLanguages" value="cpp" class="text-primary focus:ring-primary h-4 w-4" checked="">
                    <span class="ml-2 text-dark-2">C++</span>
                  </label>
                  <label class="inline-flex items-center">
                    <input type="checkbox" name="supportedLanguages" value="java" class="text-primary focus:ring-primary h-4 w-4" checked="">
                    <span class="ml-2 text-dark-2">Java</span>
                  </label>
                  <label class="inline-flex items-center">
                    <input type="checkbox" name="supportedLanguages" value="python2" class="text-primary focus:ring-primary h-4 w-4">
                    <span class="ml-2 text-dark-2">Python 2</span>
                  </label>
                  <label class="inline-flex items-center">
                    <input type="checkbox" name="supportedLanguages" value="python3" class="text-primary focus:ring-primary h-4 w-4" checked="">
                    <span class="ml-2 text-dark-2">Python 3</span>
                  </label>
                  <label class="inline-flex items-center">
                    <input type="checkbox" name="supportedLanguages" value="javascript" class="text-primary focus:ring-primary h-4 w-4" checked="">
                    <span class="ml-2 text-dark-2">JavaScript</span>
                  </label>
                  <label class="inline-flex items-center">
                    <input type="checkbox" name="supportedLanguages" value="csharp" class="text-primary focus:ring-primary h-4 w-4">
                    <span class="ml-2 text-dark-2">C#</span>
                  </label>
                  <label class="inline-flex items-center">
                    <input type="checkbox" name="supportedLanguages" value="go" class="text-primary focus:ring-primary h-4 w-4">
                    <span class="ml-2 text-dark-2">Go</span>
                  </label>
                </div>
              </div>
              
              <div class="mb-4">
                <label class="form-label">特殊判题</label>
                <div class="flex items-center space-x-4">
                  <label class="inline-flex items-center">
                    <input type="radio" name="judgeType" value="standard" class="text-primary focus:ring-primary h-4 w-4" checked="">
                    <span class="ml-2 text-dark-2">标准判题</span>
                  </label>
                  <label class="inline-flex items-center">
                    <input type="radio" name="judgeType" value="spj" class="text-primary focus:ring-primary h-4 w-4">
                    <span class="ml-2 text-dark-2">特殊判题 (SPJ)</span>
                  </label>
                  <label class="inline-flex items-center">
                    <input type="radio" name="judgeType" value="interactive" class="text-primary focus:ring-primary h-4 w-4">
                    <span class="ml-2 text-dark-2">交互式判题</span>
                  </label>
                </div>
              </div>
              
              <div class="mb-4">
                <label class="form-label">题目状态</label>
                <div class="flex items-center space-x-4">
                  <label class="inline-flex items-center">
                    <input type="radio" name="problemStatus" value="published" class="text-primary focus:ring-primary h-4 w-4" checked="">
                    <span class="ml-2 text-dark-2">已发布</span>
                  </label>
                  <label class="inline-flex items-center">
                    <input type="radio" name="problemStatus" value="draft" class="text-primary focus:ring-primary h-4 w-4">
                    <span class="ml-2 text-dark-2">草稿</span>
                  </label>
                  <label class="inline-flex items-center">
                    <input type="radio" name="problemStatus" value="hidden" class="text-primary focus:ring-primary h-4 w-4">
                    <span class="ml-2 text-dark-2">隐藏</span>
                  </label>
                </div>
              </div>
              
              <div>
                <label class="form-label">开启讨论</label>
                <div class="flex items-center space-x-4">
                  <label class="inline-flex items-center">
                    <input type="radio" name="discussionEnabled" value="true" class="text-primary focus:ring-primary h-4 w-4" checked="">
                    <span class="ml-2 text-dark-2">是</span>
                  </label>
                  <label class="inline-flex items-center">
                    <input type="radio" name="discussionEnabled" value="false" class="text-primary focus:ring-primary h-4 w-4">
                    <span class="ml-2 text-dark-2">否</span>
                  </label>
                </div>
              </div>
            </div>
            
            <!-- 提交按钮 -->
            <div class="flex justify-end space-x-3 pt-4 border-t border-light-1">
              <button type="button" class="btn-secondary">
                <i class="fa fa-times mr-1"></i> 取消
              </button>
              <button type="button" class="btn-secondary">
                <i class="fa fa-save mr-1"></i> 保存草稿
              </button>
              <button type="submit" class="btn-primary">
                <i class="fa fa-check mr-1"></i> 发布题目
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </main>

  <!-- 页脚 -->
  <footer class="footer">
    <div class="footer-content">
      <ul class="footer-links">
        <li><a href="#" class="footer-link">关于我们</a></li>
        <li><a href="#" class="footer-link">帮助中心</a></li>
        <li><a href="#" class="footer-link">学习资料</a></li>
        <li><a href="#" class="footer-link">联系我们</a></li>
      </ul>
      <div class="copyright">
        © 2023 SwustOJ - 西南科技大学在线编程评测平台
      </div>
    </div>
  </footer>

  <!-- JavaScript -->
  <script>
    // 页面切换功能
    function showProblemList() {
      // 显示/隐藏页面
      document.getElementById('problemListPage').style.display = 'block';
      document.getElementById('createProblemPage').style.display = 'none';
      document.getElementById('categoryPage').style.display = 'none';
      document.getElementById('importExportPage').style.display = 'none';
      document.getElementById('userManagementPage').style.display = 'none';
      document.getElementById('addUserPage').style.display = 'none';
      document.getElementById('roleManagementPage').style.display = 'none';

      // 切换侧边栏
      document.getElementById('problemSidebar').style.display = 'block';
      document.getElementById('userSidebar').style.display = 'none';

      // 更新侧边栏按钮状态
      document.getElementById('problemListBtn').className = 'flex items-center px-3 py-2 bg-primary/10 text-primary rounded-md font-medium';
      document.getElementById('createProblemBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('categoryBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('importExportBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';

      // 更新面包屑
      updateBreadcrumb('题目列表', '题目管理');
    }

    function showCreateProblem() {
      // 显示/隐藏页面
      document.getElementById('problemListPage').style.display = 'none';
      document.getElementById('createProblemPage').style.display = 'block';
      document.getElementById('categoryPage').style.display = 'none';
      document.getElementById('importExportPage').style.display = 'none';
      document.getElementById('userManagementPage').style.display = 'none';
      document.getElementById('addUserPage').style.display = 'none';
      document.getElementById('roleManagementPage').style.display = 'none';
      document.getElementById('permissionSettingsPage').style.display = 'none';
      document.getElementById('contestManagementPage').style.display = 'none';
      document.getElementById('createContestPage').style.display = 'none';
      document.getElementById('contestCategoryPage').style.display = 'none';
      document.getElementById('contestSettingsPage').style.display = 'none';
      document.getElementById('statisticsPage').style.display = 'none';

      // 切换侧边栏
      document.getElementById('problemSidebar').style.display = 'block';
      document.getElementById('userSidebar').style.display = 'none';
      document.getElementById('contestSidebar').style.display = 'none';
      document.getElementById('statisticsSidebar').style.display = 'none';

      // 更新侧边栏按钮状态
      document.getElementById('problemListBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('createProblemBtn').className = 'flex items-center px-3 py-2 bg-primary/10 text-primary rounded-md font-medium';
      document.getElementById('categoryBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('importExportBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';

      // 更新面包屑
      updateBreadcrumb('创建题目', '题目管理');
    }

    function showCategory() {
      // 显示/隐藏页面
      document.getElementById('problemListPage').style.display = 'none';
      document.getElementById('createProblemPage').style.display = 'none';
      document.getElementById('categoryPage').style.display = 'block';
      document.getElementById('importExportPage').style.display = 'none';
      document.getElementById('userManagementPage').style.display = 'none';
      document.getElementById('addUserPage').style.display = 'none';

      // 切换侧边栏
      document.getElementById('problemSidebar').style.display = 'block';
      document.getElementById('userSidebar').style.display = 'none';

      // 更新侧边栏按钮状态
      document.getElementById('problemListBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('createProblemBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('categoryBtn').className = 'flex items-center px-3 py-2 bg-primary/10 text-primary rounded-md font-medium';
      document.getElementById('importExportBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';

      // 更新面包屑
      updateBreadcrumb('题目分类', '题目管理');
    }

    function showImportExport() {
      // 显示/隐藏页面
      document.getElementById('problemListPage').style.display = 'none';
      document.getElementById('createProblemPage').style.display = 'none';
      document.getElementById('categoryPage').style.display = 'none';
      document.getElementById('importExportPage').style.display = 'block';
      document.getElementById('userManagementPage').style.display = 'none';
      document.getElementById('addUserPage').style.display = 'none';

      // 切换侧边栏
      document.getElementById('problemSidebar').style.display = 'block';
      document.getElementById('userSidebar').style.display = 'none';

      // 更新侧边栏按钮状态
      document.getElementById('problemListBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('createProblemBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('categoryBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('importExportBtn').className = 'flex items-center px-3 py-2 bg-primary/10 text-primary rounded-md font-medium';

      // 更新面包屑
      updateBreadcrumb('导入/导出', '题目管理');
    }

    function showProblemManagement() {
      // 默认显示创建题目页面
      showCreateProblem();

      // 更新导航栏按钮状态
      document.getElementById('problemManagementBtn').className = 'text-primary font-medium border-b-2 border-primary pb-1';
      document.getElementById('userManagementBtn').className = 'text-dark-2 hover:text-primary transition-colors duration-200';
      document.getElementById('contestManagementBtn').className = 'text-dark-2 hover:text-primary transition-colors duration-200';
    }

    function showUserManagement() {
      // 显示/隐藏页面
      document.getElementById('problemListPage').style.display = 'none';
      document.getElementById('createProblemPage').style.display = 'none';
      document.getElementById('categoryPage').style.display = 'none';
      document.getElementById('importExportPage').style.display = 'none';
      document.getElementById('userManagementPage').style.display = 'block';
      document.getElementById('addUserPage').style.display = 'none';
      document.getElementById('roleManagementPage').style.display = 'none';
      document.getElementById('permissionSettingsPage').style.display = 'none';
      document.getElementById('contestManagementPage').style.display = 'none';

      // 切换侧边栏
      document.getElementById('problemSidebar').style.display = 'none';
      document.getElementById('userSidebar').style.display = 'block';
      document.getElementById('contestSidebar').style.display = 'none';

      // 更新导航栏按钮状态
      document.getElementById('problemManagementBtn').className = 'text-dark-2 hover:text-primary transition-colors duration-200';
      document.getElementById('userManagementBtn').className = 'text-primary font-medium border-b-2 border-primary pb-1';
      document.getElementById('contestManagementBtn').className = 'text-dark-2 hover:text-primary transition-colors duration-200';

      // 更新用户管理侧边栏按钮状态
      document.getElementById('userListBtn').className = 'flex items-center px-3 py-2 bg-primary/10 text-primary rounded-md font-medium';
      document.getElementById('addUserBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('roleManagementBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('permissionBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';

      // 更新面包屑
      updateBreadcrumb('用户列表', '用户管理');
    }

    function updateBreadcrumb(currentPage, module = null) {
      const breadcrumbCurrent = document.getElementById('breadcrumbCurrent');
      const breadcrumbModule = document.getElementById('breadcrumbModule');
      const breadcrumbModuleLink = document.getElementById('breadcrumbModuleLink');

      if (breadcrumbCurrent) {
        breadcrumbCurrent.textContent = currentPage;
      }

      if (module) {
        // 显示模块层级
        breadcrumbModule.style.display = 'block';
        breadcrumbModuleLink.textContent = module;

        // 设置模块链接的点击事件
        if (module === '题目管理') {
          breadcrumbModuleLink.onclick = function() { showProblemManagement(); };
        } else if (module === '用户管理') {
          breadcrumbModuleLink.onclick = function() { showUserManagement(); };
        } else if (module === '比赛管理') {
          breadcrumbModuleLink.onclick = function() { showContestManagement(); };
        } else if (module === '统计分析') {
          breadcrumbModuleLink.onclick = function() { showStatistics(); };
        }
      } else {
        // 隐藏模块层级，直接显示页面
        breadcrumbModule.style.display = 'none';
      }
    }

    // 分类管理功能
    function showAddCategoryModal() {
      alert('添加分类功能开发中...');
    }

    function editCategory(categoryName) {
      alert('编辑分类 "' + categoryName + '" 功能开发中...');
    }

    // 用户管理功能
    function showAddUserModal() {
      // 显示/隐藏页面
      document.getElementById('problemListPage').style.display = 'none';
      document.getElementById('createProblemPage').style.display = 'none';
      document.getElementById('categoryPage').style.display = 'none';
      document.getElementById('importExportPage').style.display = 'none';
      document.getElementById('userManagementPage').style.display = 'none';
      document.getElementById('addUserPage').style.display = 'block';
      document.getElementById('roleManagementPage').style.display = 'none';
      document.getElementById('permissionSettingsPage').style.display = 'none';

      // 切换侧边栏
      document.getElementById('problemSidebar').style.display = 'none';
      document.getElementById('userSidebar').style.display = 'block';

      // 更新导航栏按钮状态
      document.getElementById('problemManagementBtn').className = 'text-dark-2 hover:text-primary transition-colors duration-200';
      document.getElementById('userManagementBtn').className = 'text-primary font-medium border-b-2 border-primary pb-1';

      // 更新用户管理侧边栏按钮状态
      document.getElementById('userListBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('addUserBtn').className = 'flex items-center px-3 py-2 bg-primary/10 text-primary rounded-md font-medium';
      document.getElementById('roleManagementBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('permissionBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';

      // 更新面包屑
      updateBreadcrumb('添加用户', '用户管理');
    }

    function editUser(userName) {
      alert('编辑用户 "' + userName + '" 功能开发中...');
    }

    // 用户管理侧边栏功能
    function showRoleManagement() {
      // 显示/隐藏页面
      document.getElementById('problemListPage').style.display = 'none';
      document.getElementById('createProblemPage').style.display = 'none';
      document.getElementById('categoryPage').style.display = 'none';
      document.getElementById('importExportPage').style.display = 'none';
      document.getElementById('userManagementPage').style.display = 'none';
      document.getElementById('addUserPage').style.display = 'none';
      document.getElementById('roleManagementPage').style.display = 'block';

      // 切换侧边栏
      document.getElementById('problemSidebar').style.display = 'none';
      document.getElementById('userSidebar').style.display = 'block';

      // 更新导航栏按钮状态
      document.getElementById('problemManagementBtn').className = 'text-dark-2 hover:text-primary transition-colors duration-200';
      document.getElementById('userManagementBtn').className = 'text-primary font-medium border-b-2 border-primary pb-1';

      // 更新用户管理侧边栏按钮状态
      document.getElementById('userListBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('addUserBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('roleManagementBtn').className = 'flex items-center px-3 py-2 bg-primary/10 text-primary rounded-md font-medium';
      document.getElementById('permissionBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';

      // 更新面包屑
      updateBreadcrumb('角色管理', '用户管理');
    }

    function showPermissionSettings() {
      // 显示/隐藏页面
      document.getElementById('problemListPage').style.display = 'none';
      document.getElementById('createProblemPage').style.display = 'none';
      document.getElementById('categoryPage').style.display = 'none';
      document.getElementById('importExportPage').style.display = 'none';
      document.getElementById('userManagementPage').style.display = 'none';
      document.getElementById('addUserPage').style.display = 'none';
      document.getElementById('roleManagementPage').style.display = 'none';
      document.getElementById('permissionSettingsPage').style.display = 'block';

      // 切换侧边栏
      document.getElementById('problemSidebar').style.display = 'none';
      document.getElementById('userSidebar').style.display = 'block';

      // 更新导航栏按钮状态
      document.getElementById('problemManagementBtn').className = 'text-dark-2 hover:text-primary transition-colors duration-200';
      document.getElementById('userManagementBtn').className = 'text-primary font-medium border-b-2 border-primary pb-1';

      // 更新用户管理侧边栏按钮状态
      document.getElementById('userListBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('addUserBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('roleManagementBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('permissionBtn').className = 'flex items-center px-3 py-2 bg-primary/10 text-primary rounded-md font-medium';

      // 更新面包屑
      updateBreadcrumb('权限设置', '用户管理');
    }

    // 添加用户页面功能
    function saveUser() {
      // 获取表单数据
      const form = document.getElementById('addUserForm');
      const formData = new FormData(form);

      // 基本验证
      let isValid = true;

      // 验证用户名
      const userName = document.getElementById('userName').value.trim();
      if (!userName) {
        document.getElementById('userNameError').classList.remove('hidden');
        isValid = false;
      } else {
        document.getElementById('userNameError').classList.add('hidden');
      }

      // 验证真实姓名
      const realName = document.getElementById('realName').value.trim();
      if (!realName) {
        document.getElementById('realNameError').classList.remove('hidden');
        isValid = false;
      } else {
        document.getElementById('realNameError').classList.add('hidden');
      }

      // 验证邮箱
      const userEmail = document.getElementById('userEmail').value.trim();
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!userEmail || !emailRegex.test(userEmail)) {
        document.getElementById('userEmailError').classList.remove('hidden');
        isValid = false;
      } else {
        document.getElementById('userEmailError').classList.add('hidden');
      }

      // 验证密码
      const userPassword = document.getElementById('userPassword').value;
      if (!userPassword || userPassword.length < 6) {
        document.getElementById('userPasswordError').classList.remove('hidden');
        isValid = false;
      } else {
        document.getElementById('userPasswordError').classList.add('hidden');
      }

      // 验证确认密码
      const confirmPassword = document.getElementById('confirmPassword').value;
      if (userPassword !== confirmPassword) {
        document.getElementById('confirmPasswordError').classList.remove('hidden');
        isValid = false;
      } else {
        document.getElementById('confirmPasswordError').classList.add('hidden');
      }

      // 验证用户角色
      const userRole = document.getElementById('userRole').value;
      if (!userRole) {
        document.getElementById('userRoleError').classList.remove('hidden');
        isValid = false;
      } else {
        document.getElementById('userRoleError').classList.add('hidden');
      }

      if (isValid) {
        // 模拟保存用户
        alert('用户添加成功！\n\n用户名: ' + userName + '\n姓名: ' + realName + '\n邮箱: ' + userEmail + '\n角色: ' + userRole);

        // 清空表单
        form.reset();
        document.getElementById('avatarPreview').src = 'https://i.pravatar.cc/80?img=0';

        // 返回用户管理页面
        showUserManagement();
      }
    }

    // 头像预览功能
    function previewAvatar(input) {
      if (input.files && input.files[0]) {
        const reader = new FileReader();
        reader.onload = function(e) {
          document.getElementById('avatarPreview').src = e.target.result;
        };
        reader.readAsDataURL(input.files[0]);
      }
    }

    // 生成随机头像
    function generateRandomAvatar() {
      const randomId = Math.floor(Math.random() * 70) + 1;
      document.getElementById('avatarPreview').src = 'https://i.pravatar.cc/80?img=' + randomId;
    }

    // 角色管理功能
    function showAddRoleModal() {
      alert('添加角色功能开发中...\n\n将包含以下功能：\n- 角色名称设置\n- 权限配置\n- 角色描述\n- 用户分配');
    }

    function editRole(roleName) {
      alert('编辑角色 "' + roleName + '" 功能开发中...\n\n将包含以下功能：\n- 修改角色权限\n- 更新角色描述\n- 管理角色用户\n- 角色状态设置');
    }

    function viewRoleUsers(roleName) {
      alert('查看角色 "' + roleName + '" 的用户列表功能开发中...\n\n将显示：\n- 该角色下的所有用户\n- 用户详细信息\n- 角色分配时间\n- 批量管理操作');
    }

    function deleteRole(roleName) {
      if (confirm('确定要删除角色 "' + roleName + '" 吗？\n\n注意：删除角色后，该角色下的用户将失去相应权限。')) {
        alert('删除角色 "' + roleName + '" 功能开发中...\n\n将包含以下处理：\n- 角色权限回收\n- 用户角色重新分配\n- 相关数据清理');
      }
    }

    // 权限设置功能
    function showPermissionTab(tabName) {
      // 隐藏所有权限标签页
      document.getElementById('systemPermissions').style.display = 'none';
      document.getElementById('problemPermissions').style.display = 'none';
      document.getElementById('contestPermissions').style.display = 'none';
      document.getElementById('userPermissions').style.display = 'none';

      // 显示选中的标签页
      document.getElementById(tabName + 'Permissions').style.display = 'block';

      // 更新标签按钮状态
      document.getElementById('systemPermTab').className = 'px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2';
      document.getElementById('problemPermTab').className = 'px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2';
      document.getElementById('contestPermTab').className = 'px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2';
      document.getElementById('userPermTab').className = 'px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2';

      // 高亮当前选中的标签
      document.getElementById(tabName + 'PermTab').className = 'px-4 py-2 bg-primary text-white rounded-lg font-medium';
    }

    function savePermissionSettings() {
      // 收集所有权限设置
      const permissions = {
        system: [],
        problem: [],
        contest: [],
        user: []
      };

      // 收集系统权限
      const systemCheckboxes = document.querySelectorAll('#systemPermissions input[type="checkbox"]:checked:not([disabled])');
      systemCheckboxes.forEach(checkbox => {
        const label = checkbox.closest('label').querySelector('span').textContent;
        permissions.system.push(label);
      });

      // 收集题目权限
      const problemCheckboxes = document.querySelectorAll('#problemPermissions input[type="checkbox"]:checked');
      problemCheckboxes.forEach(checkbox => {
        permissions.problem.push(checkbox.nextElementSibling.textContent);
      });

      // 收集比赛权限
      const contestCheckboxes = document.querySelectorAll('#contestPermissions input[type="checkbox"]:checked');
      contestCheckboxes.forEach(checkbox => {
        permissions.contest.push(checkbox.nextElementSibling.textContent);
      });

      // 收集用户权限
      const userCheckboxes = document.querySelectorAll('#userPermissions input[type="checkbox"]:checked');
      userCheckboxes.forEach(checkbox => {
        permissions.user.push(checkbox.nextElementSibling.textContent);
      });

      // 模拟保存权限设置
      let message = '权限设置保存成功！\n\n已配置的权限：\n';

      if (permissions.system.length > 0) {
        message += '\n系统权限：\n' + permissions.system.join('\n');
      }
      if (permissions.problem.length > 0) {
        message += '\n\n题目权限：\n' + permissions.problem.join('\n');
      }
      if (permissions.contest.length > 0) {
        message += '\n\n比赛权限：\n' + permissions.contest.join('\n');
      }
      if (permissions.user.length > 0) {
        message += '\n\n用户权限：\n' + permissions.user.join('\n');
      }

      alert(message);
    }

    // 比赛管理功能
    function showContestManagement() {
      // 显示/隐藏页面
      document.getElementById('problemListPage').style.display = 'none';
      document.getElementById('createProblemPage').style.display = 'none';
      document.getElementById('categoryPage').style.display = 'none';
      document.getElementById('importExportPage').style.display = 'none';
      document.getElementById('userManagementPage').style.display = 'none';
      document.getElementById('addUserPage').style.display = 'none';
      document.getElementById('roleManagementPage').style.display = 'none';
      document.getElementById('permissionSettingsPage').style.display = 'none';
      document.getElementById('contestManagementPage').style.display = 'block';
      document.getElementById('createContestPage').style.display = 'none';
      document.getElementById('contestCategoryPage').style.display = 'none';
      document.getElementById('contestSettingsPage').style.display = 'none';

      // 切换侧边栏
      document.getElementById('problemSidebar').style.display = 'none';
      document.getElementById('userSidebar').style.display = 'none';
      document.getElementById('contestSidebar').style.display = 'block';

      // 更新导航栏按钮状态
      document.getElementById('problemManagementBtn').className = 'text-dark-2 hover:text-primary transition-colors duration-200';
      document.getElementById('userManagementBtn').className = 'text-dark-2 hover:text-primary transition-colors duration-200';
      document.getElementById('contestManagementBtn').className = 'text-primary font-medium border-b-2 border-primary pb-1';

      // 更新比赛管理侧边栏按钮状态
      document.getElementById('contestListBtn').className = 'flex items-center px-3 py-2 bg-primary/10 text-primary rounded-md font-medium';
      document.getElementById('createContestBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('contestCategoryBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('contestSettingsBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';

      // 更新面包屑
      updateBreadcrumb('比赛列表', '比赛管理');
    }

    function showCreateContestModal() {
      // 显示/隐藏页面
      document.getElementById('problemListPage').style.display = 'none';
      document.getElementById('createProblemPage').style.display = 'none';
      document.getElementById('categoryPage').style.display = 'none';
      document.getElementById('importExportPage').style.display = 'none';
      document.getElementById('userManagementPage').style.display = 'none';
      document.getElementById('addUserPage').style.display = 'none';
      document.getElementById('roleManagementPage').style.display = 'none';
      document.getElementById('permissionSettingsPage').style.display = 'none';
      document.getElementById('contestManagementPage').style.display = 'none';
      document.getElementById('createContestPage').style.display = 'block';

      // 切换侧边栏
      document.getElementById('problemSidebar').style.display = 'none';
      document.getElementById('userSidebar').style.display = 'none';
      document.getElementById('contestSidebar').style.display = 'block';

      // 更新导航栏按钮状态
      document.getElementById('problemManagementBtn').className = 'text-dark-2 hover:text-primary transition-colors duration-200';
      document.getElementById('userManagementBtn').className = 'text-dark-2 hover:text-primary transition-colors duration-200';
      document.getElementById('contestManagementBtn').className = 'text-primary font-medium border-b-2 border-primary pb-1';

      // 更新比赛管理侧边栏按钮状态
      document.getElementById('contestListBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('createContestBtn').className = 'flex items-center px-3 py-2 bg-primary/10 text-primary rounded-md font-medium';
      document.getElementById('contestCategoryBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('contestSettingsBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';

      // 更新面包屑
      updateBreadcrumb('创建比赛', '比赛管理');
    }

    function showContestCategory() {
      // 显示/隐藏页面
      document.getElementById('problemListPage').style.display = 'none';
      document.getElementById('createProblemPage').style.display = 'none';
      document.getElementById('categoryPage').style.display = 'none';
      document.getElementById('importExportPage').style.display = 'none';
      document.getElementById('userManagementPage').style.display = 'none';
      document.getElementById('addUserPage').style.display = 'none';
      document.getElementById('roleManagementPage').style.display = 'none';
      document.getElementById('permissionSettingsPage').style.display = 'none';
      document.getElementById('contestManagementPage').style.display = 'none';
      document.getElementById('createContestPage').style.display = 'none';
      document.getElementById('contestCategoryPage').style.display = 'block';

      // 切换侧边栏
      document.getElementById('problemSidebar').style.display = 'none';
      document.getElementById('userSidebar').style.display = 'none';
      document.getElementById('contestSidebar').style.display = 'block';

      // 更新导航栏按钮状态
      document.getElementById('problemManagementBtn').className = 'text-dark-2 hover:text-primary transition-colors duration-200';
      document.getElementById('userManagementBtn').className = 'text-dark-2 hover:text-primary transition-colors duration-200';
      document.getElementById('contestManagementBtn').className = 'text-primary font-medium border-b-2 border-primary pb-1';

      // 更新比赛管理侧边栏按钮状态
      document.getElementById('contestListBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('createContestBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('contestCategoryBtn').className = 'flex items-center px-3 py-2 bg-primary/10 text-primary rounded-md font-medium';
      document.getElementById('contestSettingsBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';

      // 更新面包屑
      updateBreadcrumb('比赛分类', '比赛管理');
    }

    function showContestSettings() {
      // 显示/隐藏页面
      document.getElementById('problemListPage').style.display = 'none';
      document.getElementById('createProblemPage').style.display = 'none';
      document.getElementById('categoryPage').style.display = 'none';
      document.getElementById('importExportPage').style.display = 'none';
      document.getElementById('userManagementPage').style.display = 'none';
      document.getElementById('addUserPage').style.display = 'none';
      document.getElementById('roleManagementPage').style.display = 'none';
      document.getElementById('permissionSettingsPage').style.display = 'none';
      document.getElementById('contestManagementPage').style.display = 'none';
      document.getElementById('createContestPage').style.display = 'none';
      document.getElementById('contestCategoryPage').style.display = 'none';
      document.getElementById('contestSettingsPage').style.display = 'block';

      // 切换侧边栏
      document.getElementById('problemSidebar').style.display = 'none';
      document.getElementById('userSidebar').style.display = 'none';
      document.getElementById('contestSidebar').style.display = 'block';

      // 更新导航栏按钮状态
      document.getElementById('problemManagementBtn').className = 'text-dark-2 hover:text-primary transition-colors duration-200';
      document.getElementById('userManagementBtn').className = 'text-dark-2 hover:text-primary transition-colors duration-200';
      document.getElementById('contestManagementBtn').className = 'text-primary font-medium border-b-2 border-primary pb-1';

      // 更新比赛管理侧边栏按钮状态
      document.getElementById('contestListBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('createContestBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('contestCategoryBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('contestSettingsBtn').className = 'flex items-center px-3 py-2 bg-primary/10 text-primary rounded-md font-medium';

      // 更新面包屑
      updateBreadcrumb('比赛设置', '比赛管理');
    }

    function editContest(contestName) {
      alert('编辑比赛 "' + contestName + '" 功能开发中...\n\n将包含以下功能：\n- 修改比赛信息\n- 调整题目配置\n- 更新时间安排\n- 管理参赛人员');
    }

    function viewContestDetails(contestId) {
      alert('查看比赛详情 "' + contestId + '" 功能开发中...\n\n将显示：\n- 比赛详细信息\n- 题目列表和统计\n- 参赛人员名单\n- 实时比赛状态');
    }

    function viewContestRanking(contestId) {
      alert('查看比赛排名 "' + contestId + '" 功能开发中...\n\n将显示：\n- 实时排行榜\n- 详细得分情况\n- 解题统计分析\n- 排名变化趋势');
    }

    function cancelContest(contestId) {
      if (confirm('确定要取消比赛 "' + contestId + '" 吗？\n\n注意：取消后将通知所有参赛者，且无法恢复。')) {
        alert('取消比赛 "' + contestId + '" 功能开发中...\n\n将执行：\n- 发送取消通知\n- 退还报名费用\n- 更新比赛状态\n- 记录操作日志');
      }
    }

    function startContest(contestId) {
      if (confirm('确定要立即开始比赛 "' + contestId + '" 吗？\n\n比赛开始后将无法修改题目和规则。')) {
        alert('开始比赛 "' + contestId + '" 功能开发中...\n\n将执行：\n- 激活比赛系统\n- 发送开始通知\n- 开启提交通道\n- 启动计时器');
      }
    }

    function exportContestData(contestId) {
      alert('导出比赛数据 "' + contestId + '" 功能开发中...\n\n将导出：\n- 参赛人员信息\n- 提交记录详情\n- 排名和得分\n- 统计分析报告');
    }

    // 创建比赛页面功能
    function toggleProblemSelection() {
      const manualSelection = document.getElementById('manualSelection');
      const autoSelection = document.getElementById('autoSelection');
      const selectedValue = document.querySelector('input[name="problemSelection"]:checked').value;

      if (selectedValue === 'manual') {
        manualSelection.style.display = 'block';
        autoSelection.style.display = 'none';
      } else {
        manualSelection.style.display = 'none';
        autoSelection.style.display = 'block';
      }
    }

    function showProblemSelector() {
      alert('题目选择器功能开发中...\n\n将包含以下功能：\n- 题目库浏览\n- 按难度筛选\n- 按标签筛选\n- 题目预览\n- 批量选择');
    }

    function saveContest() {
      // 获取表单数据
      const form = document.getElementById('createContestForm');
      const formData = new FormData(form);

      // 基本验证
      let isValid = true;

      // 验证比赛标题
      const contestTitle = document.getElementById('contestTitle').value.trim();
      if (!contestTitle) {
        document.getElementById('contestTitleError').classList.remove('hidden');
        isValid = false;
      } else {
        document.getElementById('contestTitleError').classList.add('hidden');
      }

      // 验证比赛类型
      const contestType = document.getElementById('contestType').value;
      if (!contestType) {
        document.getElementById('contestTypeError').classList.remove('hidden');
        isValid = false;
      } else {
        document.getElementById('contestTypeError').classList.add('hidden');
      }

      // 验证开始日期
      const startDate = document.getElementById('startDate').value;
      if (!startDate) {
        document.getElementById('startDateError').classList.remove('hidden');
        isValid = false;
      } else {
        document.getElementById('startDateError').classList.add('hidden');
      }

      // 验证开始时间
      const startTime = document.getElementById('startTime').value;
      if (!startTime) {
        document.getElementById('startTimeError').classList.remove('hidden');
        isValid = false;
      } else {
        document.getElementById('startTimeError').classList.add('hidden');
      }

      // 验证比赛时长
      const duration = document.getElementById('duration').value;
      if (!duration) {
        document.getElementById('durationError').classList.remove('hidden');
        isValid = false;
      } else {
        document.getElementById('durationError').classList.add('hidden');
      }

      if (isValid) {
        // 收集参赛权限
        const allowedRoles = [];
        document.querySelectorAll('input[name="allowedRoles"]:checked').forEach(checkbox => {
          allowedRoles.push(checkbox.value);
        });

        // 模拟保存比赛
        let message = '比赛创建成功！\n\n';
        message += '比赛标题: ' + contestTitle + '\n';
        message += '比赛类型: ' + document.getElementById('contestType').selectedOptions[0].text + '\n';
        message += '开始时间: ' + startDate + ' ' + startTime + '\n';
        message += '比赛时长: ' + (duration === 'custom' ? document.getElementById('customDuration').value : duration) + '小时\n';
        message += '参赛权限: ' + allowedRoles.join(', ') + '\n';

        alert(message);

        // 清空表单
        form.reset();

        // 返回比赛管理页面
        showContestManagement();
      }
    }

    // 监听时长选择变化
    document.addEventListener('DOMContentLoaded', function() {
      const durationSelect = document.getElementById('duration');
      const customDurationDiv = document.getElementById('customDurationDiv');

      if (durationSelect) {
        durationSelect.addEventListener('change', function() {
          if (this.value === 'custom') {
            customDurationDiv.style.display = 'block';
          } else {
            customDurationDiv.style.display = 'none';
          }
        });
      }
    });

    // 比赛分类管理功能
    function showAddCategoryModal() {
      const categoryName = prompt('请输入新分类名称：');
      if (categoryName && categoryName.trim()) {
        const categoryDescription = prompt('请输入分类描述（可选）：');

        alert('创建分类成功！\n\n分类名称: ' + categoryName.trim() + '\n分类描述: ' + (categoryDescription || '无') + '\n\n新分类已添加到自定义分类列表中。');
      }
    }

    function editCategory(categoryName) {
      const newName = prompt('请输入新的分类名称：', categoryName);
      if (newName && newName.trim() && newName.trim() !== categoryName) {
        const newDescription = prompt('请输入新的分类描述（可选）：');

        alert('编辑分类成功！\n\n原名称: ' + categoryName + '\n新名称: ' + newName.trim() + '\n新描述: ' + (newDescription || '无') + '\n\n分类信息已更新。');
      }
    }

    function viewCategoryContests(categoryName) {
      let contestList = '';

      // 模拟不同分类的比赛数据
      switch(categoryName) {
        case '算法竞赛':
          contestList = '1. 2024年春季算法大赛\n2. 数据结构专题赛\n3. 动态规划挑战赛\n4. 图论算法竞赛\n5. 字符串算法专题\n...共15场比赛';
          break;
        case '编程竞赛':
          contestList = '1. 综合编程能力测试\n2. 代码质量评估赛\n3. 软件开发竞赛\n4. 项目实战挑战\n...共12场比赛';
          break;
        case 'ACM竞赛':
          contestList = '1. ACM校内选拔赛\n2. ACM区域赛模拟\n3. ICPC训练赛\n4. 团队协作竞赛\n...共8场比赛';
          break;
        case '信息学竞赛':
          contestList = '1. NOIP模拟赛\n2. 信息学奥赛训练\n3. 青少年编程竞赛\n...共6场比赛';
          break;
        case '专题竞赛':
          contestList = '1. 机器学习算法赛\n2. 网络安全挑战\n3. 数据库设计竞赛\n...共5场比赛';
          break;
        case '新手训练':
          contestList = '1. 编程入门挑战\n2. 基础算法练习\n...共2场比赛';
          break;
        default:
          contestList = '暂无关联比赛';
      }

      alert('分类 "' + categoryName + '" 关联的比赛：\n\n' + contestList);
    }

    function deleteCategory(categoryName) {
      if (confirm('确定要删除分类 "' + categoryName + '" 吗？\n\n注意：\n- 删除后无法恢复\n- 关联的比赛将移至"未分类"\n- 系统分类无法删除')) {
        alert('删除分类 "' + categoryName + '" 成功！\n\n该分类已从系统中移除，关联的比赛已移至"未分类"。');
      }
    }

    // 比赛设置页面功能
    function showSettingsTab(tabName) {
      // 隐藏所有设置标签页
      document.getElementById('generalSettings').style.display = 'none';
      document.getElementById('scoringSettings').style.display = 'none';
      document.getElementById('securitySettings').style.display = 'none';
      document.getElementById('notificationSettings').style.display = 'none';
      document.getElementById('advancedSettings').style.display = 'none';

      // 显示选中的标签页
      document.getElementById(tabName + 'Settings').style.display = 'block';

      // 更新标签按钮状态
      document.getElementById('generalSettingsTab').className = 'px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2';
      document.getElementById('scoringSettingsTab').className = 'px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2';
      document.getElementById('securitySettingsTab').className = 'px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2';
      document.getElementById('notificationSettingsTab').className = 'px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2';
      document.getElementById('advancedSettingsTab').className = 'px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2';

      // 高亮当前选中的标签
      document.getElementById(tabName + 'SettingsTab').className = 'px-4 py-2 bg-primary text-white rounded-lg font-medium';
    }

    function saveContestSettings() {
      // 收集所有设置数据
      const settings = {
        general: {},
        scoring: {},
        security: {},
        notification: {},
        advanced: {}
      };

      // 收集常规设置
      const generalInputs = document.querySelectorAll('#generalSettings input, #generalSettings select');
      generalInputs.forEach(input => {
        if (input.type === 'checkbox') {
          settings.general[input.name || input.id] = input.checked;
        } else {
          settings.general[input.name || input.id] = input.value;
        }
      });

      // 收集评分设置
      const scoringInputs = document.querySelectorAll('#scoringSettings input, #scoringSettings select');
      scoringInputs.forEach(input => {
        if (input.type === 'checkbox') {
          settings.scoring[input.name || input.id] = input.checked;
        } else {
          settings.scoring[input.name || input.id] = input.value;
        }
      });

      // 收集安全设置
      const securityInputs = document.querySelectorAll('#securitySettings input, #securitySettings select');
      securityInputs.forEach(input => {
        if (input.type === 'checkbox') {
          settings.security[input.name || input.id] = input.checked;
        } else {
          settings.security[input.name || input.id] = input.value;
        }
      });

      // 收集通知设置
      const notificationInputs = document.querySelectorAll('#notificationSettings input, #notificationSettings select');
      notificationInputs.forEach(input => {
        if (input.type === 'checkbox') {
          settings.notification[input.name || input.id] = input.checked;
        } else {
          settings.notification[input.name || input.id] = input.value;
        }
      });

      // 收集高级设置
      const advancedInputs = document.querySelectorAll('#advancedSettings input, #advancedSettings select');
      advancedInputs.forEach(input => {
        if (input.type === 'checkbox') {
          settings.advanced[input.name || input.id] = input.checked;
        } else {
          settings.advanced[input.name || input.id] = input.value;
        }
      });

      // 模拟保存设置
      let message = '比赛设置保存成功！\n\n主要配置更新：\n';

      message += '\n常规设置：\n';
      message += '- 默认比赛时长: 3小时\n';
      message += '- 默认题目数量: 5题\n';
      message += '- 参赛权限: 已配置\n';

      message += '\n评分设置：\n';
      message += '- ACM规则罚时: 20分钟\n';
      message += '- 封榜时间: 60分钟\n';
      message += '- 排名更新: 实时\n';

      message += '\n安全设置：\n';
      message += '- 代码相似度检测: 已启用\n';
      message += '- 访问控制: 已配置\n';
      message += '- 数据备份: 每15分钟\n';

      message += '\n通知设置：\n';
      message += '- 邮件通知: 已启用\n';
      message += '- 站内消息: 已启用\n';
      message += '- 推送优化: 已启用\n';

      alert(message);
    }

    // 导入/导出功能
    document.addEventListener('DOMContentLoaded', function() {
      // 文件拖拽上传功能
      const uploadArea = document.querySelector('.border-dashed');
      if (uploadArea) {
        uploadArea.addEventListener('dragover', function(e) {
          e.preventDefault();
          this.classList.add('border-blue-500', 'bg-blue-50');
        });

        uploadArea.addEventListener('dragleave', function(e) {
          e.preventDefault();
          this.classList.remove('border-blue-500', 'bg-blue-50');
        });

        uploadArea.addEventListener('drop', function(e) {
          e.preventDefault();
          this.classList.remove('border-blue-500', 'bg-blue-50');
          const files = e.dataTransfer.files;
          handleFileUpload(files);
        });
      }
    });

    function handleFileUpload(files) {
      for (let file of files) {
        console.log('上传文件:', file.name);
        // 这里可以添加实际的文件上传逻辑
      }
      alert('文件上传功能开发中...');
    }

    // 示例管理
    const examplesContainer = document.getElementById('examplesContainer');
    const addExampleBtn = document.getElementById('addExampleBtn');
    let exampleCount = 1;
    
    addExampleBtn.addEventListener('click', () => {
      exampleCount++;
      const exampleItem = document.createElement('div');
      exampleItem.className = 'example-item mb-6 p-4 border border-light-1 rounded-lg hover:border-primary/30 transition-all duration-200';
      exampleItem.innerHTML = `
        <div class="flex justify-between items-center mb-3">
          <h4 class="font-medium text-dark">示例 ${exampleCount}</h4>
          <button type="button" class="text-danger hover:text-danger/80 transition-colors duration-200 delete-example-btn">
            <i class="fa fa-trash-o"></i>
          </button>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
          <div>
            <label class="form-label">输入</label>
            <textarea rows="4" class="form-input example-input" placeholder="输入示例..."></textarea>
          </div>
          
          <div>
            <label class="form-label">输出</label>
            <textarea rows="4" class="form-input example-output" placeholder="输出示例..."></textarea>
          </div>
        </div>
        
        <div>
          <label class="form-label">解释</label>
          <textarea rows="2" class="form-input example-explanation" placeholder="对示例进行解释..."></textarea>
        </div>
      `;
      examplesContainer.appendChild(exampleItem);
      
      // 为新添加的删除按钮添加事件监听
      const deleteBtn = exampleItem.querySelector('.delete-example-btn');
      deleteBtn.addEventListener('click', () => {
        exampleItem.remove();
        updateExampleNumbers();
      });
    });
    
    // 更新示例编号
    function updateExampleNumbers() {
      const exampleItems = document.querySelectorAll('.example-item');
      exampleItems.forEach((item, index) => {
        item.querySelector('h4').textContent = `示例 ${index + 1}`;
      });
      exampleCount = exampleItems.length;
    }
    
    // 为现有的删除按钮添加事件监听
    document.querySelectorAll('.delete-example-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const exampleItem = btn.closest('.example-item');
        exampleItem.remove();
        updateExampleNumbers();
      });
    });
    
    // 测试用例管理
    const testCasesContainer = document.getElementById('testCasesContainer');
    const addTestCaseBtn = document.getElementById('addTestCaseBtn');
    let testCaseCount = 2;
    
    addTestCaseBtn.addEventListener('click', () => {
      testCaseCount++;
      const testCaseItem = document.createElement('div');
      testCaseItem.className = 'test-case-item mb-6 p-4 border border-light-1 rounded-lg hover:border-primary/30 transition-all duration-200';
      testCaseItem.innerHTML = `
        <div class="flex justify-between items-center mb-3">
          <div class="flex items-center">
            <span class="font-medium text-dark">测试用例 ${testCaseCount}</span>
            <span class="ml-2 px-2 py-0.5 bg-warning/10 text-warning text-xs rounded-full">隐藏</span>
          </div>
          <div class="flex space-x-2">
            <button type="button" class="text-primary hover:text-primary/80 transition-colors duration-200 toggle-test-case-btn">
              <i class="fa fa-chevron-down"></i>
            </button>
            <button type="button" class="text-danger hover:text-danger/80 transition-colors duration-200 delete-test-case-btn">
              <i class="fa fa-trash-o"></i>
            </button>
          </div>
        </div>
        
        <div class="test-case-content hidden">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
            <div>
              <label class="form-label">输入</label>
              <textarea rows="4" class="form-input test-case-input" placeholder="测试用例输入..."></textarea>
            </div>
            
            <div>
              <label class="form-label">输出</label>
              <textarea rows="4" class="form-input test-case-output" placeholder="测试用例输出..."></textarea>
            </div>
          </div>
          
          <div class="flex items-center space-x-4 mb-4">
            <label class="inline-flex items-center">
              <input type="checkbox" name="testCaseVisibility" class="text-primary focus:ring-primary h-4 w-4">
              <span class="ml-2 text-dark-2">显示给用户</span>
            </label>
            <label class="inline-flex items-center">
              <input type="checkbox" name="testCaseSample" class="text-primary focus:ring-primary h-4 w-4">
              <span class="ml-2 text-dark-2">示例测试用例</span>
            </label>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="form-label">时间限制 (秒)</label>
              <input type="number" value="1" min="0.1" step="0.1" class="form-input test-case-time-limit">
            </div>
            
            <div>
              <label class="form-label">内存限制 (MB)</label>
              <input type="number" value="256" min="1" class="form-input test-case-memory-limit">
            </div>
          </div>
        </div>
      `;
      testCasesContainer.appendChild(testCaseItem);
      
      // 为新添加的元素添加事件监听
      const toggleBtn = testCaseItem.querySelector('.toggle-test-case-btn');
      toggleBtn.addEventListener('click', () => {
        const content = testCaseItem.querySelector('.test-case-content');
        content.classList.toggle('hidden');
        toggleBtn.innerHTML = content.classList.contains('hidden') ? 
          '<i class="fa fa-chevron-down"></i>' : 
          '<i class="fa fa-chevron-up"></i>';
      });
      
      const deleteBtn = testCaseItem.querySelector('.delete-test-case-btn');
      deleteBtn.addEventListener('click', () => {
        testCaseItem.remove();
        updateTestCaseNumbers();
      });
      
      // 初始显示内容
      toggleBtn.click();
    });
    
    // 更新测试用例编号
    function updateTestCaseNumbers() {
      const testCaseItems = document.querySelectorAll('.test-case-item');
      testCaseItems.forEach((item, index) => {
        item.querySelector('.font-medium').textContent = `测试用例 ${index + 1}`;
      });
      testCaseCount = testCaseItems.length;
    }
    
    // 为现有的测试用例切换按钮添加事件监听
    document.querySelectorAll('.toggle-test-case-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const content = btn.closest('.test-case-item').querySelector('.test-case-content');
        content.classList.toggle('hidden');
        btn.innerHTML = content.classList.contains('hidden') ? 
          '<i class="fa fa-chevron-down"></i>' : 
          '<i class="fa fa-chevron-up"></i>';
      });
    });
    
    // 为现有的删除按钮添加事件监听
    document.querySelectorAll('.delete-test-case-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const testCaseItem = btn.closest('.test-case-item');
        testCaseItem.remove();
        updateTestCaseNumbers();
      });
    });
    
    // 表单验证
    const problemForm = document.getElementById('problemForm');
    problemForm.addEventListener('submit', (e) => {
      e.preventDefault();
      let isValid = true;
      
      // 验证题目名称
      const problemTitle = document.getElementById('problemTitle');
      const problemTitleError = document.getElementById('problemTitleError');
      if (!problemTitle.value.trim()) {
        problemTitleError.classList.remove('hidden');
        isValid = false;
      } else {
        problemTitleError.classList.add('hidden');
      }
      
      // 验证题目ID
      const problemId = document.getElementById('problemId');
      const problemIdError = document.getElementById('problemIdError');
      if (!problemId.value.trim()) {
        problemIdError.classList.remove('hidden');
        isValid = false;
      } else {
        problemIdError.classList.add('hidden');
      }
      
      // 验证题目分类
      const problemCategory = document.getElementById('problemCategory');
      const problemCategoryError = document.getElementById('problemCategoryError');
      if (!problemCategory.value) {
        problemCategoryError.classList.remove('hidden');
        isValid = false;
      } else {
        problemCategoryError.classList.add('hidden');
      }
      
      // 验证题目描述
      const problemDescription = document.getElementById('problemDescription');
      const problemDescriptionError = document.getElementById('problemDescriptionError');
      if (!problemDescription.value.trim()) {
        problemDescriptionError.classList.remove('hidden');
        isValid = false;
      } else {
        problemDescriptionError.classList.add('hidden');
      }
      
      // 验证输入描述
      const problemInput = document.getElementById('problemInput');
      const problemInputError = document.getElementById('problemInputError');
      if (!problemInput.value.trim()) {
        problemInputError.classList.remove('hidden');
        isValid = false;
      } else {
        problemInputError.classList.add('hidden');
      }
      
      // 验证输出描述
      const problemOutput = document.getElementById('problemOutput');
      const problemOutputError = document.getElementById('problemOutputError');
      if (!problemOutput.value.trim()) {
        problemOutputError.classList.remove('hidden');
        isValid = false;
      } else {
        problemOutputError.classList.add('hidden');
      }
      
      // 验证分数
      const problemPoints = document.getElementById('problemPoints');
      const problemPointsError = document.getElementById('problemPointsError');
      if (isNaN(parseInt(problemPoints.value)) || parseInt(problemPoints.value) <= 0) {
        problemPointsError.classList.remove('hidden');
        isValid = false;
      } else {
        problemPointsError.classList.add('hidden');
      }
      
      if (isValid) {
        // 提交表单数据
        alert('题目创建成功！');
        // 这里可以添加实际的表单提交逻辑
      }
    });
    
    // 实时验证
    document.querySelectorAll('.form-input').forEach(input => {
      input.addEventListener('blur', () => {
        // 这里可以添加实时验证逻辑
      });
    });
    
    // 批量上传测试用例
    const uploadTestCasesBtn = document.getElementById('uploadTestCasesBtn');
    uploadTestCasesBtn.addEventListener('click', () => {
      // 模拟上传功能
      alert('批量上传测试用例功能即将上线！');
    });
    
    // 模拟自动生成题目ID
    const problemTitle = document.getElementById('problemTitle');
    const problemId = document.getElementById('problemId');
    
    problemTitle.addEventListener('blur', () => {
      if (!problemId.value && problemTitle.value) {
        // 自动生成题目ID：将标题转换为小写并移除特殊字符，用连字符连接
        problemId.value = problemTitle.value
          .toLowerCase()
          .replace(/[^\w\s]/gi, '')
          .trim()
          .replace(/\s+/g, '-');
      }
    });

    // 统计分析功能
    function showStatistics() {
      // 显示/隐藏页面
      document.getElementById('problemListPage').style.display = 'none';
      document.getElementById('createProblemPage').style.display = 'none';
      document.getElementById('categoryPage').style.display = 'none';
      document.getElementById('importExportPage').style.display = 'none';
      document.getElementById('userManagementPage').style.display = 'none';
      document.getElementById('addUserPage').style.display = 'none';
      document.getElementById('roleManagementPage').style.display = 'none';
      document.getElementById('permissionSettingsPage').style.display = 'none';
      document.getElementById('contestManagementPage').style.display = 'none';
      document.getElementById('createContestPage').style.display = 'none';
      document.getElementById('contestCategoryPage').style.display = 'none';
      document.getElementById('contestSettingsPage').style.display = 'none';
      document.getElementById('statisticsPage').style.display = 'block';

      // 切换侧边栏
      document.getElementById('problemSidebar').style.display = 'none';
      document.getElementById('userSidebar').style.display = 'none';
      document.getElementById('contestSidebar').style.display = 'none';
      document.getElementById('statisticsSidebar').style.display = 'block';

      // 更新导航栏按钮状态
      document.getElementById('problemManagementBtn').className = 'text-dark-2 hover:text-primary transition-colors duration-200';
      document.getElementById('userManagementBtn').className = 'text-dark-2 hover:text-primary transition-colors duration-200';
      document.getElementById('contestManagementBtn').className = 'text-dark-2 hover:text-primary transition-colors duration-200';
      document.getElementById('statisticsBtn').className = 'text-primary font-medium border-b-2 border-primary pb-1';

      // 更新统计分析侧边栏按钮状态
      document.getElementById('overviewStatsBtn').className = 'flex items-center px-3 py-2 bg-primary/10 text-primary rounded-md font-medium';
      document.getElementById('userStatsBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('problemStatsBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('contestStatsBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('systemStatsBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';

      // 更新面包屑
      updateBreadcrumb('总览统计', '统计分析');
    }

    function showStatsTab(tabName) {
      // 隐藏所有统计标签页
      document.getElementById('overviewStats').style.display = 'none';
      document.getElementById('userStats').style.display = 'none';
      document.getElementById('problemStats').style.display = 'none';
      document.getElementById('contestStats').style.display = 'none';
      document.getElementById('systemStats').style.display = 'none';

      // 显示选中的标签页
      document.getElementById(tabName + 'Stats').style.display = 'block';

      // 更新标签按钮状态
      document.getElementById('overviewStatsTab').className = 'px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2';
      document.getElementById('userStatsTab').className = 'px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2';
      document.getElementById('problemStatsTab').className = 'px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2';
      document.getElementById('contestStatsTab').className = 'px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2';
      document.getElementById('systemStatsTab').className = 'px-4 py-2 bg-light-1 text-dark-2 rounded-lg hover:bg-light-2';

      // 高亮当前选中的标签
      document.getElementById(tabName + 'StatsTab').className = 'px-4 py-2 bg-primary text-white rounded-lg font-medium';

      // 更新侧边栏按钮状态
      document.getElementById('overviewStatsBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('userStatsBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('problemStatsBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('contestStatsBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';
      document.getElementById('systemStatsBtn').className = 'flex items-center px-3 py-2 text-dark-2 rounded-md hover:bg-light-1 transition-colors duration-200';

      // 高亮当前选中的侧边栏按钮
      document.getElementById(tabName + 'StatsBtn').className = 'flex items-center px-3 py-2 bg-primary/10 text-primary rounded-md font-medium';

      // 更新面包屑
      const tabNames = {
        'overview': '总览统计',
        'user': '用户统计',
        'problem': '题目统计',
        'contest': '比赛统计',
        'system': '系统统计'
      };
      updateBreadcrumb(tabNames[tabName], '统计分析');
    }

    function refreshStatistics() {
      // 模拟刷新统计数据
      const loadingMessage = '正在刷新统计数据...\n\n刷新内容：\n- 用户活跃度数据\n- 题目提交统计\n- 比赛参与情况\n- 系统性能指标\n- 实时在线用户';

      alert(loadingMessage);

      // 模拟刷新完成
      setTimeout(() => {
        alert('统计数据刷新完成！\n\n更新内容：\n- 总用户数: 1,248 (+12)\n- 今日活跃: 342 (+23)\n- 在线用户: 156 (+8)\n- 系统负载: 正常\n\n数据更新时间: ' + new Date().toLocaleString());
      }, 1000);
    }

    // 页面初始化
    document.addEventListener('DOMContentLoaded', function() {
      // 默认显示创建题目页面
      showCreateProblem();
    });
  </script>


    </body></html>